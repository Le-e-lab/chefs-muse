var g0=Object.defineProperty;var v0=(e,t,r)=>t in e?g0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var bt=(e,t,r)=>v0(e,typeof t!="symbol"?t+"":t,r);function y0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ys(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _s(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Th={exports:{}},ro={},bh={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),_0=Symbol.for("react.portal"),w0=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),O0=Symbol.for("react.memo"),I0=Symbol.for("react.lazy"),Pu=Symbol.iterator;function k0(e){return e===null||typeof e!="object"?null:(e=Pu&&e[Pu]||e["@@iterator"],typeof e=="function"?e:null)}var Nh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oh=Object.assign,Ih={};function yn(e,t,r){this.props=e,this.context=t,this.refs=Ih,this.updater=r||Nh}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kh(){}kh.prototype=yn.prototype;function Nl(e,t,r){this.props=e,this.context=t,this.refs=Ih,this.updater=r||Nh}var Ol=Nl.prototype=new kh;Ol.constructor=Nl;Oh(Ol,yn.prototype);Ol.isPureReactComponent=!0;var Du=Array.isArray,Ah=Object.prototype.hasOwnProperty,Il={current:null},Ch={key:!0,ref:!0,__self:!0,__source:!0};function Rh(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ah.call(t,n)&&!Ch.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ws,type:e,key:i,ref:o,props:s,_owner:Il.current}}function A0(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function C0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lu=/\/+/g;function bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C0(""+e.key):t.toString(36)}function ri(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ws:case _0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+bo(o,0):n,Du(s)?(r="",e!=null&&(r=e.replace(Lu,"$&/")+"/"),ri(s,t,r,"",function(u){return u})):s!=null&&(kl(s)&&(s=A0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Du(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+bo(i,a);o+=ri(i,t,r,l,s)}else if(l=k0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+bo(i,a++),o+=ri(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Is(e,t,r){if(e==null)return e;var n=[],s=0;return ri(e,n,"","",function(i){return t.call(r,i,s++)}),n}function R0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},ni={transition:null},j0={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ni,ReactCurrentOwner:Il};function jh(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Is,forEach:function(e,t,r){Is(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Is(e,function(){t++}),t},toArray:function(e){return Is(e,function(t){return t})||[]},only:function(e){if(!kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=yn;V.Fragment=w0;V.Profiler=x0;V.PureComponent=Nl;V.StrictMode=E0;V.Suspense=N0;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0;V.act=jh;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Oh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Il.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ah.call(t,l)&&!Ch.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ws,type:e.type,key:s,ref:i,props:n,_owner:o}};V.createContext=function(e){return e={$$typeof:T0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S0,_context:e},e.Consumer=e};V.createElement=Rh;V.createFactory=function(e){var t=Rh.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:b0,render:e}};V.isValidElement=kl;V.lazy=function(e){return{$$typeof:I0,_payload:{_status:-1,_result:e},_init:R0}};V.memo=function(e,t){return{$$typeof:O0,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ni.transition;ni.transition={};try{e()}finally{ni.transition=t}};V.unstable_act=jh;V.useCallback=function(e,t){return De.current.useCallback(e,t)};V.useContext=function(e){return De.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return De.current.useDeferredValue(e)};V.useEffect=function(e,t){return De.current.useEffect(e,t)};V.useId=function(){return De.current.useId()};V.useImperativeHandle=function(e,t,r){return De.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return De.current.useMemo(e,t)};V.useReducer=function(e,t,r){return De.current.useReducer(e,t,r)};V.useRef=function(e){return De.current.useRef(e)};V.useState=function(e){return De.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return De.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return De.current.useTransition()};V.version="18.3.1";bh.exports=V;var k=bh.exports;const It=ys(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0=k,D0=Symbol.for("react.element"),L0=Symbol.for("react.fragment"),U0=Object.prototype.hasOwnProperty,M0=P0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$0={key:!0,ref:!0,__self:!0,__source:!0};function Ph(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)U0.call(t,n)&&!$0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:D0,type:e,key:i,ref:o,props:s,_owner:M0.current}}ro.Fragment=L0;ro.jsx=Ph;ro.jsxs=Ph;Th.exports=ro;var c=Th.exports,ua={},Dh={exports:{}},Je={},Lh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,j){var U=O.length;O.push(j);e:for(;0<U;){var W=U-1>>>1,Y=O[W];if(0<s(Y,j))O[W]=j,O[U]=Y,U=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var j=O[0],U=O.pop();if(U!==j){O[0]=U;e:for(var W=0,Y=O.length,gt=Y>>>1;W<gt;){var x=2*(W+1)-1,P=O[x],M=x+1,F=O[M];if(0>s(P,U))M<Y&&0>s(F,P)?(O[W]=F,O[M]=U,W=M):(O[W]=P,O[x]=U,W=x);else if(M<Y&&0>s(F,U))O[W]=F,O[M]=U,W=M;else break e}}return j}function s(O,j){var U=O.sortIndex-j.sortIndex;return U!==0?U:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var j=r(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=O)n(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=r(u)}}function E(O){if(_=!1,v(O),!y)if(r(l)!==null)y=!0,_e(S);else{var j=r(u);j!==null&&Ue(E,j.startTime-O)}}function S(O,j){y=!1,_&&(_=!1,g(I),I=-1),m=!0;var U=f;try{for(v(j),h=r(l);h!==null&&(!(h.expirationTime>j)||O&&!Q());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var Y=W(h.expirationTime<=j);j=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(l)&&n(l),v(j)}else n(l);h=r(l)}if(h!==null)var gt=!0;else{var x=r(u);x!==null&&Ue(E,x.startTime-j),gt=!1}return gt}finally{h=null,f=U,m=!1}}var b=!1,N=null,I=-1,H=5,L=-1;function Q(){return!(e.unstable_now()-L<H)}function xe(){if(N!==null){var O=e.unstable_now();L=O;var j=!0;try{j=N(!0,O)}finally{j?me():(b=!1,N=null)}}else b=!1}var me;if(typeof p=="function")me=function(){p(xe)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,$=B.port2;B.port1.onmessage=xe,me=function(){$.postMessage(null)}}else me=function(){w(xe,0)};function _e(O){N=O,b||(b=!0,me())}function Ue(O,j){I=w(function(){O(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,_e(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var U=f;f=j;try{return O()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=f;f=O;try{return j()}finally{f=U}},e.unstable_scheduleCallback=function(O,j,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,O={id:d++,callback:j,priorityLevel:O,startTime:U,expirationTime:Y,sortIndex:-1},U>W?(O.sortIndex=U,t(u,O),r(l)===null&&O===r(u)&&(_?(g(I),I=-1):_=!0,Ue(E,U-W))):(O.sortIndex=Y,t(l,O),y||m||(y=!0,_e(S))),O},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(O){var j=f;return function(){var U=f;f=j;try{return O.apply(this,arguments)}finally{f=U}}}})(Uh);Lh.exports=Uh;var F0=Lh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=k,Ye=F0;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mh=new Set,Xn={};function kr(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(Xn[e]=t,e=0;e<t.length;e++)Mh.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=Object.prototype.hasOwnProperty,z0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uu={},Mu={};function H0(e){return ca.call(Mu,e)?!0:ca.call(Uu,e)?!1:z0.test(e)?Mu[e]=!0:(Uu[e]=!0,!1)}function V0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G0(e,t,r,n){if(t===null||typeof t>"u"||V0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var Al=/[\-:]([a-z])/g;function Cl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Al,Cl);Oe[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Al,Cl);Oe[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Al,Cl);Oe[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rl(e,t,r,n){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G0(t,r,s,n)&&(r=null),n||s===null?H0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Lt=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),jl=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Fh=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),ha=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),Dl=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Bh=Symbol.for("react.offscreen"),$u=Symbol.iterator;function bn(e){return e===null||typeof e!="object"?null:(e=$u&&e[$u]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,No;function Dn(e){if(No===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);No=t&&t[1]||""}return`
`+No+e}var Oo=!1;function Io(e,t){if(!e||Oo)return"";Oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Oo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function W0(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=Io(e.type,!1),e;case 11:return e=Io(e.type.render,!1),e;case 1:return e=Io(e.type,!0),e;default:return""}}function pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Fr:return"Portal";case da:return"Profiler";case jl:return"StrictMode";case ha:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fh:return(e.displayName||"Context")+".Consumer";case $h:return(e._context.displayName||"Context")+".Provider";case Pl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dl:return t=e.displayName||null,t!==null?t:pa(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return pa(e(t))}catch{}}return null}function K0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pa(t);case 8:return t===jl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q0(e){var t=zh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){e._valueTracker||(e._valueTracker=q0(e))}function Hh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var r=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=tr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vh(e,t){t=t.checked,t!=null&&Rl(e,"checked",t,!1)}function ga(e,t){Vh(e,t);var r=tr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?va(e,t.type,r):t.hasOwnProperty("defaultValue")&&va(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function va(e,t,r){(t!=="number"||wi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function Xr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+tr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ya(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Ln(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:tr(r)}}function Gh(e,t){var r=tr(t.value),n=tr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cs,Kh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y0=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(e){Y0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zn[t]=zn[e]})});function qh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zn.hasOwnProperty(e)&&zn[e]?(""+t).trim():t+"px"}function Yh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=qh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var J0=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(e,t){if(t){if(J0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xa=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,Zr=null,en=null;function Vu(e){if(e=Ss(e)){if(typeof Sa!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ao(t),Sa(e.stateNode,e.type,t))}}function Jh(e){Zr?en?en.push(e):en=[e]:Zr=e}function Qh(){if(Zr){var e=Zr,t=en;if(en=Zr=null,Vu(e),t)for(e=0;e<t.length;e++)Vu(t[e])}}function Xh(e,t){return e(t)}function Zh(){}var ko=!1;function ef(e,t,r){if(ko)return e(t,r);ko=!0;try{return Xh(e,t,r)}finally{ko=!1,(Zr!==null||en!==null)&&(Zh(),Qh())}}function es(e,t){var r=e.stateNode;if(r===null)return null;var n=ao(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Ta=!1;if(Rt)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Ta=!1}function Q0(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Hn=!1,Ei=null,xi=!1,ba=null,X0={onError:function(e){Hn=!0,Ei=e}};function Z0(e,t,r,n,s,i,o,a,l){Hn=!1,Ei=null,Q0.apply(X0,arguments)}function eg(e,t,r,n,s,i,o,a,l){if(Z0.apply(this,arguments),Hn){if(Hn){var u=Ei;Hn=!1,Ei=null}else throw Error(T(198));xi||(xi=!0,ba=u)}}function Ar(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gu(e){if(Ar(e)!==e)throw Error(T(188))}function tg(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Gu(s),e;if(i===n)return Gu(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function rf(e){return e=tg(e),e!==null?nf(e):null}function nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nf(e);if(t!==null)return t;e=e.sibling}return null}var sf=Ye.unstable_scheduleCallback,Wu=Ye.unstable_cancelCallback,rg=Ye.unstable_shouldYield,ng=Ye.unstable_requestPaint,ce=Ye.unstable_now,sg=Ye.unstable_getCurrentPriorityLevel,Ul=Ye.unstable_ImmediatePriority,of=Ye.unstable_UserBlockingPriority,Si=Ye.unstable_NormalPriority,ig=Ye.unstable_LowPriority,af=Ye.unstable_IdlePriority,no=null,xt=null;function og(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(no,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:ug,ag=Math.log,lg=Math.LN2;function ug(e){return e>>>=0,e===0?32:31-(ag(e)/lg|0)|0}var Rs=64,js=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ti(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Un(a):(i&=o,i!==0&&(n=Un(i)))}else o=r&~s,o!==0?n=Un(o):i!==0&&(n=Un(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ft(t),s=1<<r,n|=e[r],t&=~s;return n}function cg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ft(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=cg(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Na(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=Rs;return Rs<<=1,!(Rs&4194240)&&(Rs=64),e}function Ao(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Es(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function hg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ft(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ft(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function uf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cf,$l,df,hf,ff,Oa=!1,Ps=[],Kt=null,qt=null,Yt=null,ts=new Map,rs=new Map,Bt=[],fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function On(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ss(t),t!==null&&$l(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pg(e,t,r,n,s){switch(t){case"focusin":return Kt=On(Kt,e,t,r,n,s),!0;case"dragenter":return qt=On(qt,e,t,r,n,s),!0;case"mouseover":return Yt=On(Yt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ts.set(i,On(ts.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,rs.set(i,On(rs.get(i)||null,e,t,r,n,s)),!0}return!1}function pf(e){var t=gr(e.target);if(t!==null){var r=Ar(t);if(r!==null){if(t=r.tag,t===13){if(t=tf(r),t!==null){e.blockedOn=t,ff(e.priority,function(){df(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xa=n,r.target.dispatchEvent(n),xa=null}else return t=Ss(r),t!==null&&$l(t),e.blockedOn=r,!1;t.shift()}return!0}function qu(e,t,r){si(e)&&r.delete(t)}function mg(){Oa=!1,Kt!==null&&si(Kt)&&(Kt=null),qt!==null&&si(qt)&&(qt=null),Yt!==null&&si(Yt)&&(Yt=null),ts.forEach(qu),rs.forEach(qu)}function In(e,t){e.blockedOn===t&&(e.blockedOn=null,Oa||(Oa=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,mg)))}function ns(e){function t(s){return In(s,e)}if(0<Ps.length){In(Ps[0],e);for(var r=1;r<Ps.length;r++){var n=Ps[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&In(Kt,e),qt!==null&&In(qt,e),Yt!==null&&In(Yt,e),ts.forEach(t),rs.forEach(t),r=0;r<Bt.length;r++)n=Bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)pf(r),r.blockedOn===null&&Bt.shift()}var tn=Lt.ReactCurrentBatchConfig,bi=!0;function gg(e,t,r,n){var s=J,i=tn.transition;tn.transition=null;try{J=1,Fl(e,t,r,n)}finally{J=s,tn.transition=i}}function vg(e,t,r,n){var s=J,i=tn.transition;tn.transition=null;try{J=4,Fl(e,t,r,n)}finally{J=s,tn.transition=i}}function Fl(e,t,r,n){if(bi){var s=Ia(e,t,r,n);if(s===null)Fo(e,t,n,Ni,r),Ku(e,n);else if(pg(s,e,t,r,n))n.stopPropagation();else if(Ku(e,n),t&4&&-1<fg.indexOf(e)){for(;s!==null;){var i=Ss(s);if(i!==null&&cf(i),i=Ia(e,t,r,n),i===null&&Fo(e,t,n,Ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Fo(e,t,n,null,r)}}var Ni=null;function Ia(e,t,r,n){if(Ni=null,e=Ll(n),e=gr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ni=e,null}function mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sg()){case Ul:return 1;case of:return 4;case Si:case ig:return 16;case af:return 536870912;default:return 16}default:return 16}}var Gt=null,Bl=null,ii=null;function gf(){if(ii)return ii;var e,t=Bl,r=t.length,n,s="value"in Gt?Gt.value:Gt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ii=s.slice(e,1<n?1-n:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Yu(){return!1}function Qe(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ds:Yu,this.isPropagationStopped=Yu,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Qe(_n),xs=ae({},_n,{view:0,detail:0}),yg=Qe(xs),Co,Ro,kn,so=ae({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(Co=e.screenX-kn.screenX,Ro=e.screenY-kn.screenY):Ro=Co=0,kn=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:Ro}}),Ju=Qe(so),_g=ae({},so,{dataTransfer:0}),wg=Qe(_g),Eg=ae({},xs,{relatedTarget:0}),jo=Qe(Eg),xg=ae({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=Qe(xg),Tg=ae({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bg=Qe(Tg),Ng=ae({},_n,{data:0}),Qu=Qe(Ng),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kg[e])?!!t[e]:!1}function Hl(){return Ag}var Cg=ae({},xs,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rg=Qe(Cg),jg=ae({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=Qe(jg),Pg=ae({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),Dg=Qe(Pg),Lg=ae({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=Qe(Lg),Mg=ae({},so,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=Qe(Mg),Fg=[9,13,27,32],Vl=Rt&&"CompositionEvent"in window,Vn=null;Rt&&"documentMode"in document&&(Vn=document.documentMode);var Bg=Rt&&"TextEvent"in window&&!Vn,vf=Rt&&(!Vl||Vn&&8<Vn&&11>=Vn),Zu=" ",ec=!1;function yf(e,t){switch(e){case"keyup":return Fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _f(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function zg(e,t){switch(e){case"compositionend":return _f(t);case"keypress":return t.which!==32?null:(ec=!0,Zu);case"textInput":return e=t.data,e===Zu&&ec?null:e;default:return null}}function Hg(e,t){if(zr)return e==="compositionend"||!Vl&&yf(e,t)?(e=gf(),ii=Bl=Gt=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vf&&t.locale!=="ko"?null:t.data;default:return null}}var Vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vg[e.type]:t==="textarea"}function wf(e,t,r,n){Jh(n),t=Oi(t,"onChange"),0<t.length&&(r=new zl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gn=null,ss=null;function Gg(e){Cf(e,0)}function io(e){var t=Gr(e);if(Hh(t))return e}function Wg(e,t){if(e==="change")return t}var Ef=!1;if(Rt){var Po;if(Rt){var Do="oninput"in document;if(!Do){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),Do=typeof rc.oninput=="function"}Po=Do}else Po=!1;Ef=Po&&(!document.documentMode||9<document.documentMode)}function nc(){Gn&&(Gn.detachEvent("onpropertychange",xf),ss=Gn=null)}function xf(e){if(e.propertyName==="value"&&io(ss)){var t=[];wf(t,ss,e,Ll(e)),ef(Gg,t)}}function Kg(e,t,r){e==="focusin"?(nc(),Gn=t,ss=r,Gn.attachEvent("onpropertychange",xf)):e==="focusout"&&nc()}function qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return io(ss)}function Yg(e,t){if(e==="click")return io(t)}function Jg(e,t){if(e==="input"||e==="change")return io(t)}function Qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:Qg;function is(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ca.call(t,s)||!mt(e[s],t[s]))return!1}return!0}function sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ic(e,t){var r=sc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sc(r)}}function Sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tf(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wi(e.document)}return t}function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xg(e){var t=Tf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sf(r.ownerDocument.documentElement,r)){if(n!==null&&Gl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ic(r,i);var o=ic(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zg=Rt&&"documentMode"in document&&11>=document.documentMode,Hr=null,ka=null,Wn=null,Aa=!1;function oc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Aa||Hr==null||Hr!==wi(n)||(n=Hr,"selectionStart"in n&&Gl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&is(Wn,n)||(Wn=n,n=Oi(ka,"onSelect"),0<n.length&&(t=new zl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hr)))}function Ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},Lo={},bf={};Rt&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function oo(e){if(Lo[e])return Lo[e];if(!Vr[e])return e;var t=Vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bf)return Lo[e]=t[r];return e}var Nf=oo("animationend"),Of=oo("animationiteration"),If=oo("animationstart"),kf=oo("transitionend"),Af=new Map,ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){Af.set(e,t),kr(t,[e])}for(var Uo=0;Uo<ac.length;Uo++){var Mo=ac[Uo],ev=Mo.toLowerCase(),tv=Mo[0].toUpperCase()+Mo.slice(1);nr(ev,"on"+tv)}nr(Nf,"onAnimationEnd");nr(Of,"onAnimationIteration");nr(If,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(kf,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function lc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eg(n,t,void 0,e),e.currentTarget=null}function Cf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;lc(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;lc(s,a,u),i=l}}}if(xi)throw e=ba,xi=!1,ba=null,e}function ee(e,t){var r=t[Da];r===void 0&&(r=t[Da]=new Set);var n=e+"__bubble";r.has(n)||(Rf(t,e,2,!1),r.add(n))}function $o(e,t,r){var n=0;t&&(n|=4),Rf(r,e,n,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[Us]){e[Us]=!0,Mh.forEach(function(r){r!=="selectionchange"&&(rv.has(r)||$o(r,!1,e),$o(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,$o("selectionchange",!1,t))}}function Rf(e,t,r,n){switch(mf(t)){case 1:var s=gg;break;case 4:s=vg;break;default:s=Fl}r=s.bind(null,t,r,e),s=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Fo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=gr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}ef(function(){var u=i,d=Ll(r),h=[];e:{var f=Af.get(e);if(f!==void 0){var m=zl,y=e;switch(e){case"keypress":if(oi(r)===0)break e;case"keydown":case"keyup":m=Rg;break;case"focusin":y="focus",m=jo;break;case"focusout":y="blur",m=jo;break;case"beforeblur":case"afterblur":m=jo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Dg;break;case Nf:case Of:case If:m=Sg;break;case kf:m=Ug;break;case"scroll":m=yg;break;case"wheel":m=$g;break;case"copy":case"cut":case"paste":m=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xu}var _=(t&4)!==0,w=!_&&e==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,v;p!==null;){v=p;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=es(p,g),E!=null&&_.push(as(p,E,v)))),w)break;p=p.return}0<_.length&&(f=new m(f,y,null,r,d),h.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==xa&&(y=r.relatedTarget||r.fromElement)&&(gr(y)||y[jt]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?gr(y):null,y!==null&&(w=Ar(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(_=Ju,E="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Xu,E="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?f:Gr(m),v=y==null?f:Gr(y),f=new _(E,p+"leave",m,r,d),f.target=w,f.relatedTarget=v,E=null,gr(d)===u&&(_=new _(g,p+"enter",y,r,d),_.target=v,_.relatedTarget=w,E=_),w=E,m&&y)t:{for(_=m,g=y,p=0,v=_;v;v=Rr(v))p++;for(v=0,E=g;E;E=Rr(E))v++;for(;0<p-v;)_=Rr(_),p--;for(;0<v-p;)g=Rr(g),v--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=Rr(_),g=Rr(g)}_=null}else _=null;m!==null&&uc(h,f,m,_,!1),y!==null&&w!==null&&uc(h,w,y,_,!0)}}e:{if(f=u?Gr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=Wg;else if(tc(f))if(Ef)S=Jg;else{S=qg;var b=Kg}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Yg);if(S&&(S=S(e,u))){wf(h,S,r,d);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&va(f,"number",f.value)}switch(b=u?Gr(u):window,e){case"focusin":(tc(b)||b.contentEditable==="true")&&(Hr=b,ka=u,Wn=null);break;case"focusout":Wn=ka=Hr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,oc(h,r,d);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":oc(h,r,d)}var N;if(Vl)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else zr?yf(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(vf&&r.locale!=="ko"&&(zr||I!=="onCompositionStart"?I==="onCompositionEnd"&&zr&&(N=gf()):(Gt=d,Bl="value"in Gt?Gt.value:Gt.textContent,zr=!0)),b=Oi(u,I),0<b.length&&(I=new Qu(I,e,null,r,d),h.push({event:I,listeners:b}),N?I.data=N:(N=_f(r),N!==null&&(I.data=N)))),(N=Bg?zg(e,r):Hg(e,r))&&(u=Oi(u,"onBeforeInput"),0<u.length&&(d=new Qu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}Cf(h,t)})}function as(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Oi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=es(e,r),i!=null&&n.unshift(as(e,i,s)),i=es(e,t),i!=null&&n.push(as(e,i,s))),e=e.return}return n}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uc(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=es(r,i),l!=null&&o.unshift(as(r,l,a))):s||(l=es(r,i),l!=null&&o.push(as(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nv=/\r\n?/g,sv=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(nv,`
`).replace(sv,"")}function Ms(e,t,r){if(t=cc(t),cc(e)!==t&&r)throw Error(T(425))}function Ii(){}var Ca=null,Ra=null;function ja(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pa=typeof setTimeout=="function"?setTimeout:void 0,iv=typeof clearTimeout=="function"?clearTimeout:void 0,dc=typeof Promise=="function"?Promise:void 0,ov=typeof queueMicrotask=="function"?queueMicrotask:typeof dc<"u"?function(e){return dc.resolve(null).then(e).catch(av)}:Pa;function av(e){setTimeout(function(){throw e})}function Bo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ns(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ns(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),Et="__reactFiber$"+wn,ls="__reactProps$"+wn,jt="__reactContainer$"+wn,Da="__reactEvents$"+wn,lv="__reactListeners$"+wn,uv="__reactHandles$"+wn;function gr(e){var t=e[Et];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jt]||r[Et]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hc(e);e!==null;){if(r=e[Et])return r;e=hc(e)}return t}e=r,r=e.parentNode}return null}function Ss(e){return e=e[Et]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ao(e){return e[ls]||null}var La=[],Wr=-1;function sr(e){return{current:e}}function te(e){0>Wr||(e.current=La[Wr],La[Wr]=null,Wr--)}function Z(e,t){Wr++,La[Wr]=e.current,e.current=t}var rr={},Re=sr(rr),ze=sr(!1),Sr=rr;function cn(e,t){var r=e.type.contextTypes;if(!r)return rr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function He(e){return e=e.childContextTypes,e!=null}function ki(){te(ze),te(Re)}function fc(e,t,r){if(Re.current!==rr)throw Error(T(168));Z(Re,t),Z(ze,r)}function jf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,K0(e)||"Unknown",s));return ae({},r,n)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,Sr=Re.current,Z(Re,e),Z(ze,ze.current),!0}function pc(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=jf(e,t,Sr),n.__reactInternalMemoizedMergedChildContext=e,te(ze),te(Re),Z(Re,e)):te(ze),Z(ze,r)}var Ot=null,lo=!1,zo=!1;function Pf(e){Ot===null?Ot=[e]:Ot.push(e)}function cv(e){lo=!0,Pf(e)}function ir(){if(!zo&&Ot!==null){zo=!0;var e=0,t=J;try{var r=Ot;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ot=null,lo=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(e+1)),sf(Ul,ir),s}finally{J=t,zo=!1}}return null}var Kr=[],qr=0,Ci=null,Ri=0,Ze=[],et=0,Tr=null,kt=1,At="";function ur(e,t){Kr[qr++]=Ri,Kr[qr++]=Ci,Ci=e,Ri=t}function Df(e,t,r){Ze[et++]=kt,Ze[et++]=At,Ze[et++]=Tr,Tr=e;var n=kt;e=At;var s=32-ft(n)-1;n&=~(1<<s),r+=1;var i=32-ft(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,kt=1<<32-ft(t)+s|r<<s|n,At=i+e}else kt=1<<i|r<<s|n,At=e}function Wl(e){e.return!==null&&(ur(e,1),Df(e,1,0))}function Kl(e){for(;e===Ci;)Ci=Kr[--qr],Kr[qr]=null,Ri=Kr[--qr],Kr[qr]=null;for(;e===Tr;)Tr=Ze[--et],Ze[et]=null,At=Ze[--et],Ze[et]=null,kt=Ze[--et],Ze[et]=null}var qe=null,Ke=null,se=!1,dt=null;function Lf(e,t){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Ke=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tr!==null?{id:kt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qe=e,Ke=null,!0):!1;default:return!1}}function Ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ma(e){if(se){var t=Ke;if(t){var r=t;if(!mc(e,t)){if(Ua(e))throw Error(T(418));t=Jt(r.nextSibling);var n=qe;t&&mc(e,t)?Lf(n,r):(e.flags=e.flags&-4097|2,se=!1,qe=e)}}else{if(Ua(e))throw Error(T(418));e.flags=e.flags&-4097|2,se=!1,qe=e}}}function gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function $s(e){if(e!==qe)return!1;if(!se)return gc(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ja(e.type,e.memoizedProps)),t&&(t=Ke)){if(Ua(e))throw Uf(),Error(T(418));for(;t;)Lf(e,t),t=Jt(t.nextSibling)}if(gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=qe?Jt(e.stateNode.nextSibling):null;return!0}function Uf(){for(var e=Ke;e;)e=Jt(e.nextSibling)}function dn(){Ke=qe=null,se=!1}function ql(e){dt===null?dt=[e]:dt.push(e)}var dv=Lt.ReactCurrentBatchConfig;function An(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function Mf(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=er(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,E){return p===null||p.tag!==6?(p=Yo(v,g.mode,E),p.return=g,p):(p=s(p,v),p.return=g,p)}function l(g,p,v,E){var S=v.type;return S===Br?d(g,p,v.props.children,E,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$t&&vc(S)===p.type)?(E=s(p,v.props),E.ref=An(g,p,v),E.return=g,E):(E=fi(v.type,v.key,v.props,null,g.mode,E),E.ref=An(g,p,v),E.return=g,E)}function u(g,p,v,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Jo(v,g.mode,E),p.return=g,p):(p=s(p,v.children||[]),p.return=g,p)}function d(g,p,v,E,S){return p===null||p.tag!==7?(p=xr(v,g.mode,E,S),p.return=g,p):(p=s(p,v),p.return=g,p)}function h(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yo(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:return v=fi(p.type,p.key,p.props,null,g.mode,v),v.ref=An(g,null,p),v.return=g,v;case Fr:return p=Jo(p,g.mode,v),p.return=g,p;case $t:var E=p._init;return h(g,E(p._payload),v)}if(Ln(p)||bn(p))return p=xr(p,g.mode,v,null),p.return=g,p;Fs(g,p)}return null}function f(g,p,v,E){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,p,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ks:return v.key===S?l(g,p,v,E):null;case Fr:return v.key===S?u(g,p,v,E):null;case $t:return S=v._init,f(g,p,S(v._payload),E)}if(Ln(v)||bn(v))return S!==null?null:d(g,p,v,E,null);Fs(g,v)}return null}function m(g,p,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,a(p,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ks:return g=g.get(E.key===null?v:E.key)||null,l(p,g,E,S);case Fr:return g=g.get(E.key===null?v:E.key)||null,u(p,g,E,S);case $t:var b=E._init;return m(g,p,v,b(E._payload),S)}if(Ln(E)||bn(E))return g=g.get(v)||null,d(p,g,E,S,null);Fs(p,E)}return null}function y(g,p,v,E){for(var S=null,b=null,N=p,I=p=0,H=null;N!==null&&I<v.length;I++){N.index>I?(H=N,N=null):H=N.sibling;var L=f(g,N,v[I],E);if(L===null){N===null&&(N=H);break}e&&N&&L.alternate===null&&t(g,N),p=i(L,p,I),b===null?S=L:b.sibling=L,b=L,N=H}if(I===v.length)return r(g,N),se&&ur(g,I),S;if(N===null){for(;I<v.length;I++)N=h(g,v[I],E),N!==null&&(p=i(N,p,I),b===null?S=N:b.sibling=N,b=N);return se&&ur(g,I),S}for(N=n(g,N);I<v.length;I++)H=m(N,g,I,v[I],E),H!==null&&(e&&H.alternate!==null&&N.delete(H.key===null?I:H.key),p=i(H,p,I),b===null?S=H:b.sibling=H,b=H);return e&&N.forEach(function(Q){return t(g,Q)}),se&&ur(g,I),S}function _(g,p,v,E){var S=bn(v);if(typeof S!="function")throw Error(T(150));if(v=S.call(v),v==null)throw Error(T(151));for(var b=S=null,N=p,I=p=0,H=null,L=v.next();N!==null&&!L.done;I++,L=v.next()){N.index>I?(H=N,N=null):H=N.sibling;var Q=f(g,N,L.value,E);if(Q===null){N===null&&(N=H);break}e&&N&&Q.alternate===null&&t(g,N),p=i(Q,p,I),b===null?S=Q:b.sibling=Q,b=Q,N=H}if(L.done)return r(g,N),se&&ur(g,I),S;if(N===null){for(;!L.done;I++,L=v.next())L=h(g,L.value,E),L!==null&&(p=i(L,p,I),b===null?S=L:b.sibling=L,b=L);return se&&ur(g,I),S}for(N=n(g,N);!L.done;I++,L=v.next())L=m(N,g,I,L.value,E),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?I:L.key),p=i(L,p,I),b===null?S=L:b.sibling=L,b=L);return e&&N.forEach(function(xe){return t(g,xe)}),se&&ur(g,I),S}function w(g,p,v,E){if(typeof v=="object"&&v!==null&&v.type===Br&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ks:e:{for(var S=v.key,b=p;b!==null;){if(b.key===S){if(S=v.type,S===Br){if(b.tag===7){r(g,b.sibling),p=s(b,v.props.children),p.return=g,g=p;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$t&&vc(S)===b.type){r(g,b.sibling),p=s(b,v.props),p.ref=An(g,b,v),p.return=g,g=p;break e}r(g,b);break}else t(g,b);b=b.sibling}v.type===Br?(p=xr(v.props.children,g.mode,E,v.key),p.return=g,g=p):(E=fi(v.type,v.key,v.props,null,g.mode,E),E.ref=An(g,p,v),E.return=g,g=E)}return o(g);case Fr:e:{for(b=v.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){r(g,p.sibling),p=s(p,v.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Jo(v,g.mode,E),p.return=g,g=p}return o(g);case $t:return b=v._init,w(g,p,b(v._payload),E)}if(Ln(v))return y(g,p,v,E);if(bn(v))return _(g,p,v,E);Fs(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,v),p.return=g,g=p):(r(g,p),p=Yo(v,g.mode,E),p.return=g,g=p),o(g)):r(g,p)}return w}var hn=Mf(!0),$f=Mf(!1),ji=sr(null),Pi=null,Yr=null,Yl=null;function Jl(){Yl=Yr=Pi=null}function Ql(e){var t=ji.current;te(ji),e._currentValue=t}function $a(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rn(e,t){Pi=e,Yl=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Yl!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Pi===null)throw Error(T(308));Yr=e,Pi.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var vr=null;function Xl(e){vr===null?vr=[e]:vr.push(e)}function Ff(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Xl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ft=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pt(e,r)}return s=n.interleaved,s===null?(t.next=t,Xl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pt(e,r)}function ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ml(e,r)}}function yc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Di(e,t,r,n){var s=e.updateQueue;Ft=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,_=a;switch(f=t,m=r,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=ae({},h,f);break e;case 2:Ft=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Nr|=o,e.lanes=o,e.memoizedState=h}}function _c(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Ts={},St=sr(Ts),us=sr(Ts),cs=sr(Ts);function yr(e){if(e===Ts)throw Error(T(174));return e}function eu(e,t){switch(Z(cs,t),Z(us,e),Z(St,Ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_a(t,e)}te(St),Z(St,t)}function fn(){te(St),te(us),te(cs)}function zf(e){yr(cs.current);var t=yr(St.current),r=_a(t,e.type);t!==r&&(Z(us,e),Z(St,r))}function tu(e){us.current===e&&(te(St),te(us))}var ie=sr(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=[];function ru(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var li=Lt.ReactCurrentDispatcher,Vo=Lt.ReactCurrentBatchConfig,br=0,oe=null,ve=null,we=null,Ui=!1,Kn=!1,ds=0,hv=0;function Ie(){throw Error(T(321))}function nu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mt(e[r],t[r]))return!1;return!0}function su(e,t,r,n,s,i){if(br=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?gv:vv,e=r(n,s),Kn){i=0;do{if(Kn=!1,ds=0,25<=i)throw Error(T(301));i+=1,we=ve=null,t.updateQueue=null,li.current=yv,e=r(n,s)}while(Kn)}if(li.current=Mi,t=ve!==null&&ve.next!==null,br=0,we=ve=oe=null,Ui=!1,t)throw Error(T(300));return e}function iu(){var e=ds!==0;return ds=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?oe.memoizedState=we=e:we=we.next=e,we}function st(){if(ve===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=we===null?oe.memoizedState:we.next;if(t!==null)we=t,ve=e;else{if(e===null)throw Error(T(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},we===null?oe.memoizedState=we=e:we=we.next=e}return we}function hs(e,t){return typeof t=="function"?t(e):t}function Go(e){var t=st(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=ve,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((br&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,oe.lanes|=d,Nr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,mt(n,t.memoizedState)||(Be=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,Nr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wo(e){var t=st(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);mt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Hf(){}function Vf(e,t){var r=oe,n=st(),s=t(),i=!mt(n.memoizedState,s);if(i&&(n.memoizedState=s,Be=!0),n=n.queue,ou(Kf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,fs(9,Wf.bind(null,r,n,s,t),void 0,null),Ee===null)throw Error(T(349));br&30||Gf(r,t,s)}return s}function Gf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wf(e,t,r,n){t.value=r,t.getSnapshot=n,qf(t)&&Yf(e)}function Kf(e,t,r){return r(function(){qf(t)&&Yf(e)})}function qf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mt(e,r)}catch{return!0}}function Yf(e){var t=Pt(e,1);t!==null&&pt(t,e,1,-1)}function wc(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t.queue=e,e=e.dispatch=mv.bind(null,oe,e),[t.memoizedState,e]}function fs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jf(){return st().memoizedState}function ui(e,t,r,n){var s=_t();oe.flags|=e,s.memoizedState=fs(1|t,r,void 0,n===void 0?null:n)}function uo(e,t,r,n){var s=st();n=n===void 0?null:n;var i=void 0;if(ve!==null){var o=ve.memoizedState;if(i=o.destroy,n!==null&&nu(n,o.deps)){s.memoizedState=fs(t,r,i,n);return}}oe.flags|=e,s.memoizedState=fs(1|t,r,i,n)}function Ec(e,t){return ui(8390656,8,e,t)}function ou(e,t){return uo(2048,8,e,t)}function Qf(e,t){return uo(4,2,e,t)}function Xf(e,t){return uo(4,4,e,t)}function Zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,r){return r=r!=null?r.concat([e]):null,uo(4,4,Zf.bind(null,t,e),r)}function au(){}function tp(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rp(e,t){var r=st();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function np(e,t,r){return br&21?(mt(r,t)||(r=lf(),oe.lanes|=r,Nr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=r)}function fv(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Vo.transition;Vo.transition={};try{e(!1),t()}finally{J=r,Vo.transition=n}}function sp(){return st().memoizedState}function pv(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ip(e))op(t,r);else if(r=Ff(e,t,r,n),r!==null){var s=Pe();pt(r,e,n,s),ap(r,t,n)}}function mv(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ip(e))op(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,mt(a,o)){var l=t.interleaved;l===null?(s.next=s,Xl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ff(e,t,s,n),r!==null&&(s=Pe(),pt(r,e,n,s),ap(r,t,n))}}function ip(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function op(e,t){Kn=Ui=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ap(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ml(e,r)}}var Mi={readContext:nt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},gv={readContext:nt,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Ec,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ui(4194308,4,Zf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return ui(4,2,e,t)},useMemo:function(e,t){var r=_t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pv.bind(null,oe,e),[n.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:wc,useDebugValue:au,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=wc(!1),t=e[0];return e=fv.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oe,s=_t();if(se){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ee===null)throw Error(T(349));br&30||Gf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ec(Kf.bind(null,n,i,e),[e]),n.flags|=2048,fs(9,Wf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_t(),t=Ee.identifierPrefix;if(se){var r=At,n=kt;r=(n&~(1<<32-ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ds++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vv={readContext:nt,useCallback:tp,useContext:nt,useEffect:ou,useImperativeHandle:ep,useInsertionEffect:Qf,useLayoutEffect:Xf,useMemo:rp,useReducer:Go,useRef:Jf,useState:function(){return Go(hs)},useDebugValue:au,useDeferredValue:function(e){var t=st();return np(t,ve.memoizedState,e)},useTransition:function(){var e=Go(hs)[0],t=st().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Vf,useId:sp,unstable_isNewReconciler:!1},yv={readContext:nt,useCallback:tp,useContext:nt,useEffect:ou,useImperativeHandle:ep,useInsertionEffect:Qf,useLayoutEffect:Xf,useMemo:rp,useReducer:Wo,useRef:Jf,useState:function(){return Wo(hs)},useDebugValue:au,useDeferredValue:function(e){var t=st();return ve===null?t.memoizedState=e:np(t,ve.memoizedState,e)},useTransition:function(){var e=Wo(hs)[0],t=st().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Vf,useId:sp,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fa(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var co={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Zt(e),i=Ct(n,s);i.payload=t,r!=null&&(i.callback=r),t=Qt(e,i,s),t!==null&&(pt(t,e,s,n),ai(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Zt(e),i=Ct(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Qt(e,i,s),t!==null&&(pt(t,e,s,n),ai(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Zt(e),s=Ct(r,n);s.tag=2,t!=null&&(s.callback=t),t=Qt(e,s,n),t!==null&&(pt(t,e,n,r),ai(t,e,n))}};function xc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!is(r,n)||!is(s,i):!0}function lp(e,t,r){var n=!1,s=rr,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=He(t)?Sr:Re.current,n=t.contextTypes,i=(n=n!=null)?cn(e,s):rr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function Ba(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=He(t)?Sr:Re.current,s.context=cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fa(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&co.enqueueReplaceState(s,s.state,null),Di(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=W0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ko(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _v=typeof WeakMap=="function"?WeakMap:Map;function up(e,t,r){r=Ct(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fi||(Fi=!0,Xa=n),za(e,t)},r}function cp(e,t,r){r=Ct(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){za(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){za(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Tc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _v;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=jv.bind(null,e,t,r),t.then(e,e))}function bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ct(-1,1),t.tag=2,Qt(r,t,1))),r.lanes|=1),e)}var wv=Lt.ReactCurrentOwner,Be=!1;function je(e,t,r,n){t.child=e===null?$f(t,null,r,n):hn(t,e.child,r,n)}function Oc(e,t,r,n,s){r=r.render;var i=t.ref;return rn(t,s),n=su(e,t,r,n,i,s),r=iu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Dt(e,t,s)):(se&&r&&Wl(t),t.flags|=1,je(e,t,n,s),t.child)}function Ic(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!mu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,dp(e,t,i,n,s)):(e=fi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:is,r(o,n)&&e.ref===t.ref)return Dt(e,t,s)}return t.flags|=1,e=er(i,n),e.ref=t.ref,e.return=t,t.child=e}function dp(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(is(i,n)&&e.ref===t.ref)if(Be=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Dt(e,t,s)}return Ha(e,t,r,n,s)}function hp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Qr,Ge),Ge|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Qr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(Qr,Ge),Ge|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Z(Qr,Ge),Ge|=n;return je(e,t,s,r),t.child}function fp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ha(e,t,r,n,s){var i=He(r)?Sr:Re.current;return i=cn(t,i),rn(t,s),r=su(e,t,r,n,i,s),n=iu(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Dt(e,t,s)):(se&&n&&Wl(t),t.flags|=1,je(e,t,r,s),t.child)}function kc(e,t,r,n,s){if(He(r)){var i=!0;Ai(t)}else i=!1;if(rn(t,s),t.stateNode===null)ci(e,t),lp(t,r,n),Ba(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=He(r)?Sr:Re.current,u=cn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Sc(t,o,n,u),Ft=!1;var f=t.memoizedState;o.state=f,Di(t,n,o,s),l=t.memoizedState,a!==n||f!==l||ze.current||Ft?(typeof d=="function"&&(Fa(t,r,d,n),l=t.memoizedState),(a=Ft||xc(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Bf(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:at(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=He(r)?Sr:Re.current,l=cn(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Sc(t,o,n,l),Ft=!1,f=t.memoizedState,o.state=f,Di(t,n,o,s);var y=t.memoizedState;a!==h||f!==y||ze.current||Ft?(typeof m=="function"&&(Fa(t,r,m,n),y=t.memoizedState),(u=Ft||xc(t,r,u,n,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Va(e,t,r,n,i,s)}function Va(e,t,r,n,s,i){fp(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&pc(t,r,!1),Dt(e,t,i);n=t.stateNode,wv.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,a,i)):je(e,t,a,i),t.memoizedState=n.state,s&&pc(t,r,!0),t.child}function pp(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),eu(e,t.containerInfo)}function Ac(e,t,r,n,s){return dn(),ql(s),t.flags|=256,je(e,t,r,n),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function mp(e,t,r){var n=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return Ma(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=po(o,n,0,null),e=xr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wa(r),t.memoizedState=Ga,e):lu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ev(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=er(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=er(a,i):(i=xr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Wa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ga,n}return i=e.child,e=i.sibling,n=er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function lu(e,t){return t=po({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bs(e,t,r,n){return n!==null&&ql(n),hn(t,e.child,null,r),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ev(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ko(Error(T(422))),Bs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=po({mode:"visible",children:n.children},s,0,null),i=xr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hn(t,e.child,null,o),t.child.memoizedState=Wa(o),t.memoizedState=Ga,i);if(!(t.mode&1))return Bs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(T(419)),n=Ko(i,n,void 0),Bs(e,t,o,n)}if(a=(o&e.childLanes)!==0,Be||a){if(n=Ee,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pt(e,s),pt(n,e,s,-1))}return pu(),n=Ko(Error(T(421))),Bs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Pv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=Jt(s.nextSibling),qe=t,se=!0,dt=null,e!==null&&(Ze[et++]=kt,Ze[et++]=At,Ze[et++]=Tr,kt=e.id,At=e.overflow,Tr=t),t=lu(t,n.children),t.flags|=4096,t)}function Cc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$a(e.return,t,r)}function qo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function gp(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(je(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cc(e,r,t);else if(e.tag===19)Cc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Li(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Li(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qo(t,!0,r,null,i);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xv(e,t,r){switch(t.tag){case 3:pp(t),dn();break;case 5:zf(t);break;case 1:He(t.type)&&Ai(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Z(ji,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?mp(e,t,r):(Z(ie,ie.current&1),e=Dt(e,t,r),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,hp(e,t,r)}return Dt(e,t,r)}var vp,Ka,yp,_p;vp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ka=function(){};yp=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,yr(St.current);var i=null;switch(r){case"input":s=ma(e,s),n=ma(e,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=ya(e,s),n=ya(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ii)}wa(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ee("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};_p=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cn(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sv(e,t,r){var n=t.pendingProps;switch(Kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return He(t.type)&&ki(),ke(t),null;case 3:return n=t.stateNode,fn(),te(ze),te(Re),ru(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(tl(dt),dt=null))),Ka(e,t),ke(t),null;case 5:tu(t);var s=yr(cs.current);if(r=t.type,e!==null&&t.stateNode!=null)yp(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return ke(t),null}if(e=yr(St.current),$s(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Et]=t,n[ls]=i,e=(t.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(s=0;s<Mn.length;s++)ee(Mn[s],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Fu(n,i),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ee("invalid",n);break;case"textarea":zu(n,i),ee("invalid",n)}wa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ms(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ms(n.textContent,a,e),s=["children",""+a]):Xn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ee("scroll",n)}switch(r){case"input":As(n),Bu(n,i,!0);break;case"textarea":As(n),Hu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ii)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Et]=t,e[ls]=n,vp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ea(r,n),r){case"dialog":ee("cancel",e),ee("close",e),s=n;break;case"iframe":case"object":case"embed":ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<Mn.length;s++)ee(Mn[s],e);s=n;break;case"source":ee("error",e),s=n;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=n;break;case"details":ee("toggle",e),s=n;break;case"input":Fu(e,n),s=ma(e,n),ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),ee("invalid",e);break;case"textarea":zu(e,n),s=ya(e,n),ee("invalid",e);break;default:s=n}wa(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Yh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kh(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zn(e,l):typeof l=="number"&&Zn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ee("scroll",e):l!=null&&Rl(e,i,l,o))}switch(r){case"input":As(e),Bu(e,n,!1);break;case"textarea":As(e),Hu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Xr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Xr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ii)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)_p(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=yr(cs.current),yr(St.current),$s(t)){if(n=t.stateNode,r=t.memoizedProps,n[Et]=t,(i=n.nodeValue!==r)&&(e=qe,e!==null))switch(e.tag){case 3:Ms(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Et]=t,t.stateNode=n}return ke(t),null;case 13:if(te(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Ke!==null&&t.mode&1&&!(t.flags&128))Uf(),dn(),t.flags|=98560,i=!1;else if(i=$s(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Et]=t}else dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else dt!==null&&(tl(dt),dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ye===0&&(ye=3):pu())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return fn(),Ka(e,t),e===null&&os(t.stateNode.containerInfo),ke(t),null;case 10:return Ql(t.type._context),ke(t),null;case 17:return He(t.type)&&ki(),ke(t),null;case 19:if(te(ie),i=t.memoizedState,i===null)return ke(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Cn(i,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Li(e),o!==null){for(t.flags|=128,Cn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>mn&&(t.flags|=128,n=!0,Cn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Li(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return ke(t),null}else 2*ce()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,Cn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,r=ie.current,Z(ie,n?r&1|2:r&1),t):(ke(t),null);case 22:case 23:return fu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Tv(e,t){switch(Kl(t),t.tag){case 1:return He(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),te(ze),te(Re),ru(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(te(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(ie),null;case 4:return fn(),null;case 10:return Ql(t.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var zs=!1,Ae=!1,bv=typeof WeakSet=="function"?WeakSet:Set,A=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(e,t,n)}else r.current=null}function qa(e,t,r){try{r()}catch(n){ue(e,t,n)}}var Rc=!1;function Nv(e,t){if(Ca=bi,e=Tf(),Gl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ra={focusedElem:e,selectionRange:r},bi=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,w=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:at(t.type,_),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(E){ue(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=Rc,Rc=!1,y}function qn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&qa(t,r,i)}s=s.next}while(s!==n)}}function ho(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ya(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[ls],delete t[Da],delete t[lv],delete t[uv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ep(e){return e.tag===5||e.tag===3||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ja(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ii));else if(n!==4&&(e=e.child,e!==null))for(Ja(e,t,r),e=e.sibling;e!==null;)Ja(e,t,r),e=e.sibling}function Qa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qa(e,t,r),e=e.sibling;e!==null;)Qa(e,t,r),e=e.sibling}var be=null,ut=!1;function Mt(e,t,r){for(r=r.child;r!==null;)xp(e,t,r),r=r.sibling}function xp(e,t,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(no,r)}catch{}switch(r.tag){case 5:Ae||Jr(r,t);case 6:var n=be,s=ut;be=null,Mt(e,t,r),be=n,ut=s,be!==null&&(ut?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ut?(e=be,r=r.stateNode,e.nodeType===8?Bo(e.parentNode,r):e.nodeType===1&&Bo(e,r),ns(e)):Bo(be,r.stateNode));break;case 4:n=be,s=ut,be=r.stateNode.containerInfo,ut=!0,Mt(e,t,r),be=n,ut=s;break;case 0:case 11:case 14:case 15:if(!Ae&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qa(r,t,o),s=s.next}while(s!==n)}Mt(e,t,r);break;case 1:if(!Ae&&(Jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ue(r,t,a)}Mt(e,t,r);break;case 21:Mt(e,t,r);break;case 22:r.mode&1?(Ae=(n=Ae)||r.memoizedState!==null,Mt(e,t,r),Ae=n):Mt(e,t,r);break;default:Mt(e,t,r)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bv),t.forEach(function(n){var s=Dv.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function it(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,ut=!1;break e;case 3:be=a.stateNode.containerInfo,ut=!0;break e;case 4:be=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(be===null)throw Error(T(160));xp(i,o,s),be=null,ut=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sp(t,e),t=t.sibling}function Sp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),yt(e),n&4){try{qn(3,e,e.return),ho(3,e)}catch(_){ue(e,e.return,_)}try{qn(5,e,e.return)}catch(_){ue(e,e.return,_)}}break;case 1:it(t,e),yt(e),n&512&&r!==null&&Jr(r,r.return);break;case 5:if(it(t,e),yt(e),n&512&&r!==null&&Jr(r,r.return),e.flags&32){var s=e.stateNode;try{Zn(s,"")}catch(_){ue(e,e.return,_)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vh(s,i),Ea(a,o);var u=Ea(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Yh(s,h):d==="dangerouslySetInnerHTML"?Kh(s,h):d==="children"?Zn(s,h):Rl(s,d,h,u)}switch(a){case"input":ga(s,i);break;case"textarea":Gh(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xr(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xr(s,!!i.multiple,i.defaultValue,!0):Xr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ls]=i}catch(_){ue(e,e.return,_)}}break;case 6:if(it(t,e),yt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){ue(e,e.return,_)}}break;case 3:if(it(t,e),yt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(_){ue(e,e.return,_)}break;case 4:it(t,e),yt(e);break;case 13:it(t,e),yt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(du=ce())),n&4&&Pc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||d,it(t,e),Ae=u):it(t,e),yt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,m=f.child,f.tag){case 0:case 11:case 14:case 15:qn(4,f,f.return);break;case 1:Jr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){ue(n,r,_)}}break;case 5:Jr(f,f.return);break;case 22:if(f.memoizedState!==null){Lc(h);continue}}m!==null?(m.return=f,A=m):Lc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qh("display",o))}catch(_){ue(e,e.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ue(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:it(t,e),yt(e),n&4&&Pc(e);break;case 21:break;default:it(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ep(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zn(s,""),n.flags&=-33);var i=jc(e);Qa(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=jc(e);Ja(e,a,o);break;default:throw Error(T(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ov(e,t,r){A=e,Tp(e)}function Tp(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||zs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=zs;var u=Ae;if(zs=o,(Ae=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Uc(s):l!==null?(l.return=o,A=l):Uc(s);for(;i!==null;)A=i,Tp(i),i=i.sibling;A=s,zs=a,Ae=u}Dc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Dc(e)}}function Dc(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||ho(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ae)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_c(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_c(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ns(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ae||t.flags&512&&Ya(t)}catch(f){ue(t,t.return,f)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function Lc(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function Uc(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ho(4,t)}catch(l){ue(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{Ya(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{Ya(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var Iv=Math.ceil,$i=Lt.ReactCurrentDispatcher,uu=Lt.ReactCurrentOwner,rt=Lt.ReactCurrentBatchConfig,K=0,Ee=null,pe=null,Ne=0,Ge=0,Qr=sr(0),ye=0,ps=null,Nr=0,fo=0,cu=0,Yn=null,$e=null,du=0,mn=1/0,Nt=null,Fi=!1,Xa=null,Xt=null,Hs=!1,Wt=null,Bi=0,Jn=0,Za=null,di=-1,hi=0;function Pe(){return K&6?ce():di!==-1?di:di=ce()}function Zt(e){return e.mode&1?K&2&&Ne!==0?Ne&-Ne:dv.transition!==null?(hi===0&&(hi=lf()),hi):(e=J,e!==0||(e=window.event,e=e===void 0?16:mf(e.type)),e):1}function pt(e,t,r,n){if(50<Jn)throw Jn=0,Za=null,Error(T(185));Es(e,r,n),(!(K&2)||e!==Ee)&&(e===Ee&&(!(K&2)&&(fo|=r),ye===4&&zt(e,Ne)),Ve(e,n),r===1&&K===0&&!(t.mode&1)&&(mn=ce()+500,lo&&ir()))}function Ve(e,t){var r=e.callbackNode;dg(e,t);var n=Ti(e,e===Ee?Ne:0);if(n===0)r!==null&&Wu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wu(r),t===1)e.tag===0?cv(Mc.bind(null,e)):Pf(Mc.bind(null,e)),ov(function(){!(K&6)&&ir()}),r=null;else{switch(uf(n)){case 1:r=Ul;break;case 4:r=of;break;case 16:r=Si;break;case 536870912:r=af;break;default:r=Si}r=Rp(r,bp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bp(e,t){if(di=-1,hi=0,K&6)throw Error(T(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var n=Ti(e,e===Ee?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zi(e,n);else{t=n;var s=K;K|=2;var i=Op();(Ee!==e||Ne!==t)&&(Nt=null,mn=ce()+500,Er(e,t));do try{Cv();break}catch(a){Np(e,a)}while(!0);Jl(),$i.current=i,K=s,pe!==null?t=0:(Ee=null,Ne=0,t=ye)}if(t!==0){if(t===2&&(s=Na(e),s!==0&&(n=s,t=el(e,s))),t===1)throw r=ps,Er(e,0),zt(e,n),Ve(e,ce()),r;if(t===6)zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!kv(s)&&(t=zi(e,n),t===2&&(i=Na(e),i!==0&&(n=i,t=el(e,i))),t===1))throw r=ps,Er(e,0),zt(e,n),Ve(e,ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:cr(e,$e,Nt);break;case 3:if(zt(e,n),(n&130023424)===n&&(t=du+500-ce(),10<t)){if(Ti(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pa(cr.bind(null,e,$e,Nt),t);break}cr(e,$e,Nt);break;case 4:if(zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ft(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iv(n/1960))-n,10<n){e.timeoutHandle=Pa(cr.bind(null,e,$e,Nt),n);break}cr(e,$e,Nt);break;case 5:cr(e,$e,Nt);break;default:throw Error(T(329))}}}return Ve(e,ce()),e.callbackNode===r?bp.bind(null,e):null}function el(e,t){var r=Yn;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=zi(e,t),e!==2&&(t=$e,$e=r,t!==null&&tl(t)),e}function tl(e){$e===null?$e=e:$e.push.apply($e,e)}function kv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~cu,t&=~fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),n=1<<r;e[r]=-1,t&=~n}}function Mc(e){if(K&6)throw Error(T(327));nn();var t=Ti(e,0);if(!(t&1))return Ve(e,ce()),null;var r=zi(e,t);if(e.tag!==0&&r===2){var n=Na(e);n!==0&&(t=n,r=el(e,n))}if(r===1)throw r=ps,Er(e,0),zt(e,t),Ve(e,ce()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,$e,Nt),Ve(e,ce()),null}function hu(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(mn=ce()+500,lo&&ir())}}function Or(e){Wt!==null&&Wt.tag===0&&!(K&6)&&nn();var t=K;K|=1;var r=rt.transition,n=J;try{if(rt.transition=null,J=1,e)return e()}finally{J=n,rt.transition=r,K=t,!(K&6)&&ir()}}function fu(){Ge=Qr.current,te(Qr)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iv(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(Kl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ki();break;case 3:fn(),te(ze),te(Re),ru();break;case 5:tu(n);break;case 4:fn();break;case 13:te(ie);break;case 19:te(ie);break;case 10:Ql(n.type._context);break;case 22:case 23:fu()}r=r.return}if(Ee=e,pe=e=er(e.current,null),Ne=Ge=t,ye=0,ps=null,cu=fo=Nr=0,$e=Yn=null,vr!==null){for(t=0;t<vr.length;t++)if(r=vr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}vr=null}return e}function Np(e,t){do{var r=pe;try{if(Jl(),li.current=Mi,Ui){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ui=!1}if(br=0,we=ve=oe=null,Kn=!1,ds=0,uu.current=null,r===null||r.return===null){ye=1,ps=t,pe=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bc(o);if(m!==null){m.flags&=-257,Nc(m,o,a,i,t),m.mode&1&&Tc(i,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break e}else{if(!(t&1)){Tc(i,u,t),pu();break e}l=Error(T(426))}}else if(se&&a.mode&1){var w=bc(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nc(w,o,a,i,t),ql(pn(l,a));break e}}i=l=pn(l,a),ye!==4&&(ye=2),Yn===null?Yn=[i]:Yn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=up(i,l,t);yc(i,g);break e;case 1:a=l;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xt===null||!Xt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=cp(i,a,t);yc(i,E);break e}}i=i.return}while(i!==null)}kp(r)}catch(S){t=S,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function Op(){var e=$i.current;return $i.current=Mi,e===null?Mi:e}function pu(){(ye===0||ye===3||ye===2)&&(ye=4),Ee===null||!(Nr&268435455)&&!(fo&268435455)||zt(Ee,Ne)}function zi(e,t){var r=K;K|=2;var n=Op();(Ee!==e||Ne!==t)&&(Nt=null,Er(e,t));do try{Av();break}catch(s){Np(e,s)}while(!0);if(Jl(),K=r,$i.current=n,pe!==null)throw Error(T(261));return Ee=null,Ne=0,ye}function Av(){for(;pe!==null;)Ip(pe)}function Cv(){for(;pe!==null&&!rg();)Ip(pe)}function Ip(e){var t=Cp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?kp(e):pe=t,uu.current=null}function kp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Tv(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,pe=null;return}}else if(r=Sv(r,t,Ge),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ye===0&&(ye=5)}function cr(e,t,r){var n=J,s=rt.transition;try{rt.transition=null,J=1,Rv(e,t,r,n)}finally{rt.transition=s,J=n}return null}function Rv(e,t,r,n){do nn();while(Wt!==null);if(K&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(hg(e,i),e===Ee&&(pe=Ee=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hs||(Hs=!0,Rp(Si,function(){return nn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var o=J;J=1;var a=K;K|=4,uu.current=null,Nv(e,r),Sp(r,e),Xg(Ra),bi=!!Ca,Ra=Ca=null,e.current=r,Ov(r),ng(),K=a,J=o,rt.transition=i}else e.current=r;if(Hs&&(Hs=!1,Wt=e,Bi=s),i=e.pendingLanes,i===0&&(Xt=null),og(r.stateNode),Ve(e,ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fi)throw Fi=!1,e=Xa,Xa=null,e;return Bi&1&&e.tag!==0&&nn(),i=e.pendingLanes,i&1?e===Za?Jn++:(Jn=0,Za=e):Jn=0,ir(),null}function nn(){if(Wt!==null){var e=uf(Bi),t=rt.transition,r=J;try{if(rt.transition=null,J=16>e?16:e,Wt===null)var n=!1;else{if(e=Wt,Wt=null,Bi=0,K&6)throw Error(T(331));var s=K;for(K|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:qn(8,d,i)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,m=d.return;if(wp(d),d===u){A=null;break}if(f!==null){f.return=m,A=f;break}A=m}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,A=g;break e}A=i.return}}var p=e.current;for(A=p;A!==null;){o=A;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,A=v;else e:for(o=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ho(9,a)}}catch(S){ue(a,a.return,S)}if(a===o){A=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,A=E;break e}A=a.return}}if(K=s,ir(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(no,e)}catch{}n=!0}return n}finally{J=r,rt.transition=t}}return!1}function $c(e,t,r){t=pn(r,t),t=up(e,t,1),e=Qt(e,t,1),t=Pe(),e!==null&&(Es(e,1,t),Ve(e,t))}function ue(e,t,r){if(e.tag===3)$c(e,e,r);else for(;t!==null;){if(t.tag===3){$c(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=pn(r,e),e=cp(t,e,1),t=Qt(t,e,1),e=Pe(),t!==null&&(Es(t,1,e),Ve(t,e));break}}t=t.return}}function jv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(Ne&r)===r&&(ye===4||ye===3&&(Ne&130023424)===Ne&&500>ce()-du?Er(e,0):cu|=r),Ve(e,t)}function Ap(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var r=Pe();e=Pt(e,t),e!==null&&(Es(e,t,r),Ve(e,r))}function Pv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ap(e,r)}function Dv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Ap(e,r)}var Cp;Cp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Be=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Be=!1,xv(e,t,r);Be=!!(e.flags&131072)}else Be=!1,se&&t.flags&1048576&&Df(t,Ri,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ci(e,t),e=t.pendingProps;var s=cn(t,Re.current);rn(t,r),s=su(null,t,n,e,s,r);var i=iu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(n)?(i=!0,Ai(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zl(t),s.updater=co,t.stateNode=s,s._reactInternals=t,Ba(t,n,e,r),t=Va(null,t,n,!0,i,r)):(t.tag=0,se&&i&&Wl(t),je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Uv(n),e=at(n,e),s){case 0:t=Ha(null,t,n,e,r);break e;case 1:t=kc(null,t,n,e,r);break e;case 11:t=Oc(null,t,n,e,r);break e;case 14:t=Ic(null,t,n,at(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Ha(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),kc(e,t,n,s,r);case 3:e:{if(pp(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Bf(e,t),Di(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pn(Error(T(423)),t),t=Ac(e,t,n,r,s);break e}else if(n!==s){s=pn(Error(T(424)),t),t=Ac(e,t,n,r,s);break e}else for(Ke=Jt(t.stateNode.containerInfo.firstChild),qe=t,se=!0,dt=null,r=$f(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){t=Dt(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return zf(t),e===null&&Ma(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ja(n,s)?o=null:i!==null&&ja(n,i)&&(t.flags|=32),fp(e,t),je(e,t,o,r),t.child;case 6:return e===null&&Ma(t),null;case 13:return mp(e,t,r);case 4:return eu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Oc(e,t,n,s,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Z(ji,n._currentValue),n._currentValue=o,i!==null)if(mt(i.value,o)){if(i.children===s.children&&!ze.current){t=Dt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ct(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$a(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),$a(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,rn(t,r),s=nt(s),n=n(s),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),Ic(e,t,n,s,r);case 15:return dp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),ci(e,t),t.tag=1,He(n)?(e=!0,Ai(t)):e=!1,rn(t,r),lp(t,n,s),Ba(t,n,s,r),Va(null,t,n,!0,e,r);case 19:return gp(e,t,r);case 22:return hp(e,t,r)}throw Error(T(156,t.tag))};function Rp(e,t){return sf(e,t)}function Lv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,r,n){return new Lv(e,t,r,n)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uv(e){if(typeof e=="function")return mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pl)return 11;if(e===Dl)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")mu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Br:return xr(r.children,s,i,t);case jl:o=8,s|=8;break;case da:return e=tt(12,r,t,s|2),e.elementType=da,e.lanes=i,e;case ha:return e=tt(13,r,t,s),e.elementType=ha,e.lanes=i,e;case fa:return e=tt(19,r,t,s),e.elementType=fa,e.lanes=i,e;case Bh:return po(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $h:o=10;break e;case Fh:o=9;break e;case Pl:o=11;break e;case Dl:o=14;break e;case $t:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=tt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function xr(e,t,r,n){return e=tt(7,e,n,t),e.lanes=r,e}function po(e,t,r,n){return e=tt(22,e,n,t),e.elementType=Bh,e.lanes=r,e.stateNode={isHidden:!1},e}function Yo(e,t,r){return e=tt(6,e,null,t),e.lanes=r,e}function Jo(e,t,r){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mv(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gu(e,t,r,n,s,i,o,a,l){return e=new Mv(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(i),e}function $v(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jp(e){if(!e)return rr;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(He(r))return jf(e,r,t)}return t}function Pp(e,t,r,n,s,i,o,a,l){return e=gu(r,n,!0,e,s,i,o,a,l),e.context=jp(null),r=e.current,n=Pe(),s=Zt(r),i=Ct(n,s),i.callback=t??null,Qt(r,i,s),e.current.lanes=s,Es(e,s,n),Ve(e,n),e}function mo(e,t,r,n){var s=t.current,i=Pe(),o=Zt(s);return r=jp(r),t.context===null?t.context=r:t.pendingContext=r,t=Ct(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qt(s,t,o),e!==null&&(pt(e,s,o,i),ai(e,s,o)),o}function Hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vu(e,t){Fc(e,t),(e=e.alternate)&&Fc(e,t)}function Fv(){return null}var Dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function yu(e){this._internalRoot=e}go.prototype.render=yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));mo(e,t,null,null)};go.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){mo(null,e,null,null)}),t[jt]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var t=hf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&pf(e)}};function _u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function Bv(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Hi(o);i.call(u)}}var o=Pp(t,n,e,0,null,!1,!1,"",Bc);return e._reactRootContainer=o,e[jt]=o.current,os(e.nodeType===8?e.parentNode:e),Or(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Hi(l);a.call(u)}}var l=gu(e,0,!1,null,null,!1,!1,"",Bc);return e._reactRootContainer=l,e[jt]=l.current,os(e.nodeType===8?e.parentNode:e),Or(function(){mo(t,l,r,n)}),l}function yo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Hi(o);a.call(l)}}mo(t,o,e,s)}else o=Bv(r,t,e,s,n);return Hi(o)}cf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(Ml(t,r|1),Ve(t,ce()),!(K&6)&&(mn=ce()+500,ir()))}break;case 13:Or(function(){var n=Pt(e,1);if(n!==null){var s=Pe();pt(n,e,1,s)}}),vu(e,1)}};$l=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=Pe();pt(t,e,134217728,r)}vu(e,134217728)}};df=function(e){if(e.tag===13){var t=Zt(e),r=Pt(e,t);if(r!==null){var n=Pe();pt(r,e,t,n)}vu(e,t)}};hf=function(){return J};ff=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};Sa=function(e,t,r){switch(t){case"input":if(ga(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ao(n);if(!s)throw Error(T(90));Hh(n),ga(n,s)}}}break;case"textarea":Gh(e,r);break;case"select":t=r.value,t!=null&&Xr(e,!!r.multiple,t,!1)}};Xh=hu;Zh=Or;var zv={usingClientEntryPoint:!1,Events:[Ss,Gr,ao,Jh,Qh,hu]},Rn={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hv={bundleType:Rn.bundleType,version:Rn.version,rendererPackageName:Rn.rendererPackageName,rendererConfig:Rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rf(e),e===null?null:e.stateNode},findFiberByHostInstance:Rn.findFiberByHostInstance||Fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{no=Vs.inject(Hv),xt=Vs}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;Je.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_u(t))throw Error(T(200));return $v(e,t,null,r)};Je.createRoot=function(e,t){if(!_u(e))throw Error(T(299));var r=!1,n="",s=Dp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gu(e,1,!1,null,null,r,!1,n,s),e[jt]=t.current,os(e.nodeType===8?e.parentNode:e),new yu(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=rf(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return Or(e)};Je.hydrate=function(e,t,r){if(!vo(t))throw Error(T(200));return yo(null,e,t,!0,r)};Je.hydrateRoot=function(e,t,r){if(!_u(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Dp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Pp(t,null,e,1,r??null,s,!1,i,o),e[jt]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new go(t)};Je.render=function(e,t,r){if(!vo(t))throw Error(T(200));return yo(null,e,t,!1,r)};Je.unmountComponentAtNode=function(e){if(!vo(e))throw Error(T(40));return e._reactRootContainer?(Or(function(){yo(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Je.unstable_batchedUpdates=hu;Je.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vo(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return yo(e,t,r,!1,n)};Je.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Dh.exports=Je;var Vv=Dh.exports,zc=Vv;ua.createRoot=zc.createRoot,ua.hydrateRoot=zc.hydrateRoot;var Gv=typeof Element<"u",Wv=typeof Map=="function",Kv=typeof Set=="function",qv=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function pi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!pi(e[n],t[n]))return!1;return!0}var i;if(Wv&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!pi(n.value[1],t.get(n.value[0])))return!1;return!0}if(Kv&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(qv&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;if(Gv&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&e.$$typeof)&&!pi(e[s[n]],t[s[n]]))return!1;return!0}return e!==e&&t!==t}var Yv=function(t,r){try{return pi(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Jv=ys(Yv);var Qv=function(e,t,r,n,s,i,o,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,i,o,a],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Xv=Qv;const Hc=ys(Xv);var Zv=function(t,r,n,s){var i=n?n.call(s,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),a=Object.keys(r);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<o.length;u++){var d=o[u];if(!l(d))return!1;var h=t[d],f=r[d];if(i=n?n.call(s,h,f,d):void 0,i===!1||i===void 0&&h!==f)return!1}return!0};const ey=ys(Zv);var Up=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Up||{}),Qo={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Vc=Object.values(Up),wu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ty=Object.entries(wu).reduce((e,[t,r])=>(e[r]=t,e),{}),ht="data-rh",sn={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},on=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},ry=e=>{let t=on(e,"title");const r=on(e,sn.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=on(e,sn.DEFAULT_TITLE);return t||n||void 0},ny=e=>on(e,sn.ON_CHANGE_CLIENT_STATE)||(()=>{}),Xo=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),sy=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const s=Object.keys(n);for(let i=0;i<s.length;i+=1){const a=s[i].toLowerCase();if(e.indexOf(a)!==-1&&n[a])return r.concat(n)}}return r},[]),iy=e=>console&&typeof console.warn=="function"&&console.warn(e),jn=(e,t,r)=>{const n={};return r.filter(s=>Array.isArray(s[e])?!0:(typeof s[e]<"u"&&iy(`Helmet: ${e} should be of type "Array". Instead found type "${typeof s[e]}"`),!1)).map(s=>s[e]).reverse().reduce((s,i)=>{const o={};i.filter(l=>{let u;const d=Object.keys(l);for(let f=0;f<d.length;f+=1){const m=d[f],y=m.toLowerCase();t.indexOf(y)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(u=y),t.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(u=m)}if(!u||!l[u])return!1;const h=l[u].toLowerCase();return n[u]||(n[u]={}),o[u]||(o[u]={}),n[u][h]?!1:(o[u][h]=!0,!0)}).reverse().forEach(l=>s.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const u=a[l],d={...n[u],...o[u]};n[u]=d}return s},[]).reverse()},oy=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},ay=e=>({baseTag:sy(["href"],e),bodyAttributes:Xo("bodyAttributes",e),defer:on(e,sn.DEFER),encode:on(e,sn.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Xo("htmlAttributes",e),linkTags:jn("link",["rel","href"],e),metaTags:jn("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:jn("noscript",["innerHTML"],e),onChangeClientState:ny(e),scriptTags:jn("script",["src","innerHTML"],e),styleTags:jn("style",["cssText"],e),title:ry(e),titleAttributes:Xo("titleAttributes",e),prioritizeSeoTags:oy(e,sn.PRIORITIZE_SEO_TAGS)}),Mp=e=>Array.isArray(e)?e.join(""):e,ly=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Zo=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(ly(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},Gc=(e,t)=>({...e,[t]:void 0}),uy=["noscript","script","style"],rl=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),$p=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),cy=(e,t,r,n)=>{const s=$p(r),i=Mp(t);return s?`<${e} ${ht}="true" ${s}>${rl(i,n)}</${e}>`:`<${e} ${ht}="true">${rl(i,n)}</${e}>`},dy=(e,t,r=!0)=>t.reduce((n,s)=>{const i=s,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof i[d]>"u"?d:`${d}="${rl(i[d],r)}"`;return u?`${u} ${h}`:h},""),a=i.innerHTML||i.cssText||"",l=uy.indexOf(e)===-1;return`${n}<${e} ${ht}="true" ${o}${l?"/>":`>${a}</${e}>`}`},""),Fp=(e,t={})=>Object.keys(e).reduce((r,n)=>{const s=wu[n];return r[s||n]=e[n],r},t),hy=(e,t,r)=>{const n={key:t,[ht]:!0},s=Fp(r,n);return[It.createElement("title",s,t)]},mi=(e,t)=>t.map((r,n)=>{const s={key:n,[ht]:!0};return Object.keys(r).forEach(i=>{const a=wu[i]||i;if(a==="innerHTML"||a==="cssText"){const l=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[a]=r[i]}),It.createElement(e,s)}),Xe=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>hy(e,t.title,t.titleAttributes),toString:()=>cy(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Fp(t),toString:()=>$p(t)};default:return{toComponent:()=>mi(e,t),toString:()=>dy(e,t,r)}}},fy=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const s=Zo(e,Qo.meta),i=Zo(t,Qo.link),o=Zo(r,Qo.script);return{priorityMethods:{toComponent:()=>[...mi("meta",s.priority),...mi("link",i.priority),...mi("script",o.priority)],toString:()=>`${Xe("meta",s.priority,n)} ${Xe("link",i.priority,n)} ${Xe("script",o.priority,n)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}},py=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:h,scriptTags:f}=e,m={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:m,linkTags:d,metaTags:h,scriptTags:f}=fy(e)),{priority:m,base:Xe("base",t,n),bodyAttributes:Xe("bodyAttributes",r,n),htmlAttributes:Xe("htmlAttributes",s,n),link:Xe("link",d,n),meta:Xe("meta",h,n),noscript:Xe("noscript",i,n),script:Xe("script",f,n),style:Xe("style",o,n),title:Xe("title",{title:a,titleAttributes:l},n)}},nl=py,Gs=[],Bp=!!(typeof window<"u"&&window.document&&window.document.createElement),sl=class{constructor(e,t){bt(this,"instances",[]);bt(this,"canUseDOM",Bp);bt(this,"context");bt(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Gs:this.instances,add:e=>{(this.canUseDOM?Gs:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Gs:this.instances).indexOf(e);(this.canUseDOM?Gs:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=nl({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},my={},zp=It.createContext(my),wr,Hp=(wr=class extends k.Component{constructor(r){super(r);bt(this,"helmetData");this.helmetData=new sl(this.props.context||{},wr.canUseDOM)}render(){return It.createElement(zp.Provider,{value:this.helmetData.value},this.props.children)}},bt(wr,"canUseDOM",Bp),wr),jr=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${ht}]`),s=[].slice.call(n),i=[];let o;return t&&t.length&&t.forEach(a=>{const l=document.createElement(e);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")l.innerHTML=a.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const d=u,h=typeof a[d]>"u"?"":a[d];l.setAttribute(u,h)}l.setAttribute(ht,"true"),s.some((u,d)=>(o=d,l.isEqualNode(u)))?s.splice(o,1):i.push(l)}),s.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),i.forEach(a=>r.appendChild(a)),{oldTags:s,newTags:i}},il=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(ht),s=n?n.split(","):[],i=[...s],o=Object.keys(t);for(const a of o){const l=t[a]||"";r.getAttribute(a)!==l&&r.setAttribute(a,l),s.indexOf(a)===-1&&s.push(a);const u=i.indexOf(a);u!==-1&&i.splice(u,1)}for(let a=i.length-1;a>=0;a-=1)r.removeAttribute(i[a]);s.length===i.length?r.removeAttribute(ht):r.getAttribute(ht)!==o.join(",")&&r.setAttribute(ht,o.join(","))},gy=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=Mp(e)),il("title",t)},Wc=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:u,styleTags:d,title:h,titleAttributes:f}=e;il("body",n),il("html",s),gy(h,f);const m={baseTag:jr("base",r),linkTags:jr("link",i),metaTags:jr("meta",o),noscriptTags:jr("noscript",a),scriptTags:jr("script",u),styleTags:jr("style",d)},y={},_={};Object.keys(m).forEach(w=>{const{newTags:g,oldTags:p}=m[w];g.length&&(y[w]=g),p.length&&(_[w]=m[w].oldTags)}),t&&t(),l(e,y,_)},Pn=null,vy=e=>{Pn&&cancelAnimationFrame(Pn),e.defer?Pn=requestAnimationFrame(()=>{Wc(e,()=>{Pn=null})}):(Wc(e),Pn=null)},yy=vy,Kc=class extends k.Component{constructor(){super(...arguments);bt(this,"rendered",!1)}shouldComponentUpdate(t){return!ey(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const s=ay(t.get().map(i=>{const o={...i.props};return delete o.context,o}));Hp.canUseDOM?yy(s):nl&&(n=nl(s)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},la,_y=(la=class extends k.Component{shouldComponentUpdate(e){return!Jv(Gc(this.props,"helmetData"),Gc(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return Hc(Vc.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Vc.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Hc(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return It.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:s,...i}=n.props,o=Object.keys(i).reduce((l,u)=>(l[ty[u]||u]=i[u],l),{});let{type:a}=n;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(n,s),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,o,s);break;default:t=this.mapObjectTypeChildren(n,t,o,s);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof sl)){const s=n;n=new sl(s.context,!0),delete r.helmetData}return n?It.createElement(Kc,{...r,context:n.value}):It.createElement(zp.Consumer,null,s=>It.createElement(Kc,{...r,context:s}))}},bt(la,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),la);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vp=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ey={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>k.createElement("svg",{ref:l,...Ey,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Vp("lucide",s),...a},[...o.map(([u,d])=>k.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=(e,t)=>{const r=k.forwardRef(({className:n,...s},i)=>k.createElement(xy,{ref:i,iconNode:t,className:Vp(`lucide-${wy(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=z("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=z("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=z("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=z("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=z("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=z("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=z("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=z("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=z("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var G=(e=>(e.LANDING="LANDING",e.ABOUT="ABOUT",e.COOKBOOK="COOKBOOK",e.IDLE="IDLE",e.RECORDING="RECORDING",e.PROCESSING="PROCESSING",e.RECIPE_VIEW="RECIPE_VIEW",e.MEAL_PLAN_VIEW="MEAL_PLAN_VIEW",e.INGREDIENTS_INPUT="INGREDIENTS_INPUT",e.ERROR="ERROR",e))(G||{}),fe=(e=>(e.INSTANT="INSTANT",e.MEAL_PREP="MEAL_PREP",e))(fe||{});const Hy=["Vegetarian","Vegan","No Stove","Microwave Only","Under 15m","One Pot","High Protein","Low Carb"],Vy=({onCapture:e,onBack:t,isProcessing:r})=>{const n=k.useRef(null),s=k.useRef(null),i=k.useRef(null),o=k.useRef([]),a=k.useRef(null),[l,u]=k.useState(!1),[d,h]=k.useState(null),[f,m]=k.useState("GENERIC"),[y,_]=k.useState(0),[w,g]=k.useState([]),[p,v]=k.useState(!1),[E,S]=k.useState(fe.INSTANT),[b,N]=k.useState(["Dinner"]);k.useEffect(()=>((async()=>{h(null);try{const $=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!0});a.current=$,n.current&&(n.current.srcObject=$)}catch($){console.error("Error accessing media devices:",$),$.name==="NotAllowedError"||$.name==="PermissionDeniedError"?(h("Access Denied. Please enable camera and microphone permissions in your browser settings."),m("PERMISSION")):$.name==="NotFoundError"||$.name==="DevicesNotFoundError"?(h("No camera or microphone detected on this device."),m("HARDWARE")):$.name==="NotReadableError"||$.name==="TrackStartError"?(h("Hardware in use. Please close other apps using the camera/mic."),m("HARDWARE")):(h(`Unable to access media devices: ${$.message}`),m("GENERIC"))}})(),()=>{a.current&&a.current.getTracks().forEach($=>$.stop())}),[]),k.useEffect(()=>{let B;return l?B=window.setInterval(()=>{_($=>$+1)},1e3):_(0),()=>clearInterval(B)},[l]);const I=k.useCallback(()=>{if(n.current&&s.current){const B=s.current.getContext("2d");if(B)return s.current.width=n.current.videoWidth,s.current.height=n.current.videoHeight,B.drawImage(n.current,0,0),s.current.toDataURL("image/jpeg",.8).split(",")[1]}return null},[]),H=B=>{g($=>$.includes(B)?$.filter(_e=>_e!==B):[...$,B])},L=B=>{N($=>$.includes(B)&&$.length===1?$:$.includes(B)?$.filter(_e=>_e!==B):[...$,B])},Q=()=>{if(!a.current||r)return;const B=a.current.getAudioTracks();if(B.length===0){h("Microphone not active. Please check input settings."),m("HARDWARE");return}u(!0),o.current=[];const $=[],_e=I();_e&&$.push(_e);let Ue="audio/webm";MediaRecorder.isTypeSupported("audio/mp4")?Ue="audio/mp4":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")&&(Ue="audio/webm;codecs=opus");try{const O=new MediaStream([B[0]]),j=new MediaRecorder(O,{mimeType:Ue});i.current=j,j.ondataavailable=W=>{W.data.size>0&&o.current.push(W.data)};const U=setInterval(()=>{const W=I();W&&$.push(W)},1e3);j.onstop=async()=>{clearInterval(U);const W=new Blob(o.current,{type:Ue});W.size===0&&console.warn("Audio recording empty");const Y=new FileReader;Y.readAsDataURL(W),Y.onloadend=()=>{const gt=Y.result.split(",")[1];e({images:$,audio:gt,audioMimeType:Ue,constraints:w,mode:E,mealTypes:E===fe.MEAL_PREP?b:void 0})}},j.start()}catch(O){console.error("MediaRecorder error",O),h(`Failed to start recording: ${O.message}`),m("GENERIC"),u(!1)}},xe=()=>{if(i.current&&l){try{i.current.stop()}catch(B){console.error("Error stopping recorder:",B)}u(!1)}},me=B=>{const $=Math.floor(B/60),_e=B%60;return`${$}:${_e.toString().padStart(2,"0")}`};return d?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center bg-stone-900 p-8 space-y-6",children:[c.jsx("div",{className:"p-4 bg-red-900/20 rounded-full text-red-400 border border-red-900/50 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:c.jsx(Fy,{size:48,strokeWidth:1.5})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-2xl font-serif text-white",children:f==="PERMISSION"?"Permission Required":f==="HARDWARE"?"Device Error":"Connection Error"}),c.jsx("p",{className:"text-stone-400 max-w-xs mx-auto text-sm leading-relaxed",children:d})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:t,className:"px-6 py-3 border border-stone-700 text-stone-300 rounded-full hover:bg-stone-800 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-6 py-3 bg-stone-800 hover:bg-stone-700 text-white rounded-full transition-all text-sm font-medium tracking-wide uppercase",children:[c.jsx(ol,{size:16}),"Reload"]})]})]}):c.jsxs("div",{className:"relative h-full w-full bg-black overflow-hidden flex flex-col",children:[c.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover opacity-80"}),c.jsx("canvas",{ref:s,className:"hidden"}),c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/80 flex flex-col justify-between p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("button",{onClick:t,className:"p-3 bg-black/40 backdrop-blur-md rounded-full text-white/80 hover:bg-black/60 transition-colors",children:c.jsx(al,{size:20})}),c.jsxs("div",{className:"text-right pt-2",children:[c.jsx("h2",{className:"text-stone-300 text-[10px] font-medium tracking-widest uppercase mb-1",children:"The Chef's Muse"}),c.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),c.jsx("span",{className:"text-stone-400 text-xs",children:"Live Vision"})]})]})]}),!l&&c.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center w-full max-w-xs pointer-events-none",children:[c.jsx("h1",{className:"text-white font-serif text-3xl italic drop-shadow-lg mb-2",children:"What's in your fridge?"}),c.jsx("p",{className:"text-white/70 text-xs drop-shadow-md",children:"Pan over ingredients & speak your cravings."})]}),c.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[!l&&c.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[c.jsxs("div",{className:"flex bg-stone-800/80 backdrop-blur-md rounded-full p-1 border border-stone-700",children:[c.jsx("button",{onClick:()=>S(fe.INSTANT),className:`px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition-all ${E===fe.INSTANT?"bg-amber-350 text-stone-900 shadow-lg":"text-stone-400 hover:text-white"}`,children:"Instant Recipe"}),c.jsx("button",{onClick:()=>S(fe.MEAL_PREP),className:`px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition-all ${E===fe.MEAL_PREP?"bg-amber-350 text-stone-900 shadow-lg":"text-stone-400 hover:text-white"}`,children:"Student Meal Prep"})]}),c.jsx("div",{className:`transition-all duration-300 overflow-hidden ${E===fe.MEAL_PREP?"max-h-20 opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"flex gap-2 bg-black/40 backdrop-blur-sm p-2 rounded-xl border border-white/10",children:["Breakfast","Lunch","Dinner"].map(B=>c.jsx("button",{onClick:()=>L(B),className:`px-3 py-1.5 rounded-lg text-[10px] uppercase font-bold border transition-all ${b.includes(B)?"bg-amber-350/20 border-amber-350 text-amber-350":"bg-transparent border-stone-700 text-stone-500 hover:border-stone-500"}`,children:B},B))})}),c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsxs("button",{onClick:()=>v(!p),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium transition-all ${w.length>0||p?"bg-amber-350 text-stone-900":"bg-black/40 text-stone-300 backdrop-blur-md"}`,children:[c.jsx(xu,{size:14}),w.length>0?`${w.length} Filter${w.length>1?"s":""}`:"Kitchen Constraints"]})}),c.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${p?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-sm mx-auto p-2",children:Hy.map(B=>c.jsx("button",{onClick:()=>H(B),className:`px-3 py-1 rounded-full text-[10px] uppercase tracking-wider border transition-all ${w.includes(B)?"bg-amber-350 border-amber-350 text-stone-900 font-bold":"bg-black/60 border-stone-600 text-stone-400 hover:border-amber-350/50"}`,children:B},B))})})]})]}),l&&c.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm px-4 py-1 rounded-full border border-red-500/50 flex items-center gap-2 animate-pulse",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),c.jsx("span",{className:"text-red-100 font-mono text-sm",children:me(y)})]}),c.jsxs("button",{onMouseDown:Q,onMouseUp:xe,onTouchStart:Q,onTouchEnd:xe,disabled:r,className:`
              relative w-20 h-20 rounded-full border-4 flex items-center justify-center transition-all duration-300 shadow-xl
              ${l?"border-red-500 bg-red-500/20 scale-110 shadow-[0_0_30px_rgba(239,68,68,0.4)]":"border-white/80 hover:border-amber-350 hover:bg-white/10"}
              ${r?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:[l?c.jsx(My,{className:"w-6 h-6 text-red-500 fill-current"}):c.jsx(Gi,{className:"w-8 h-8 text-white"}),!l&&!r&&c.jsx("span",{className:"absolute -bottom-8 whitespace-nowrap text-stone-400 text-[10px] tracking-widest uppercase",children:"Hold to Speak"})]})]})]})]})};var Su={},Wi={},ll=function(e,t){return ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ll(e,t)};function Wp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ll(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ki=function(){return Ki=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ki.apply(this,arguments)};function En(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Kp(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function qp(e,t){return function(r,n){t(r,n,e)}}function Yp(e,t,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var y={};for(var _ in n)y[_]=_==="access"?{}:n[_];for(var _ in n.access)y.access[_]=n.access[_];y.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var w=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(d.get=h),(h=o(w.set))&&(d.set=h),(h=o(w.init))&&s.unshift(h)}else(h=o(w))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Jp(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function Qp(e){return typeof e=="symbol"?e:"".concat(e)}function Xp(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Zp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function C(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function em(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var _o=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function tm(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_o(t,e,r)}function qi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tu(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function rm(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tu(arguments[t]));return e}function nm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function sm(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gn(e){return this instanceof gn?(this.v=e,this):new gn(e)}function im(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,h)}}function a(m,y){n[m]&&(s[m]=function(_){return new Promise(function(w,g){i.push([m,_,w,g])>1||l(m,_)})},y&&(s[m]=y(s[m])))}function l(m,y){try{u(n[m](y))}catch(_){f(i[0][3],_)}}function u(m){m.value instanceof gn?Promise.resolve(m.value.v).then(d,h):f(i[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function f(m,y){m(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function om(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:gn(e[s](o)),done:!1}:i?i(o):o}:i}}function am(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof qi=="function"?qi(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function lm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Gy=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ul=function(e){return ul=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ul(e)};function um(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ul(e),n=0;n<r.length;n++)r[n]!=="default"&&_o(t,e,r[n]);return Gy(t,e),t}function cm(e){return e&&e.__esModule?e:{default:e}}function dm(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function hm(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function fm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pm(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Wy=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function mm(e){function t(i){e.error=e.hasError?new Wy(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function gm(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const Ky={__extends:Wp,__assign:Ki,__rest:En,__decorate:Kp,__param:qp,__esDecorate:Yp,__runInitializers:Jp,__propKey:Qp,__setFunctionName:Xp,__metadata:Zp,__awaiter:C,__generator:em,__createBinding:_o,__exportStar:tm,__values:qi,__read:Tu,__spread:rm,__spreadArrays:nm,__spreadArray:sm,__await:gn,__asyncGenerator:im,__asyncDelegator:om,__asyncValues:am,__makeTemplateObject:lm,__importStar:um,__importDefault:cm,__classPrivateFieldGet:dm,__classPrivateFieldSet:hm,__classPrivateFieldIn:fm,__addDisposableResource:pm,__disposeResources:mm,__rewriteRelativeImportExtension:gm},qy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pm,get __assign(){return Ki},__asyncDelegator:om,__asyncGenerator:im,__asyncValues:am,__await:gn,__awaiter:C,__classPrivateFieldGet:dm,__classPrivateFieldIn:fm,__classPrivateFieldSet:hm,__createBinding:_o,__decorate:Kp,__disposeResources:mm,__esDecorate:Yp,__exportStar:tm,__extends:Wp,__generator:em,__importDefault:cm,__importStar:um,__makeTemplateObject:lm,__metadata:Zp,__param:qp,__propKey:Qp,__read:Tu,__rest:En,__rewriteRelativeImportExtension:gm,__runInitializers:Jp,__setFunctionName:Xp,__spread:rm,__spreadArray:sm,__spreadArrays:nm,__values:qi,default:Ky},Symbol.toStringTag,{value:"Module"})),Yy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let wo=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},vm=class extends wo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},cl=class extends wo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},dl=class extends wo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Yi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yi||(Yi={}));class Jy{constructor(t,{headers:r={},customFetch:n,region:s=Yi.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Yy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return C(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let _;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(f["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(f["Content-Type"]="application/json",_=JSON.stringify(u)):_=u;let w=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:_,signal:w}).catch(S=>{throw new vm(S)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new cl(g);if(!g.ok)throw new dl(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return v==="application/json"?E=yield g.json():v==="application/octet-stream"||v==="application/pdf"?E=yield g.blob():v==="text/event-stream"?E=g:v==="multipart/form-data"?E=yield g.formData():E=yield g.text(),{data:E,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof dl||a instanceof cl?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const Qy=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Yi},FunctionsClient:Jy,FunctionsError:wo,FunctionsFetchError:vm,FunctionsHttpError:dl,FunctionsRelayError:cl},Symbol.toStringTag,{value:"Module"})),ym=_s(Qy);var Ce={};const xn=_s(qy);var Ws={},Ks={},qs={},Ys={},Js={},Qs={},td;function _m(){if(td)return Qs;td=1,Object.defineProperty(Qs,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Qs.default=e,Qs}var rd;function wm(){if(rd)return Js;rd=1,Object.defineProperty(Js,"__esModule",{value:!0});const t=xn.__importDefault(_m());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,f;let m=null,y=null,_=null,w=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&E&&E.length>1&&(_=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,_=null,w=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await l.text();try{m=JSON.parse(v),Array.isArray(m)&&l.status===404&&(y=[],m=null,w=200,g="OK")}catch{l.status===404&&v===""?(w=204,g="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,w=200,g="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:y,count:_,status:w,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,h,f,m,y;let _="";const w=l==null?void 0:l.cause;if(w){const g=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",p=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";_=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,_+=`

Caused by: ${(f=w==null?void 0:w.name)!==null&&f!==void 0?f:"Error"}: ${g}`,p&&(_+=` (${p})`),w!=null&&w.stack&&(_+=`
${w.stack}`)}else _=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return Js.default=r,Js}var nd;function Em(){if(nd)return Ys;nd=1,Object.defineProperty(Ys,"__esModule",{value:!0});const t=xn.__importDefault(wm());let r=class extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Ys.default=r,Ys}var sd;function bu(){if(sd)return qs;sd=1,Object.defineProperty(qs,"__esModule",{value:!0});const t=xn.__importDefault(Em()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return qs.default=n,qs}var id;function xm(){if(id)return Ks;id=1,Object.defineProperty(Ks,"__esModule",{value:!0});const t=xn.__importDefault(bu());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Ks.default=r,Ks}var od;function Xy(){if(od)return Ws;od=1,Object.defineProperty(Ws,"__esModule",{value:!0});const e=xn,t=e.__importDefault(xm()),r=e.__importDefault(bu());let n=class Sm{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Sm(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{f.searchParams.append(_,w)})):(h="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Ws.default=n,Ws}Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Sn=xn,Tm=Sn.__importDefault(Xy());Ce.PostgrestClient=Tm.default;const bm=Sn.__importDefault(xm());Ce.PostgrestQueryBuilder=bm.default;const Nm=Sn.__importDefault(bu());Ce.PostgrestFilterBuilder=Nm.default;const Om=Sn.__importDefault(Em());Ce.PostgrestTransformBuilder=Om.default;const Im=Sn.__importDefault(wm());Ce.PostgrestBuilder=Im.default;const km=Sn.__importDefault(_m());Ce.PostgrestError=km.default;Ce.default={PostgrestClient:Tm.default,PostgrestQueryBuilder:bm.default,PostgrestFilterBuilder:Nm.default,PostgrestTransformBuilder:Om.default,PostgrestBuilder:Im.default,PostgrestError:km.default};class Am{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Zy="2.87.1",e_=`realtime-js/${Zy}`,Cm="1.0.0",t_="2.0.0",ad=Cm,hl=1e4,r_=1e3,n_=100;var pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pr||(pr={}));var de;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(de||(de={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var fl;(function(e){e.websocket="websocket"})(fl||(fl={}));var mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mr||(mr={}));class s_{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(m),_=0;y.setUint8(_++,this.KINDS.userBroadcastPush),y.setUint8(_++,l.length),y.setUint8(_++,a.length),y.setUint8(_++,o.length),y.setUint8(_++,u.length),y.setUint8(_++,h.length),y.setUint8(_++,r),Array.from(l,g=>y.setUint8(_++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(_++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(_++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(_++,g.charCodeAt(0))),Array.from(h,g=>y.setUint8(_++,g.charCodeAt(0)));var w=new Uint8Array(m.byteLength+n.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(n),m.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Rm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const ld=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=i_(o,e,t,s),i),{}):{}},i_=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?jm(i,o):pl(o)},jm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return u_(t,r)}switch(e){case X.bool:return o_(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return a_(t);case X.json:case X.jsonb:return l_(t);case X.timestamp:return c_(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return pl(t);default:return pl(t)}},pl=e=>e,o_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},a_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},l_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},u_=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jm(t,a))}return e},c_=e=>typeof e=="string"?e.replace(" ","T"):e,Pm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ea{constructor(t,r,n={},s=hl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ml;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ml||(ml={}));let Dm=class gi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=gi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),_=h.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(a[u]=y),_.length>0&&(l[u]=_)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var gl;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gl||(gl={}));var an;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(an||(an={}));var wt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));const d_=de;let Lm=class $n{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ea(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Rm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Dm(this),this.broadcastEndpointURL=Pm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[an.PRESENCE]&&this.bindings[an.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(wt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(wt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<w;p++){const v=_[p],{filter:{event:E,schema:S,table:b,filter:N}}=v,I=m&&m[p];if(I&&I.event===E&&$n.isFilterValueEqual(I.schema,S)&&$n.isFilterValueEqual(I.table,b)&&$n.isFilterValueEqual(I.filter,N))g.push(Object.assign(Object.assign({},v),{id:I.id}));else{this.unsubscribe(),this.state=de.errored,t==null||t(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(wt.SUBSCRIBED);return}}).receive("error",m=>{this.state=de.errored,t==null||t(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===de.joined&&t===an.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ea(this,ct.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ea(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>n_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=ct;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,_,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(_=m.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,_,w,g,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const E=m.id,S=(y=m.filter)===null||y===void 0?void 0:y.event;return E&&((_=r.ids)===null||_===void 0?void 0:_.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const E=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return E==="*"||E===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:w,commit_timestamp:g,type:p,errors:v}=y;f=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$n.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ld(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ld(t.columns,t.old_record)),r}};const ta=()=>{},Xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h_=[1e3,2e3,5e3,1e4],f_=1e4,p_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let m_=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hl,this.transport=null,this.heartbeatIntervalMs=Xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ta,this.ref=0,this.reconnectTimer=null,this.vsn=ad,this.logger=ta,this.conn=null,this.sendBuffer=[],this.serializer=new s_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fl.websocket}`,this.httpEndpoint=Pm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Am.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return mr.Connecting;case pr.open:return mr.Open;case pr.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Lm(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(r_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pr.open||this.conn.readyState===pr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([p_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:e_};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ct.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Rm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,d,h,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:hl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ta,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:ad,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>h_[y-1]||f_,this.vsn){case Cm:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,_)=>_(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(y,_)=>_(JSON.parse(y));break;case t_:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const g_=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:d_,get REALTIME_LISTEN_TYPES(){return an},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return gl},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ml},get REALTIME_SUBSCRIBE_STATES(){return wt},RealtimeChannel:Lm,RealtimeClient:m_,RealtimePresence:Dm,WebSocketFactory:Am},Symbol.toStringTag,{value:"Module"})),Um=_s(g_);class Ns extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Mm extends Ns{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ji extends Ns{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Nu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v_=()=>Response,vl=e=>{if(Array.isArray(e))return e.map(r=>vl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=vl(n)}),t},y_=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},__=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),ra=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},w_=(e,t,r)=>C(void 0,void 0,void 0,function*(){const n=yield v_();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Mm(ra(s),i,o))}).catch(s=>{t(new Ji(ra(s),s))}):t(new Ji(ra(e),e))}),E_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(y_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Os(e,t,r,n,s,i){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,E_(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>w_(l,a,n))})})}function gs(e,t,r,n){return C(this,void 0,void 0,function*(){return Os(e,"GET",t,r,n)})}function lt(e,t,r,n,s){return C(this,void 0,void 0,function*(){return Os(e,"POST",t,n,s,r)})}function yl(e,t,r,n,s){return C(this,void 0,void 0,function*(){return Os(e,"PUT",t,n,s,r)})}function x_(e,t,r,n){return C(this,void 0,void 0,function*(){return Os(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ou(e,t,r,n,s){return C(this,void 0,void 0,function*(){return Os(e,"DELETE",t,n,s,r)})}class S_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return C(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}}var $m;class T_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[$m]="BlobDownloadBuilder",this.promise=null}asStream(){return new S_(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return C(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ne(t))return{data:null,error:t};throw t}})}}$m=Symbol.toStringTag;const b_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ud={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N_{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Nu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return C(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ud),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?yl:lt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}})}upload(t,r,n){return C(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return C(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:ud.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield yl(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return C(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield lt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ns("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}update(t,r,n){return C(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return C(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}copy(t,r,n){return C(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return C(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return C(this,void 0,void 0,function*(){try{const s=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>gs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new T_(l,this.shouldThrowOnError)}info(t){return C(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}exists(t){return C(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield x_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n)&&n instanceof Ji){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return C(this,void 0,void 0,function*(){try{return{data:yield Ou(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}list(t,r,n){return C(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},b_),r),{prefix:t||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}listV2(t,r){return C(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Fm="2.87.1",Bm={"X-Client-Info":`storage-js/${Fm}`};class O_{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bm),r),this.fetch=Nu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return C(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield gs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}getBucket(t){return C(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}createBucket(t){return C(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return C(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}})}emptyBucket(t){return C(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(t){return C(this,void 0,void 0,function*(){try{return{data:yield Ou(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var vs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function I_(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function k_(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function A_(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=I_(e.baseUrl,n,s),l=await k_(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,y=m==null?void 0:m.error;throw new vs((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Zs(e){return e.join("")}var C_=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zs(e.namespace)}`}),!0}catch(t){if(t instanceof vs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof vs&&r.status===409)return;throw r}}};function Pr(e){return e.join("")}var R_=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof vs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof vs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},j_=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=A_({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new C_(this.client,t),this.tableOps=new R_(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class zm{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bm),r),this.fetch=Nu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return C(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}listBuckets(t){return C(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield gs(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(t){return C(this,void 0,void 0,function*(){try{return{data:yield Ou(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}})}from(t){if(!__(t))throw new Ns("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new j_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>C(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const a=i[o];return typeof a!="function"?a:(...l)=>C(this,void 0,void 0,function*(){try{return{data:yield a.apply(i,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const Iu={"X-Client-Info":`storage-js/${Fm}`,"Content-Type":"application/json"};class ku extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class vi extends ku{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hm extends ku{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var _l;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_l||(_l={}));const Eo=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P_=()=>Response,Vm=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},D_=e=>Array.from(new Float32Array(e)),L_=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},cd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U_=(e,t,r)=>C(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new vi(cd(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new vi(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new vi(a,s,o))}}else t(new Hm(cd(e),e))}),M_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Vm(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function $_(e,t,r,n,s,i){return C(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,M_(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>U_(l,a,n))})})}function We(e,t,r,n,s){return C(this,void 0,void 0,function*(){return $_(e,"POST",t,n,s,r)})}class Gm{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iu),r),this.fetch=Eo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return C(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getIndex(t,r){return C(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listIndexes(t){return C(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return C(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}class Wm{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iu),r),this.fetch=Eo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return C(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getVectors(t){return C(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}listVectors(t){return C(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield We(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}queryVectors(t){return C(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteVectors(t){return C(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield We(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class Km{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iu),r),this.fetch=Eo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return C(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getBucket(t){return C(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}listBuckets(){return C(this,arguments,void 0,function*(t={}){try{return{data:yield We(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return C(this,void 0,void 0,function*(){try{return{data:(yield We(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class qm extends Km{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Ym(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return C(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return C(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return C(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return C(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class Ym extends Gm{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return C(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return C(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return C(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return C(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Jm(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Jm extends Wm{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return C(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return C(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return C(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return C(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return C(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class F_ extends O_{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new N_(this.url,this.headers,t,this.fetch)}get vectors(){return new qm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zm(this.url+"/iceberg",this.headers,this.fetch)}}const B_=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:zm,StorageApiError:Mm,StorageClient:F_,StorageError:Ns,StorageUnknownError:Ji,StorageVectorsApiError:vi,StorageVectorsClient:qm,StorageVectorsError:ku,get StorageVectorsErrorCode(){return _l},StorageVectorsUnknownError:Hm,VectorBucketApi:Km,VectorBucketScope:Ym,VectorDataApi:Wm,VectorIndexApi:Gm,VectorIndexScope:Jm,isPlainObject:Vm,isStorageError:ne,isStorageVectorsError:Fe,normalizeToFloat32:D_,resolveFetch:Eo,resolveResponse:P_,validateVectorDimension:L_},Symbol.toStringTag,{value:"Module"})),z_=_s(B_);var Qm={},xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.version=void 0;xo.version="2.87.1";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=xo;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Qm);var Xm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:s;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),a(u,Object.assign(Object.assign({},d),{headers:m}))}};e.fetchWithAuth=n})(Xm);var or={};Object.defineProperty(or,"__esModule",{value:!0});or.isBrowser=void 0;or.uuid=H_;or.ensureTrailingSlash=Zm;or.applySettingDefaults=G_;or.validateSupabaseUrl=W_;function H_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function Zm(e){return e.endsWith("/")?e:e+"/"}const V_=()=>typeof window<"u";or.isBrowser=V_;function G_(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function W_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zm(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var So={};const e0="2.87.1",Mr=30*1e3,wl=3,na=wl*Mr,K_="http://localhost:9999",q_="supabase.auth.token",Y_={"X-Client-Info":`gotrue-js/${e0}`},El="X-Supabase-Api-Version",t0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Q_=10*60*1e3;let vn=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let r0=class extends vn{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function n0(e){return R(e)&&e.name==="AuthApiError"}let Ht=class extends vn{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Ut=class extends vn{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}},Me=class extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function s0(e){return R(e)&&e.name==="AuthSessionMissingError"}let dr=class extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Fn=class extends Ut{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Bn=class extends Ut{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function i0(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}let xl=class extends Ut{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Qi=class extends Ut{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function yi(e){return R(e)&&e.name==="AuthRetryableFetchError"}let Sl=class extends Ut{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function X_(e){return R(e)&&e.name==="AuthWeakPasswordError"}let Xi=class extends Ut{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dd=` 	
\r=`.split(""),Z_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dd.length;t+=1)e[dd[t].charCodeAt(0)]=-2;for(let t=0;t<Zi.length;t+=1)e[Zi[t].charCodeAt(0)]=t;return e})();function hd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zi[n]),t.queuedBits-=6}}function o0(e,t,r){const n=Z_[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fd(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{rw(o,n,r)};for(let o=0;o<e.length;o+=1)o0(e.charCodeAt(o),s,i);return t.join("")}function ew(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tw(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ew(n,t)}}function rw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ln(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)o0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function nw(e){const t=[];return tw(e,r=>t.push(r)),new Uint8Array(t)}function _r(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>hd(s,r,n)),hd(null,r,n),t.join("")}function sw(e){return Math.round(Date.now()/1e3)+e}function iw(){return Symbol("auth-callback")}const Te=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},a0=()=>{if(!Te())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function ow(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const l0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$r=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},lr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Se=async(e,t)=>{await e.removeItem(t)};class To{constructor(){this.promise=new To.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}To.promiseConstructor=Promise;function sa(e){const t=e.split(".");if(t.length!==3)throw new Xi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!J_.test(t[n]))throw new Xi("JWT not in base64url format");return{header:JSON.parse(fd(t[0])),payload:JSON.parse(fd(t[1])),signature:ln(t[2]),raw:{header:t[0],payload:t[1]}}}async function lw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uw(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function cw(e){return("0"+e.toString(16)).substr(-2)}function dw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,cw).join("")}async function hw(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function fw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=dw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $r(e,`${t}-code-verifier`,s);const i=await fw(n);return[i,n===i?"plain":"s256"]}const pw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mw(e){const t=e.headers.get(El);if(!t||!t.match(pw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(e){if(!yw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ia(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _w(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function pd(e){return JSON.parse(JSON.stringify(e))}const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ww=[502,503,504];async function md(e){var t;if(!aw(e))throw new Qi(hr(e),0);if(ww.includes(e.status))throw new Qi(hr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ht(hr(i),i)}let n;const s=mw(e);if(s&&s.getTime()>=t0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sl(hr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Me}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sl(hr(r),e.status,r.weak_password.reasons);throw new r0(hr(r),e.status||500,n)}const Ew=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[El]||(i[El]=t0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await xw(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function xw(e,t,r,n,s,i){const o=Ew(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Qi(hr(l),0)}if(a.ok||await md(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await md(l)}}function ot(e){var t;let r=null;bw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gd(e){const t=ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Sw(e){return{data:e,error:null}}function Tw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=En(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vd(e){return e}function bw(e){return e.access_token&&e.refresh_token&&e.expires_in}const _i=["global","local","others"];let Au=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=l0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=_i[0]){if(_i.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_i.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=En(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Tw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Lr(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Lr(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Lr(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Lr(t.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Lr(t.userId),Lr(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}};function yd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const fr={debug:!!(globalThis&&a0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cu extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let u0=class extends Cu{};class Nw extends Cu{}async function c0(e,t,r){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new u0(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const _d={};async function Ow(e,t,r){var n;const s=(n=_d[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),t>=0?new Promise((o,a)=>{setTimeout(()=>{a(new Nw(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return _d[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function Iw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function d0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kw(e){return parseInt(e,16)}function Aw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Cw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=d0(e.address),y=d?`${d}://${n}`:n,_=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${m}

${_}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${w}
${g}`}class he extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class eo extends he{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Rw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(h0(o)){if(i.rp.id!==o)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new he({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(h0(n)){if(r.rpId!==n)return new he({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Pw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Dw=new Pw;function Lw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=En(e,["challenge","user","excludeCredentials"]),i=ln(t).buffer,o=Object.assign(Object.assign({},r),{id:ln(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ln(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Uw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=En(e,["challenge","allowCredentials"]),s=ln(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ln(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Mw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_r(new Uint8Array(e.response.attestationObject)),clientDataJSON:_r(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $w(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_r(new Uint8Array(s.authenticatorData)),clientDataJSON:_r(new Uint8Array(s.clientDataJSON)),signature:_r(new Uint8Array(s.signature)),userHandle:s.userHandle?_r(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function h0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wd(){var e,t;return!!(Te()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Fw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eo("Browser returned unexpected credential type",t)}:{data:null,error:new eo("Empty credential response",t)}}catch(t){return{data:null,error:Rw({error:t,options:e})}}}async function Bw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eo("Browser returned unexpected credential type",t)}:{data:null,error:new eo("Empty credential response",t)}}catch(t){return{data:null,error:jw({error:t,options:e})}}}const zw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function to(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=to(a,o):n[i]=to(o)}else n[i]=o}return n}function Vw(e,t){return to(zw,e,t||{})}function Gw(e,t){return to(Hw,e,t||{})}class Ww{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??Dw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Vw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Fw({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Gw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Bw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Ht("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new vn("rpId is required for WebAuthn authentication")};try{if(!wd())return{data:null,error:new Ht("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Ht("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new vn("rpId is required for WebAuthn registration")};try{if(!wd())return{data:null,error:new Ht("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Ht("Unexpected error in register",o)}}}}Iw();const Kw={url:K_,storageKey:q_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ed(e,t,r){return await r()}const Ur={};let Ru=class Tl{get jwks(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Kw),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Tl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Tl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Te()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Au({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=l0(i.fetch),this.lock=i.lock||Ed,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Te()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=c0:this.lock=Ed,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ww(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:a0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yd(this.memoryStorage)),Te()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${e0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Te()&&(r=ow(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Te()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),i0(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new Ht("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ot}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Dr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:ot})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ot})}else throw new Fn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Se(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gd})}else throw new Fn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new dr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,d,h,f;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:_,wallet:w,statement:g,options:p}=t;let v;if(Te())if(typeof w=="object")v=w;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")v=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const E=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=d0(S[0]);let N=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const H=await v.request({method:"eth_chainId"});N=kw(H)}const I={domain:E.host,address:b,statement:g,uri:E.href,version:"1",chainId:N,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Cw(I),y=await v.request({method:"personal_sign",params:[Aw(m),b]})}try{const{data:_,error:w}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ot});if(w)throw w;if(!_||!_.session||!_.user){const g=new dr;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:w})}catch(_){if(R(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,f,m;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:w,wallet:g,statement:p,options:v}=t;let E;if(Te())if(typeof g=="object")E=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))E=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=g}const S=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const b=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let N;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")N=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)N=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const b=await E.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=b}}try{const{data:w,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:_r(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ot});if(g)throw g;if(!w||!w.session||!w.user){const p=new dr;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await lr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ot});if(await Se(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new dr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ot}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new dr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Dr(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Fn("You must provide either an email or phone number.")}catch(a){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Dr(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Sw});return!((i=u.data)===null||i===void 0)&&i.url&&Te()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Me;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(R(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Fn("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<na:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await lr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ia()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=_w(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Me}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Vt})})}catch(r){if(R(r))return s0(r)&&(await this._removeSession(),await Se(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Me;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Dr(this.storage,this.storageKey));const{data:u,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Vt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Me;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=sa(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Me;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Te())throw new Bn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xl("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Bn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await lr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(n0(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Se(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=iw(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Te()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ot}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new dr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await Se(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uw(async s=>(s>0&&await lw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&yi(i)&&Date.now()+o-n<Mr})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Te()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await lr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $r(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ia()}else if(s&&!s.user&&!s.user){const o=await lr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Se(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,s)):s.user=ia()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<na;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${na}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),yi(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Me;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new To;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Me;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return yi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Se(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $r(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=pd(s);await $r(this.storage,this.storageKey,i)}else{const s=pd(r);await $r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Se(this.storage,this.storageKey),await Se(this.storage,this.storageKey+"-code-verifier"),await Se(this.storage,this.storageKey+"-user"),this.userStorage&&await Se(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Te()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${wl} ticks`),s<=wl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Cu)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Te()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Mw(t.webauthn.credential_response):$w(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Lw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Uw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=sa(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Me})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Me});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Te()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Me});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Te()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Me})})}catch(t){if(R(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Me})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Q_>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=sa(n);r!=null&&r.allowExpired||gw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=vw(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,nw(`${a}.${l}`)))throw new Xi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}};Ru.nextInstanceID={};const qw=Au,Yw=Ru,Jw=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:qw,AuthApiError:r0,AuthClient:Yw,AuthError:vn,AuthImplicitGrantRedirectError:Bn,AuthInvalidCredentialsError:Fn,AuthInvalidJwtError:Xi,AuthInvalidTokenResponseError:dr,AuthPKCEGrantCodeExchangeError:xl,AuthRetryableFetchError:Qi,AuthSessionMissingError:Me,AuthUnknownError:Ht,AuthWeakPasswordError:Sl,CustomAuthError:Ut,GoTrueAdminApi:Au,GoTrueClient:Ru,NavigatorLockAcquireTimeoutError:u0,SIGN_OUT_SCOPES:_i,isAuthApiError:n0,isAuthError:R,isAuthImplicitGrantRedirectError:i0,isAuthRetryableFetchError:yi,isAuthSessionMissingError:s0,isAuthWeakPasswordError:X_,lockInternals:fr,navigatorLock:c0,processLock:Ow},Symbol.toStringTag,{value:"Module"})),f0=_s(Jw);Object.defineProperty(So,"__esModule",{value:!0});So.SupabaseAuthClient=void 0;const Qw=f0;class Xw extends Qw.AuthClient{constructor(t){super(t)}}So.SupabaseAuthClient=Xw;Object.defineProperty(Wi,"__esModule",{value:!0});const Zw=ym,eE=Ce,tE=Um,rE=z_,ei=Qm,nE=Xm,xd=or,sE=So;let iE=class{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=(0,xd.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:ei.DEFAULT_DB_OPTIONS,realtime:ei.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},ei.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:ei.DEFAULT_GLOBAL_OPTIONS},d=(0,xd.applySettingDefaults)(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,nE.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new eE.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new rE.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zw.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sE.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tE.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Wi.default=iE;(function(e){var t=Cr&&Cr.__createBinding||(Object.create?function(d,h,f,m){m===void 0&&(m=f);var y=Object.getOwnPropertyDescriptor(h,f);(!y||("get"in y?!h.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,m,y)}:function(d,h,f,m){m===void 0&&(m=f),d[m]=h[f]}),r=Cr&&Cr.__exportStar||function(d,h){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&t(h,d,f)},n=Cr&&Cr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const s=n(Wi);r(f0,e);var i=Ce;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=ym;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Um,e);var a=Wi;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(d,h,f)=>new s.default(d,h,f);e.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Su);const p0=ys(Su),oE=y0({__proto__:null,default:p0},[Su]),{PostgrestError:ZE,FunctionsHttpError:ex,FunctionsFetchError:tx,FunctionsRelayError:rx,FunctionsError:nx,FunctionRegion:sx,SupabaseClient:ix,createClient:aE,GoTrueAdminApi:ox,GoTrueClient:ax,AuthAdminApi:lx,AuthClient:ux,navigatorLock:cx,NavigatorLockAcquireTimeoutError:dx,lockInternals:hx,processLock:fx,SIGN_OUT_SCOPES:px,AuthError:mx,AuthApiError:gx,AuthUnknownError:vx,CustomAuthError:yx,AuthSessionMissingError:_x,AuthInvalidTokenResponseError:wx,AuthInvalidCredentialsError:Ex,AuthImplicitGrantRedirectError:xx,AuthPKCEGrantCodeExchangeError:Sx,AuthRetryableFetchError:Tx,AuthWeakPasswordError:bx,AuthInvalidJwtError:Nx,isAuthError:Ox,isAuthApiError:Ix,isAuthSessionMissingError:kx,isAuthImplicitGrantRedirectError:Ax,isAuthRetryableFetchError:Cx,isAuthWeakPasswordError:Rx,RealtimePresence:jx,RealtimeChannel:Px,RealtimeClient:Dx,REALTIME_LISTEN_TYPES:Lx,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Ux,REALTIME_PRESENCE_LISTEN_EVENTS:Mx,REALTIME_SUBSCRIBE_STATES:$x,REALTIME_CHANNEL_STATES:Fx}=p0||oE;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sd;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sd||(Sd={}));var Td;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Td||(Td={}));var bd;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(bd||(bd={}));var q;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(q||(q={}));var Nd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Nd||(Nd={}));var Od;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Od||(Od={}));var Id;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Id||(Id={}));var kd;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(kd||(kd={}));var Ad;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ad||(Ad={}));var Cd;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Cd||(Cd={}));var Rd;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Rd||(Rd={}));var jd;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(jd||(jd={}));var Pd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Pd||(Pd={}));var Dd;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Dd||(Dd={}));var Ld;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ld||(Ld={}));var Ud;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ud||(Ud={}));var Md;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Md||(Md={}));var $d;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})($d||($d={}));var Fd;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fd||(Fd={}));var bl;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bl||(bl={}));var Bd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Bd||(Bd={}));var zd;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zd||(zd={}));var Hd;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hd||(Hd={}));var Vd;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vd||(Vd={}));var Gd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Gd||(Gd={}));var Wd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wd||(Wd={}));var Kd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Kd||(Kd={}));var qd;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(qd||(qd={}));var Yd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Yd||(Yd={}));var Jd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jd||(Jd={}));var Qd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Qd||(Qd={}));var Xd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Xd||(Xd={}));var Zd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Zd||(Zd={}));var eh;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(eh||(eh={}));var th;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(th||(th={}));var rh;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rh||(rh={}));var nh;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nh||(nh={}));var sh;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sh||(sh={}));var ih;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(ih||(ih={}));var oh;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(oh||(oh={}));var ah;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(ah||(ah={}));var lh;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(lh||(lh={}));var uh;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uh||(uh={}));var ch;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(ch||(ch={}));var dh;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(dh||(dh={}));var hh;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(hh||(hh={}));var fh;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fh||(fh={}));var ph;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ph||(ph={}));var mh;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mh||(mh={}));var gh;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gh||(gh={}));var vh;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(vh||(vh={}));var yh;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yh||(yh={}));var _h;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_h||(_h={}));var wh;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(wh||(wh={}));var Eh;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Eh||(Eh={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xh;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(xh||(xh={}));const lE=`
You are "The Chef's Muse", a world-class culinary creative engine. 
Your goal is to invent a unique, delicious, and practical recipe based STRICTLY on the visual ingredients provided by the user and their audio/text request.

Rules:
1. Identify the ingredients visible in the video frames. If no video is provided, treat the user's text input as the list of available ingredients/cravings.
2. Listen to the user's audio or read the text input for constraints (e.g., "spicy", "20 mins", "vegetarian").
3. Assume basic pantry staples (oil, salt, pepper, basic spices) are available, but list them.
4. If the inputs are vague, improvise a "Chef's Special" that fits the vibe.
5. NEVER suggest ordering takeout. You must cook with what is there.
6. The recipe title should be evocative and artistic.
7. The description should be like a headnote in a gourmet cookbooksetting the mood.
8. Structure the output strictly as JSON.

Response format:
{
  "title": "String",
  "description": "String",
  "cuisineStyle": "String (e.g., Modern Rustic, Spicy Fusion)",
  "difficulty": "Easy" | "Medium" | "Hard" | "Expert",
  "totalTime": "String (e.g. 25 mins)",
  "ingredientsFound": ["String"],
  "pantryItemsNeeded": ["String"],
  "steps": [
    { "instruction": "String", "tip": "String (optional chef's secret)", "duration": "String (optional)" }
  ]
}
`,uE="https://udceawzdelhujtorgmmm.supabase.co",cE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVkY2Vhd3pkZWxodWp0b3JnbW1tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NDk3MjEsImV4cCI6MjA4MTEyNTcyMX0.XS-g-m_yNTdvEWvo_2er8YoGFshmQ_0jZeHwBdUCvD4",dE=aE(uE,cE),ju=async(e,t,r)=>{const{data:n,error:s}=await dE.functions.invoke("generate-recipe",{body:{model:e,contents:t,config:r}});if(s)throw console.error("Supabase Edge Function Error:",s),new Error(`Edge Function failed: ${s.message}`);return n},hE={type:q.OBJECT,properties:{title:{type:q.STRING},description:{type:q.STRING},cuisineStyle:{type:q.STRING},difficulty:{type:q.STRING,enum:["Easy","Medium","Hard","Expert"]},totalTime:{type:q.STRING},ingredientsFound:{type:q.ARRAY,items:{type:q.STRING}},pantryItemsNeeded:{type:q.ARRAY,items:{type:q.STRING}},steps:{type:q.ARRAY,items:{type:q.OBJECT,properties:{instruction:{type:q.STRING},tip:{type:q.STRING},duration:{type:q.STRING}},required:["instruction"]}}},required:["title","description","difficulty","ingredientsFound","steps"]},ti=async(e,t,r,n,s=[])=>{var a,l,u,d,h;const i=[];e.forEach(f=>{i.push({inlineData:{mimeType:"image/jpeg",data:f}})}),t&&i.push({inlineData:{mimeType:r||"audio/wav",data:t}});const o=s.length>0?`CRITICAL CONSTRAINTS: The user has the following limitations: ${s.join(", ")}. 
      
      IMPORTANT: If a constraint says "Exclude ingredients:", you MUST NOT under any circumstances use those ingredients in the recipe steps, ingredient list, or garnish. Find substitutes or omit them entirely.
      
      You MUST strictly adhere to these. Do not use equipment that is restricted (e.g. if 'No Stove', use microwave, oven, or raw prep only).`:"";n?i.push({text:`User text request: "${n}". ${o} Create a recipe based on this.`}):t?i.push({text:o}):i.push({text:`I have these ingredients. ${o} Make me something delicious.`}),i.push({text:"Analyze the ingredients and the user request. Create a recipe."});try{const m=(h=(d=(u=(l=(a=(await ju("gemini-flash-latest",[{parts:i}],{systemInstruction:lE,responseMimeType:"application/json",responseSchema:hE})).candidates)==null?void 0:a[0])==null?void 0:l.content)==null?void 0:u.parts)==null?void 0:d[0])==null?void 0:h.text;if(!m)throw new Error("No response generated");return{...JSON.parse(m),id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),createdAt:Date.now(),constraints:s}}catch(f){throw console.error("Recipe Generation Error:",f),f}},fE=async(e,t)=>{const r=`professional food photography, ${e}, ${t.split(".")[0]}`.slice(0,300),n=encodeURIComponent(r),s=Math.floor(Math.random()*1e3);return`https://image.pollinations.ai/prompt/${n}?nologo=true&seed=${s}&width=1024&height=1024&model=flux`},pE=async e=>{var t,r,n,s,i,o;try{const l=(o=(i=(s=(n=(r=(t=(await ju("gemini-2.5-flash-preview-tts",[{parts:[{text:e}]}],{responseModalities:[bl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}})).candidates)==null?void 0:t[0])==null?void 0:r.content)==null?void 0:n.parts)==null?void 0:s[0])==null?void 0:i.inlineData)==null?void 0:o.data;if(!l)throw new Error("No audio generated");return l}catch(a){throw console.error("TTS Error:",a),a}},mE={type:q.OBJECT,properties:{title:{type:q.STRING},description:{type:q.STRING},shoppingList:{type:q.ARRAY,items:{type:q.STRING}},days:{type:q.ARRAY,items:{type:q.OBJECT,properties:{day:{type:q.STRING},meals:{type:q.ARRAY,items:{type:q.OBJECT,properties:{type:{type:q.STRING,enum:["Breakfast","Lunch","Dinner"]},recipe:{type:q.OBJECT,properties:{title:{type:q.STRING},description:{type:q.STRING},prepTime:{type:q.STRING}},required:["title","description","prepTime"]}},required:["type","recipe"]}}},required:["day","meals"]}}},required:["title","description","days","shoppingList"]},Sh=async(e,t,r,n,s=[],i=["Dinner"])=>{var d,h,f,m,y;const o=[];e.forEach(_=>o.push({inlineData:{mimeType:"image/jpeg",data:_}})),t&&o.push({inlineData:{mimeType:r||"audio/wav",data:t}});const a=i.join(", "),l=s.length>0?`Constraints: ${s.join(", ")}.`:"",u=`
    You are The Chef's Muse, specializing in student meal prep.
    Create a practical 5-day meal plan based on the available ingredients.
    Focus on:
    1. Minimizing waste (reuse ingredients across days).
    2. Student-friendly budget and simplicity.
    3. Generate plans ONLY for: ${a}.
    
    ${l}
    
    If text/audio is provided ("${n||""}"), use it as context.
    Output purely strictly valid JSON matching the schema.
  `;o.push({text:u});try{const w=(y=(m=(f=(h=(d=(await ju("gemini-flash-latest",[{parts:o}],{responseMimeType:"application/json",responseSchema:mE})).candidates)==null?void 0:d[0])==null?void 0:h.content)==null?void 0:f.parts)==null?void 0:m[0])==null?void 0:y.text;if(!w)throw new Error("No response generated");return{...JSON.parse(w),id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),createdAt:Date.now()}}catch(_){throw console.error("Meal Plan Generation Error:",_),_}},gE=["No Stove","Vegetarian","Vegan","Microwave Only","Under 15m","One Pot","High Protein"],vE=({recipe:e,onBack:t,onSave:r,onRemix:n,onRefine:s,isSaved:i})=>{const[o,a]=k.useState(-1),[l,u]=k.useState(null),[d,h]=k.useState(!1),[f,m]=k.useState(!1),[y,_]=k.useState(!1),[w,g]=k.useState(!1),[p,v]=k.useState(null),[E,S]=k.useState(new Set),[b,N]=k.useState(!1),[I,H]=k.useState(e.constraints||[]),L=k.useRef(o),Q=k.useRef(null),xe=k.useRef(null),me=k.useRef(null);k.useEffect(()=>()=>{B(),Q.current&&Q.current.close(),me.current&&me.current.stop()},[]),k.useEffect(()=>{L.current=o,B()},[o]),k.useEffect(()=>{let x=!0;return(async()=>{if(!l&&!f&&e){m(!0);try{const M=await fE(e.title,e.description);x&&u(M)}catch(M){console.error("Auto visualization failed",M),x&&h(!0)}finally{x&&m(!1)}}})(),()=>{x=!1}},[e.id]),k.useEffect(()=>{if(!w){me.current&&(me.current.stop(),me.current=null);return}const{webkitSpeechRecognition:x,SpeechRecognition:P}=window,M=P||x;if(!M){console.warn("Speech recognition not supported in this browser.");return}const F=new M;return F.continuous=!0,F.lang="en-US",F.interimResults=!1,F.maxAlternatives=1,F.onresult=re=>{const ge=re.results[re.results.length-1][0].transcript.toLowerCase().trim();if(v(ge),setTimeout(()=>v(null),2e3),ge.includes("next"))L.current<e.steps.length-1&&a(vt=>vt+1);else if(ge.includes("previous")||ge.includes("back"))L.current>0&&a(vt=>vt-1);else if(ge.includes("exit")||ge.includes("stop"))g(!1);else if(ge.includes("read")||ge.includes("speak")){const vt=e.steps[L.current];vt&&$(vt.instruction+(vt.tip?`. Tip: ${vt.tip}`:""))}},F.onerror=re=>{console.error("Speech recognition error",re.error)},F.onend=()=>{if(w&&me.current)try{F.start()}catch{}},me.current=F,F.start(),()=>{me.current&&me.current.stop()}},[w,e.steps]);const B=()=>{if(xe.current){try{xe.current.stop()}catch{}xe.current=null}_(!1)},$=async x=>{try{if(y){B();return}_(!0),Q.current?Q.current.state==="suspended"&&await Q.current.resume():Q.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const P=await pE(x),M=window.atob(P),F=M.length,re=new Uint8Array(F);for(let Tt=0;Tt<F;Tt++)re[Tt]=M.charCodeAt(Tt);const le=new Int16Array(re.buffer),ge=Q.current.createBuffer(1,le.length,24e3),vt=ge.getChannelData(0);for(let Tt=0;Tt<le.length;Tt++)vt[Tt]=le[Tt]/32768;const Tn=Q.current.createBufferSource();Tn.buffer=ge,Tn.connect(Q.current.destination),Tn.onended=()=>{_(!1),xe.current=null},xe.current=Tn,Tn.start()}catch(P){console.error("TTS play error",P),_(!1)}},_e=()=>{o<e.steps.length-1&&a(x=>x+1)},Ue=()=>{o>-1&&a(x=>x-1)},O=()=>{const x=e.ingredientsFound.length,P=e.pantryItemsNeeded.length,M=x+P;if(E.size>0&&E.size<M){const F=[];if(e.ingredientsFound.forEach((re,le)=>{E.has(`found-${le}`)||F.push(re)}),e.pantryItemsNeeded.forEach((re,le)=>{E.has(`pantry-${le}`)||F.push(re)}),F.length>0){s(F);return}}o===-1&&a(0),g(!0)},j=x=>{H(P=>P.includes(x)?P.filter(M=>M!==x):[...P,x])},U=()=>{N(!1),n(I)},W=x=>{S(P=>{const M=new Set(P);return M.has(x)?M.delete(x):M.add(x),M})},Y=x=>{switch(x){case"Easy":return{text:"text-emerald-400",bg:"bg-emerald-400"};case"Medium":return{text:"text-amber-400",bg:"bg-amber-400"};case"Hard":return{text:"text-orange-500",bg:"bg-orange-500"};case"Expert":return{text:"text-red-500",bg:"bg-red-500"};default:return{text:"text-stone-400",bg:"bg-stone-400"}}};if(w){const x=e.steps[o];return c.jsxs("div",{className:"fixed inset-0 z-50 bg-stone-950 flex flex-col animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-800 bg-stone-950",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-red-500/10 rounded-full animate-pulse",children:c.jsx(Gi,{size:20,className:"text-red-500"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-stone-400 text-[10px] uppercase tracking-widest font-bold",children:"Listening for commands..."}),c.jsx("span",{className:"text-stone-600 text-[10px]",children:'"Next", "Back", "Read", "Exit"'})]})]}),c.jsx("button",{onClick:()=>g(!1),className:"p-3 bg-stone-800 rounded-full text-stone-400 hover:text-white hover:bg-stone-700 transition-colors",children:c.jsx(al,{size:24})})]}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 max-w-4xl mx-auto w-full text-center space-y-12",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 text-amber-350/30 font-serif text-8xl font-bold select-none",children:[c.jsx("span",{children:o+1}),c.jsx("span",{className:"text-4xl text-stone-700",children:"/"}),c.jsx("span",{className:"text-4xl text-stone-700",children:e.steps.length})]}),c.jsx("h2",{className:"text-3xl md:text-5xl font-serif text-stone-100 leading-tight",children:x.instruction}),x.tip&&c.jsx("div",{className:"bg-amber-900/10 border-l-4 border-amber-350 p-6 text-left max-w-2xl mx-auto rounded-r-xl",children:c.jsxs("p",{className:"text-amber-350 text-lg italic",children:[c.jsx("span",{className:"font-bold not-italic mr-2",children:"Chef's Tip:"}),x.tip]})}),x.duration&&c.jsx("div",{className:"flex justify-center",children:c.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-stone-800 rounded-full text-stone-300 font-mono text-sm",children:[c.jsx(Vi,{size:16})," ",x.duration]})})]}),p&&c.jsxs("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 bg-stone-800/90 backdrop-blur px-6 py-2 rounded-full text-stone-300 flex items-center gap-2 animate-slide-up",children:[c.jsx(Ay,{size:14}),c.jsxs("span",{className:"text-sm",children:['Heard: "',p,'"']})]}),c.jsxs("div",{className:"p-8 flex items-center justify-between border-t border-stone-800 bg-stone-900/30",children:[c.jsxs("button",{onClick:Ue,disabled:o===0,className:`flex items-center gap-2 px-8 py-4 rounded-full text-lg font-medium transition-all ${o===0?"text-stone-700":"bg-stone-800 text-stone-200 hover:bg-stone-700"}`,children:[c.jsx(Yc,{})," Previous"]}),c.jsx("button",{onClick:()=>$(x.instruction+(x.tip?`. Tip: ${x.tip}`:"")),className:"p-4 rounded-full bg-amber-350/10 text-amber-350 hover:bg-amber-350/20 transition-colors",children:y?c.jsx(Xc,{size:32}):c.jsx(ed,{size:32})}),c.jsxs("button",{onClick:_e,disabled:o===e.steps.length-1,className:`flex items-center gap-2 px-8 py-4 rounded-full text-lg font-medium transition-all ${o===e.steps.length-1?"text-stone-700":"bg-amber-350 text-stone-900 hover:bg-amber-400"}`,children:["Next ",c.jsx(Qn,{})]})]})]})}const gt=()=>{var P;if(o===-1){const M=Y(e.difficulty);return c.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[c.jsx("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden bg-stone-800 border border-stone-700 shadow-2xl group animate-slide-up",style:{animationDelay:"0.1s"},children:l?c.jsx("img",{src:l,alt:e.title,className:"w-full h-full object-cover animate-fade-in duration-1000"}):c.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center relative overflow-hidden bg-stone-800",children:d?c.jsxs("div",{className:"z-10 flex flex-col items-center animate-fade-in",children:[c.jsx("div",{className:"relative mb-4",children:c.jsx(Ir,{className:"w-16 h-16 text-stone-700 relative z-10",strokeWidth:1})}),c.jsx("p",{className:"text-stone-600 font-serif italic mb-1",children:"Visuals not available"}),c.jsx("p",{className:"text-stone-700 text-xs",children:"But the taste will be legendary."}),c.jsxs("button",{onClick:()=>{h(!1),u(null)},className:"mt-4 text-xs text-amber-350/50 hover:text-amber-350 flex items-center gap-1 transition-colors",children:[c.jsx(ol,{size:10})," Retry"]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-700/20 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}}),c.jsxs("div",{className:"z-10 flex flex-col items-center",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-amber-350/20 blur-xl rounded-full animate-pulse-slow"}),c.jsx(Ir,{className:"w-16 h-16 text-stone-600 relative z-10"})]}),c.jsx("p",{className:"text-stone-500 font-serif italic mb-2 animate-pulse",children:"Visualizing your masterpiece..."})]})]})})}),c.jsxs("div",{className:"space-y-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[c.jsxs("div",{className:"flex items-center justify-between text-xs font-mono tracking-widest uppercase",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-amber-350",children:e.cuisineStyle}),c.jsx("span",{className:"text-stone-700",children:"|"}),c.jsxs("span",{className:`flex items-center gap-1.5 ${M.text}`,children:[c.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${M.bg} animate-pulse`}),e.difficulty]})]}),c.jsxs("span",{className:"flex items-center gap-1 text-stone-400",children:[c.jsx(Vi,{size:12})," ",e.totalTime]})]}),c.jsx("h1",{className:"text-3xl font-serif text-white leading-tight",children:e.title}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[i&&c.jsxs("div",{className:"flex items-center gap-2 text-emerald-500/80 text-[10px] uppercase font-bold tracking-widest bg-emerald-950/20 border border-emerald-900/30 px-3 py-1 rounded-full w-fit",children:[c.jsx(qc,{size:12}),"Saved"]}),(P=e.constraints)==null?void 0:P.map(F=>c.jsx("div",{className:"flex items-center gap-2 text-red-400/80 text-[10px] uppercase font-bold tracking-widest bg-red-950/20 border border-red-900/30 px-3 py-1 rounded-full w-fit",children:F},F))]}),c.jsx("p",{className:"text-stone-400 leading-relaxed text-sm",children:e.description}),c.jsxs("div",{className:"bg-stone-800/50 p-4 rounded-xl border border-stone-800",children:[c.jsx("h3",{className:"text-stone-300 text-xs font-bold uppercase tracking-wider mb-3",children:"Ingredients (Tap to Check)"}),c.jsxs("ul",{className:"text-stone-400 text-sm space-y-2",children:[e.ingredientsFound.map((F,re)=>{const le=`found-${re}`,ge=E.has(le);return c.jsxs("li",{onClick:()=>W(le),className:`flex items-center gap-3 cursor-pointer group transition-all duration-300 ${ge?"opacity-40":"opacity-100"}`,children:[ge?c.jsx(Jc,{size:16,className:"text-amber-350"}):c.jsx(Qc,{size:16,className:"text-stone-600 group-hover:text-amber-350"}),c.jsx("span",{className:ge?"line-through decoration-stone-600":"",children:F})]},le)}),e.pantryItemsNeeded.map((F,re)=>{const le=`pantry-${re}`,ge=E.has(le);return c.jsxs("li",{onClick:()=>W(le),className:`flex items-center gap-3 cursor-pointer group transition-all duration-300 ${ge?"opacity-40":"opacity-100"}`,children:[ge?c.jsx(Jc,{size:16,className:"text-stone-500"}):c.jsx(Qc,{size:16,className:"text-stone-600 group-hover:text-stone-400"}),c.jsxs("span",{className:`italic ${ge?"line-through decoration-stone-600 text-stone-600":"text-stone-500"}`,children:[F," (Pantry)"]})]},le)})]})]})]})]},"overview")}const x=e.steps[o];return c.jsxs("div",{className:"h-full flex flex-col justify-center space-y-8 animate-slide-up",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("span",{className:"text-6xl font-serif text-amber-350/20 font-bold -ml-2 animate-fade-in",children:(o+1).toString().padStart(2,"0")}),c.jsx("div",{className:"h-px bg-stone-800 flex-1"}),x.duration&&c.jsx("span",{className:"text-xs font-mono text-stone-500 bg-stone-800 px-2 py-1 rounded",children:x.duration})]}),c.jsx("p",{className:"text-2xl md:text-3xl font-serif text-stone-100 leading-snug",children:x.instruction}),x.tip&&c.jsx("div",{className:"bg-amber-900/10 border-l-2 border-amber-350/50 p-4 rounded-r-lg animate-slide-right",style:{animationDelay:"0.3s"},children:c.jsxs("p",{className:"text-amber-350/80 text-sm italic",children:[c.jsx("span",{className:"font-bold not-italic mr-2",children:"Chef's Tip:"}),x.tip]})}),c.jsxs("button",{onClick:()=>$(x.instruction+(x.tip?`. Tip: ${x.tip}`:"")),className:"self-start mt-4 px-4 py-2 rounded-full border border-stone-700 text-stone-400 hover:text-white hover:border-stone-500 transition-all flex items-center gap-2 text-sm",children:[y?c.jsx(Xc,{size:16,className:"animate-pulse text-amber-350"}):c.jsx(ed,{size:16}),y?"Stop":"Listen"]})]},o)};return c.jsxs("div",{className:"h-full flex flex-col max-w-2xl mx-auto w-full p-6 relative",children:[b&&c.jsxs("div",{className:"absolute inset-0 z-50 bg-stone-900/95 backdrop-blur-md p-6 flex flex-col animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("h2",{className:"text-xl font-serif text-white",children:"Remix Recipe"}),c.jsx("button",{onClick:()=>N(!1),className:"p-2 bg-stone-800 rounded-full text-stone-400",children:c.jsx(al,{size:20})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Adjust your constraints and the Muse will re-invent this dish."}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:gE.map(x=>c.jsx("button",{onClick:()=>j(x),className:`p-3 rounded-xl border text-sm font-medium transition-all ${I.includes(x)?"bg-amber-350 border-amber-350 text-stone-900":"bg-stone-800 border-stone-700 text-stone-400 hover:border-stone-600"}`,children:x},x))})]}),c.jsxs("button",{onClick:U,className:"w-full py-4 bg-amber-350 text-stone-900 font-bold rounded-xl flex items-center justify-center gap-2 mt-4",children:[c.jsx(ol,{size:18})," Regenerate Recipe"]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 text-stone-500 hover:text-white transition-colors flex items-center gap-1 group",children:c.jsx(bs,{size:20,className:"group-hover:-translate-x-1 transition-transform"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>N(!0),className:`p-2 rounded-full transition-all ${I.includes("No Stove")?"bg-red-500/20 text-red-400 border border-red-500/50":"text-stone-500 hover:text-amber-350 hover:bg-stone-800"}`,title:"Remix / Adjust Constraints",children:c.jsx(xu,{size:20})}),c.jsx("button",{onClick:()=>!i&&r(e),disabled:i,className:`p-2 rounded-full transition-all ${i?"text-emerald-500":"text-stone-500 hover:text-white hover:bg-stone-800"}`,title:i?"Saved to Cookbook":"Save Recipe",children:i?c.jsx(qc,{size:20}):c.jsx(Gp,{size:20})}),c.jsx("button",{onClick:O,className:"p-2 text-stone-500 hover:text-amber-350 hover:bg-stone-800 rounded-full transition-colors",title:"Enter Cooking Mode (Hands-free)",children:c.jsx(Ly,{size:20})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar py-4",children:gt()}),c.jsxs("div",{className:"pt-6 mt-auto flex justify-between items-center",children:[c.jsx("button",{onClick:Ue,disabled:o===-1,className:`p-4 rounded-full border transition-all ${o===-1?"border-stone-800 text-stone-700":"border-stone-700 text-white hover:bg-stone-800"}`,children:c.jsx(Yc,{size:24})}),o===-1?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:O,className:"px-6 py-3 border border-amber-350/30 text-amber-350 font-bold rounded-full hover:bg-amber-350/10 transition-colors flex items-center gap-2 text-xs",children:[c.jsx(Gi,{size:14})," Hands-free"]}),c.jsxs("button",{onClick:_e,className:"px-6 py-3 bg-amber-350 text-stone-900 font-bold rounded-full hover:bg-amber-400 transition-colors shadow-lg shadow-amber-900/20 flex items-center gap-2 text-xs",children:["Start Cooking ",c.jsx(Qn,{size:14})]})]}):c.jsx("button",{onClick:_e,disabled:o===e.steps.length-1,className:`p-4 rounded-full border transition-all ${o===e.steps.length-1?"border-stone-800 text-stone-700":"border-stone-700 text-white hover:bg-stone-800"}`,children:c.jsx(Qn,{size:24})})]})]})},yE=({onStart:e,onAbout:t,onCookbook:r,onIngredientsInput:n})=>c.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-hidden animate-fade-in",children:[c.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-900/10 rounded-full blur-[100px] pointer-events-none"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-20%] w-[500px] h-[500px] bg-stone-800/30 rounded-full blur-[80px] pointer-events-none"}),c.jsx("div",{className:"absolute top-[10%] left-[10%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),c.jsx("div",{className:"absolute top-[20%] right-[15%] text-3xl opacity-10 animate-float-delayed pointer-events-none",children:""}),c.jsx("div",{className:"absolute bottom-[20%] left-[15%] text-5xl opacity-5 animate-float-delayed pointer-events-none",children:""}),c.jsx("div",{className:"absolute bottom-[10%] right-[20%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center z-10",children:[c.jsxs("div",{className:"mb-10 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-amber-350 blur-2xl opacity-20 rounded-full"}),c.jsx(Ir,{className:"w-24 h-24 text-amber-350 relative z-10 drop-shadow-2xl animate-float",strokeWidth:1})]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-serif text-white mb-6 tracking-tight leading-none",children:["The Chef's ",c.jsx("span",{className:"text-amber-350 italic",children:"Muse"})]}),c.jsxs("p",{className:"text-stone-400 text-lg md:text-xl max-w-md font-light leading-relaxed mb-12",children:["Cooking with zero recipes.",c.jsx("br",{}),"Just chemistry, creativity, and ",c.jsx("span",{className:"text-stone-300",children:"what's in your fridge."})]}),c.jsxs("div",{className:"flex flex-col items-center gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[c.jsxs("button",{onClick:e,className:"group relative w-full px-8 py-4 bg-stone-100 text-stone-950 rounded-xl font-serif font-bold text-lg tracking-wide hover:bg-amber-350 transition-all duration-500 flex items-center justify-center gap-3 overflow-hidden shadow-[0_0_40px_rgba(255,255,255,0.1)] hover:shadow-[0_0_40px_rgba(217,185,100,0.4)] hover:scale-[1.02]",children:[c.jsx("span",{className:"relative z-10",children:"Open Your Fridge"}),c.jsx(Sy,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),c.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out"})]}),c.jsxs("button",{onClick:n,className:"w-full px-8 py-3 rounded-xl border border-stone-800 text-stone-400 font-medium hover:text-amber-350 hover:border-amber-350/50 hover:bg-stone-900 transition-all flex items-center justify-center gap-2 text-sm",children:[c.jsx("span",{className:"opacity-70",children:"No camera?"})," Use Secret Menu"]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:r,className:"text-stone-500 hover:text-white transition-colors text-xs uppercase tracking-widest flex items-center gap-2 py-2 px-4 rounded-full hover:bg-stone-900",children:[c.jsx(Ty,{size:14}),"My Cookbook"]}),c.jsxs("button",{onClick:t,className:"text-stone-500 hover:text-white transition-colors text-xs uppercase tracking-widest flex items-center gap-2 py-2 px-4 rounded-full hover:bg-stone-900",children:[c.jsx(jy,{size:14}),"About"]})]})]})]}),c.jsxs("div",{className:"p-8 pb-12 w-full max-w-4xl mx-auto grid grid-cols-3 gap-4 text-center text-stone-600 text-[10px] md:text-xs tracking-[0.2em] uppercase font-medium",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[c.jsx(ms,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),c.jsx("span",{children:"AI Invention"})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[c.jsx(Cy,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),c.jsx("span",{children:"Visual Recognition"})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[c.jsx(Gi,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),c.jsx("span",{children:"Audio Guidance"})]})]})]}),_E=({onBack:e})=>c.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-y-auto no-scrollbar animate-fade-in text-stone-300",children:[c.jsx("div",{className:"sticky top-0 z-20 p-6 bg-gradient-to-b from-stone-950 via-stone-950/90 to-transparent",children:c.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-500 hover:text-white transition-colors group",children:[c.jsx("div",{className:"p-2 rounded-full border border-stone-800 group-hover:bg-stone-800 transition-all",children:c.jsx(bs,{size:20})}),c.jsx("span",{className:"text-sm tracking-wide uppercase font-medium",children:"Back"})]})}),c.jsxs("div",{className:"max-w-3xl mx-auto px-6 pb-20 w-full",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"inline-block p-4 rounded-full bg-stone-900 border border-stone-800 mb-6 shadow-2xl",children:c.jsx(Ir,{className:"w-12 h-12 text-amber-350",strokeWidth:1})}),c.jsxs("h1",{className:"text-4xl md:text-5xl font-serif text-white mb-4",children:["The Chef's ",c.jsx("span",{className:"text-amber-350 italic",children:"Muse"})]}),c.jsx("p",{className:"text-lg text-stone-500 font-light max-w-xl mx-auto",children:"Cooking with zero recipes. Just chemistry, intuition, and what's in your fridge."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-16",children:[c.jsxs("div",{className:"bg-stone-900/40 p-8 rounded-2xl border border-stone-800 hover:border-red-900/30 transition-colors",children:[c.jsxs("h3",{className:"text-xl font-serif text-white mb-4 flex items-center gap-2",children:[c.jsx(Eu,{size:20,className:"text-red-400/80"}),c.jsx("span",{children:"The Problem"})]}),c.jsxs("p",{className:"leading-relaxed text-stone-400 text-sm",children:['"I have a weird mix of ingredientshalf an onion, leftover chicken, yogurtand no idea what to make."',c.jsx("br",{}),c.jsx("br",{}),"Standard recipe apps are too rigid. They force you to shop, not cook. They don't understand chaos."]})]}),c.jsxs("div",{className:"bg-stone-900/40 p-8 rounded-2xl border border-stone-800 hover:border-green-900/30 transition-colors",children:[c.jsxs("h3",{className:"text-xl font-serif text-white mb-4 flex items-center gap-2",children:[c.jsx(ms,{size:20,className:"text-green-400/80"}),c.jsx("span",{children:"The Concept"})]}),c.jsxs("p",{className:"leading-relaxed text-stone-400 text-sm",children:["A culinary intelligence that understands flavor profiles at a chemical level.",c.jsx("br",{}),c.jsx("br",{}),"The Muse doesn't search a database. It ",c.jsx("span",{className:"text-amber-350/80",children:"invents"})," a custom guide specifically for your ingredients and your time constraints."]})]})]}),c.jsxs("div",{className:"mb-20",children:[c.jsx("h2",{className:"text-2xl font-serif text-white mb-8 text-center italic",children:"How the Muse Works"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(oa,{icon:c.jsx(By,{className:"text-amber-350"}),title:"Visual Recognition",desc:"Pan your camera across your shelves. The AI identifies ingredients instantlyeven the obscure ones."}),c.jsx(oa,{icon:c.jsx(by,{className:"text-amber-350"}),title:"Contextual Understanding",desc:"Speak naturally. 'I want something spicy, and I have 20 minutes.' The Muse listens."}),c.jsx(oa,{icon:c.jsx(Ir,{className:"text-amber-350"}),title:"Generative Synthesis",desc:"Using Gemini 3 Pro, it creates a dish that likely doesn't exist on the internet, tailored to your reality."})]})]}),c.jsxs("div",{className:"text-center bg-gradient-to-b from-amber-900/10 to-transparent p-10 rounded-3xl border border-amber-900/20",children:[c.jsx(Gp,{className:"w-10 h-10 text-amber-350 mx-auto mb-6 opacity-80"}),c.jsx("h2",{className:"text-2xl font-serif text-white mb-4",children:"The Joy of Cooking"}),c.jsx("p",{className:"text-stone-400 max-w-lg mx-auto leading-relaxed text-sm",children:`Everyone eats. But not everyone knows how to improvise. The Chef's Muse bridges the gap between a cluttered pantry and a gourmet meal, turning the daily chore of "what's for dinner" into a moment of creative magic.`})]}),c.jsx("div",{className:"mt-12 text-center",children:c.jsx("button",{onClick:e,className:"text-amber-350 hover:text-amber-200 text-sm uppercase tracking-widest font-bold",children:"Close"})})]})]}),oa=({icon:e,title:t,desc:r})=>c.jsxs("div",{className:"flex items-start gap-5 p-6 rounded-xl bg-stone-900/20 border border-stone-800/50 hover:bg-stone-900/40 transition-colors",children:[c.jsx("div",{className:"mt-1 p-3 bg-stone-950 rounded-lg border border-stone-800",children:e}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-medium mb-1 font-serif text-lg",children:t}),c.jsx("p",{className:"text-stone-500 text-sm leading-relaxed",children:r})]})]}),wE=["Spicy","Comfort","Healthy","Quick","Gourmet","Rustic","Creamy","Zesty"],EE=[{text:"Spicy Late Night Snack",icon:c.jsx(Ry,{size:14})},{text:"Healthy Breakfast",icon:c.jsx(ky,{size:14})},{text:"Quick Lunch",icon:c.jsx(zy,{size:14})},{text:"Vegetarian Feast",icon:c.jsx(Py,{size:14})}],xE=({recipes:e,onSelectRecipe:t,onBack:r,onGenerateFromText:n,onDeleteRecipe:s})=>{const[i,o]=k.useState(""),a=k.useMemo(()=>{const l=i.toLowerCase();return e.filter(u=>u.title.toLowerCase().includes(l)||u.cuisineStyle.toLowerCase().includes(l)||u.ingredientsFound.some(d=>d.toLowerCase().includes(l))).sort((u,d)=>d.createdAt-u.createdAt)},[e,i]);return c.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-hidden animate-fade-in text-stone-300",children:[c.jsxs("div",{className:"sticky top-0 z-20 p-6 bg-gradient-to-b from-stone-950 via-stone-950/95 to-transparent flex flex-col gap-4",children:[c.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-stone-500 hover:text-white transition-colors self-start group mb-2",children:[c.jsx("div",{className:"p-2 rounded-full border border-stone-800 group-hover:bg-stone-800 transition-all",children:c.jsx(bs,{size:18})}),c.jsx("span",{className:"text-sm tracking-wide uppercase font-medium",children:"Back"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h1",{className:"text-3xl font-serif text-white",children:["My ",c.jsx("span",{className:"text-amber-350 italic",children:"Cookbook"})]}),c.jsxs("span",{className:"text-stone-600 font-mono text-xs border border-stone-800 rounded-full px-3 py-1",children:[e.length," ",e.length===1?"Recipe":"Recipes"]})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:c.jsx(Uy,{className:"h-5 w-5 text-stone-500 group-focus-within:text-amber-350 transition-colors"})}),c.jsx("input",{type:"text",className:"block w-full pl-11 pr-4 py-3 bg-stone-900 border border-stone-800 rounded-xl text-stone-200 placeholder-stone-600 focus:outline-none focus:border-amber-350/50 focus:ring-1 focus:ring-amber-350/20 transition-all",placeholder:"Search or type ingredients to invent...",value:i,onChange:l=>o(l.target.value)})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-20",children:[i.length>0&&c.jsxs("div",{className:"mb-8 animate-fade-in",children:[c.jsxs("button",{onClick:()=>n(i),className:"w-full mb-6 p-4 rounded-xl bg-gradient-to-r from-amber-900/40 to-stone-900 border border-amber-350/30 flex items-center justify-between group hover:border-amber-350/60 transition-all shadow-lg shadow-amber-900/10",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-amber-350/10 rounded-full text-amber-350 border border-amber-350/20 group-hover:scale-110 transition-transform",children:c.jsx(ms,{size:20})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-stone-100 font-serif font-medium text-lg",children:"Invent a new recipe"}),c.jsxs("p",{className:"text-stone-400 text-xs",children:['Using "',c.jsx("span",{className:"text-amber-350",children:i}),'" as inspiration']})]})]}),c.jsx(Qn,{className:"text-stone-600 group-hover:text-amber-350 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-stone-500 text-[10px] font-bold uppercase tracking-widest mb-3 pl-1",children:"Suggestions"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:wE.map(l=>c.jsxs("button",{onClick:()=>n(`${l} ${i}`),className:"px-4 py-2 rounded-full bg-stone-900 border border-stone-800 text-stone-400 text-xs hover:border-amber-350/50 hover:text-amber-350 hover:bg-stone-800 transition-all",children:[l," ",i]},l))})]}),c.jsx("div",{className:"h-px bg-stone-800 w-full my-6"})]}),a.length>0?c.jsx("div",{className:"grid gap-4",children:a.map(l=>c.jsxs("div",{onClick:()=>t(l),className:"group relative bg-stone-900/40 border border-stone-800 rounded-2xl p-5 hover:bg-stone-900 hover:border-amber-900/50 transition-all cursor-pointer overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h3",{className:"text-lg font-serif text-white group-hover:text-amber-350 transition-colors pr-4",children:l.title}),c.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded border ${l.difficulty==="Easy"?"border-green-900 text-green-500":l.difficulty==="Medium"?"border-yellow-900 text-yellow-500":"border-red-900 text-red-500"}`,children:l.difficulty})]}),c.jsx("p",{className:"text-stone-500 text-xs mb-4 line-clamp-2 leading-relaxed",children:l.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-stone-500 font-mono",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Vi,{size:12})," ",l.totalTime]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ir,{size:12})," ",l.cuisineStyle]})]}),c.jsxs("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity transform group-hover:translate-x-0 translate-x-2 flex gap-2",children:[c.jsx("button",{onClick:u=>{u.stopPropagation(),s==null||s(l.id,u)},className:"p-2 bg-stone-800 rounded-full text-stone-500 hover:text-red-500 hover:bg-stone-700 transition-colors",title:"Delete Recipe",children:c.jsx($y,{size:16})}),c.jsx("div",{className:"p-2 bg-stone-800 rounded-full text-amber-350",children:c.jsx(Qn,{size:16})})]})]},l.id))}):c.jsx(c.Fragment,{children:i.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-10 text-center opacity-100",children:[c.jsxs("div",{className:"mb-8 opacity-50",children:[c.jsx(ms,{className:"w-12 h-12 text-stone-700 mb-4 mx-auto",strokeWidth:1}),c.jsx("p",{className:"text-stone-500 font-serif text-lg",children:"Your cookbook is empty."}),c.jsx("p",{className:"text-stone-600 text-sm mt-2",children:"Start cooking to build your collection."})]}),c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("h4",{className:"text-stone-600 text-[10px] font-bold uppercase tracking-widest mb-4",children:"Try these ideas"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:EE.map(l=>c.jsxs("button",{onClick:()=>n(l.text),className:"flex items-center gap-2 p-3 rounded-lg border border-stone-800 bg-stone-900/30 hover:bg-stone-800 hover:border-amber-350/30 hover:text-amber-350 transition-all text-xs text-stone-400 text-left",children:[l.icon,l.text]},l.text))})]})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-center opacity-50",children:[c.jsxs("p",{className:"text-stone-600 text-sm",children:['No saved recipes match "',i,'".']}),c.jsx("p",{className:"text-stone-700 text-xs mt-1",children:"But you can invent one above!"})]})})]})]})},SE=["Vegetarian","Vegan","No Stove","Microwave Only","Under 15m","One Pot","High Protein","Low Carb"],TE=({onBack:e,onSubmit:t})=>{const[r,n]=k.useState(""),[s,i]=k.useState(fe.INSTANT),[o,a]=k.useState(["Dinner"]),[l,u]=k.useState([]),[d,h]=k.useState(!1),f=()=>{r.trim().length>0&&t(r,s,s===fe.MEAL_PREP?o:void 0,l)},m=w=>{w.key==="Enter"&&w.metaKey&&f()},y=w=>{u(g=>g.includes(w)?g.filter(p=>p!==w):[...g,w])},_=w=>{a(g=>g.includes(w)&&g.length===1?g:g.includes(w)?g.filter(p=>p!==w):[...g,w])};return c.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col animate-fade-in text-stone-100 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-900/10 rounded-full blur-[100px] pointer-events-none"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-20%] w-[500px] h-[500px] bg-stone-800/30 rounded-full blur-[80px] pointer-events-none"}),c.jsx("div",{className:"absolute top-[10%] left-[10%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),c.jsx("div",{className:"absolute top-[20%] right-[15%] text-3xl opacity-10 animate-float-delayed pointer-events-none",children:""}),c.jsx("div",{className:"absolute bottom-[20%] left-[15%] text-5xl opacity-5 animate-float-delayed pointer-events-none",children:""}),c.jsx("div",{className:"absolute bottom-[10%] right-[20%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),c.jsxs("div",{className:"p-6 flex items-center justify-between relative z-10",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-full border border-stone-800 hover:bg-stone-800 transition-colors text-stone-400 hover:text-white",children:c.jsx(bs,{size:20})}),c.jsxs("div",{className:"flex items-center gap-2 opacity-50",children:[c.jsx(Ir,{size:16}),c.jsx("span",{className:"text-xs uppercase tracking-widest font-bold",children:"Kitchen Panel"})]}),c.jsx("div",{className:"w-10"})," "]}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 max-w-2xl mx-auto w-full relative z-10",children:[c.jsxs("div",{className:"text-center mb-8 space-y-2",children:[c.jsxs("h1",{className:"text-3xl md:text-5xl font-serif text-white",children:["What's in the ",c.jsx("span",{className:"text-amber-350",children:"pantry"}),"?"]}),c.jsxs("p",{className:"text-stone-500 text-sm md:text-base",children:["List your ingredients, leftovers, or specific cravings. ",c.jsx("br",{}),"We'll turn them into something gourmet."]})]}),c.jsxs("div",{className:"w-full relative group space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in w-full",children:[c.jsxs("div",{className:"flex bg-stone-900/80 backdrop-blur-md rounded-full p-1 border border-stone-800",children:[c.jsx("button",{onClick:()=>i(fe.INSTANT),className:`px-6 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition-all ${s===fe.INSTANT?"bg-amber-350 text-stone-900 shadow-lg":"text-stone-400 hover:text-white"}`,children:"Instant Recipe"}),c.jsx("button",{onClick:()=>i(fe.MEAL_PREP),className:`px-6 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition-all ${s===fe.MEAL_PREP?"bg-amber-350 text-stone-900 shadow-lg":"text-stone-400 hover:text-white"}`,children:"Student Meal Prep"})]}),c.jsx("div",{className:`transition-all duration-300 overflow-hidden w-full flex justify-center ${s===fe.MEAL_PREP?"max-h-20 opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"flex gap-2 bg-stone-900/50 backdrop-blur-sm p-2 rounded-xl border border-stone-800",children:["Breakfast","Lunch","Dinner"].map(w=>c.jsx("button",{onClick:()=>_(w),className:`px-4 py-2 rounded-lg text-[10px] uppercase font-bold border transition-all ${o.includes(w)?"bg-amber-350/20 border-amber-350 text-amber-350":"bg-transparent border-stone-800 text-stone-500 hover:border-stone-600"}`,children:w},w))})}),c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsxs("button",{onClick:()=>h(!d),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium transition-all ${l.length>0||d?"bg-amber-350 text-stone-900":"bg-stone-900/50 text-stone-300 border border-stone-800"}`,children:[c.jsx(xu,{size:14}),l.length>0?`${l.length} Filter${l.length>1?"s":""}`:"Kitchen Constraints"]})}),c.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${d?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"flex flex-wrap justify-center gap-2 p-2",children:SE.map(w=>c.jsx("button",{onClick:()=>y(w),className:`px-3 py-1 rounded-full text-[10px] uppercase tracking-wider border transition-all ${l.includes(w)?"bg-amber-350 border-amber-350 text-stone-900 font-bold":"bg-stone-900/50 border-stone-800 text-stone-400 hover:border-amber-350/50"}`,children:w},w))})})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-stone-800/10 rounded-2xl blur-sm transition-opacity opacity-0 group-focus-within:opacity-100"}),c.jsx("textarea",{value:r,onChange:w=>n(w.target.value),onKeyDown:m,placeholder:s===fe.INSTANT?"I have: some slightly stale bread, 2 eggs, hot sauce, and half a lemon...":"For my week, I have: 2kg rice, 10 eggs, frozen peas, chicken breast, and $20 budget...",className:"w-full h-48 md:h-64 bg-stone-900/80 border border-stone-800 rounded-2xl p-6 text-lg text-white placeholder-stone-600 focus:outline-none focus:border-amber-350/50 focus:ring-1 focus:ring-amber-350/20 transition-all resize-none shadow-xl font-serif leading-relaxed relative z-10",autoFocus:!0}),c.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-stone-600 z-20 pointer-events-none",children:"CMD + Enter to submit"})]})]}),r.length>0&&r.length<10&&c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-amber-500/80 text-xs animate-fade-in",children:[c.jsx(Eu,{size:12}),c.jsx("span",{children:"Give the Muse a bit more to work with..."})]}),c.jsx("div",{className:"mt-8 w-full flex justify-center",children:c.jsxs("button",{onClick:f,disabled:r.trim().length===0,className:"group relative px-10 py-4 bg-stone-100 text-stone-950 rounded-full font-serif font-bold text-lg tracking-wide hover:bg-amber-350 disabled:opacity-50 disabled:hover:bg-stone-100 transition-all duration-300 flex items-center gap-3 shadow-lg hover:scale-105 hover:shadow-amber-900/20",children:[c.jsx(ms,{className:"w-5 h-5 text-amber-600 group-hover:text-stone-900 transition-colors"}),c.jsx("span",{children:s===fe.MEAL_PREP?"Generate Weekly Plan":"Invent Recipe"})]})})]})]})},bE=({plan:e,onBack:t})=>{var a;const[r,n]=k.useState("plan"),[s,i]=k.useState(((a=e.days[0])==null?void 0:a.day)||null),o=l=>{i(s===l?null:l)};return c.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col text-stone-100 animate-fade-in overflow-hidden",children:[c.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-stone-800 bg-stone-900/50 backdrop-blur-md z-20",children:[c.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-stone-800 text-stone-400 hover:text-white transition-colors",children:c.jsx(bs,{size:20})}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("h1",{className:"text-sm font-serif font-bold tracking-wider uppercase text-amber-350",children:"Weekly Plan"}),c.jsx("span",{className:"text-xs text-stone-500",children:e.title})]}),c.jsx("div",{className:"w-10"})]}),c.jsxs("div",{className:"flex border-b border-stone-800 bg-stone-900",children:[c.jsxs("button",{onClick:()=>n("plan"),className:`flex-1 py-4 text-xs font-bold uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${r==="plan"?"text-amber-350 border-b-2 border-amber-350 bg-stone-800/50":"text-stone-500 hover:text-stone-300"}`,children:[c.jsx(Ny,{size:14}),"Schedule"]}),c.jsxs("button",{onClick:()=>n("shopping"),className:`flex-1 py-4 text-xs font-bold uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${r==="shopping"?"text-amber-350 border-b-2 border-amber-350 bg-stone-800/50":"text-stone-500 hover:text-stone-300"}`,children:[c.jsx(Zc,{size:14}),"Shopping List"]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 scrollbar-hide",children:[r==="plan"&&c.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[c.jsx("div",{className:"p-4 bg-stone-900 rounded-xl border border-stone-800 mb-6",children:c.jsxs("p",{className:"text-stone-400 text-sm italic leading-relaxed",children:['"',e.description,'"']})}),e.days.map((l,u)=>c.jsxs("div",{className:"bg-stone-900 rounded-2xl border border-stone-800 overflow-hidden transition-all duration-300",children:[c.jsxs("button",{onClick:()=>o(l.day),className:"w-full p-4 flex items-center justify-between bg-stone-800/50 hover:bg-stone-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"w-8 h-8 rounded-full bg-stone-700 flex items-center justify-center text-xs font-bold text-amber-350 border border-stone-600",children:u+1}),c.jsx("span",{className:"font-serif text-lg font-medium text-white",children:l.day})]}),s===l.day?c.jsx(Iy,{size:20,className:"text-stone-500"}):c.jsx(Oy,{size:20,className:"text-stone-500"})]}),c.jsx("div",{className:`transition-all duration-300 overflow-hidden ${s===l.day?"max-h-[800px] opacity-100":"max-h-0 opacity-0"}`,children:c.jsx("div",{className:"p-4 space-y-3",children:l.meals.map((d,h)=>c.jsxs("div",{className:"p-3 bg-black/20 rounded-xl border border-stone-800/50 hover:border-amber-900/50 transition-colors group",children:[c.jsxs("div",{className:"flex items-start justify-between mb-1",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-widest text-amber-500/80 font-bold bg-amber-950/30 px-2 py-0.5 rounded-full border border-amber-900/30",children:d.type}),c.jsxs("div",{className:"flex items-center gap-1 text-stone-500 text-xs",children:[c.jsx(Vi,{size:12}),c.jsx("span",{children:d.recipe.prepTime})]})]}),c.jsx("h3",{className:"font-serif text-lg text-white mb-1 group-hover:text-amber-350 transition-colors",children:d.recipe.title}),c.jsx("p",{className:"text-xs text-stone-400 leading-relaxed",children:d.recipe.description})]},h))})})]},u))]}),r==="shopping"&&c.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:c.jsxs("div",{className:"bg-stone-900 rounded-2xl p-6 border border-stone-800",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-stone-800",children:[c.jsx(Zc,{className:"text-amber-350"}),c.jsx("h2",{className:"text-xl font-serif text-white",children:"Consolidated Shopping List"})]}),c.jsx("ul",{className:"space-y-3",children:e.shoppingList.map((l,u)=>c.jsxs("li",{className:"flex items-center gap-3 text-stone-300 group",children:[c.jsx("div",{className:"w-5 h-5 rounded-full border border-stone-600 flex items-center justify-center group-hover:border-amber-500 transition-colors cursor-pointer",children:c.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 opacity-0 group-hover:opacity-20 transition-opacity"})}),c.jsx("span",{children:l})]},u))}),c.jsx("div",{className:"mt-8 p-4 bg-amber-900/10 rounded-xl border border-amber-900/30",children:c.jsx("p",{className:"text-xs text-amber-500/80 text-center",children:"Tip: Check your pantry first! This list assumes you need everything."})})]})})]})]})},aa=["Tasting the air...","Consulting Grandma's secret stash...","Chopping onions (virtually)...","Checking the spice rack...","Inventing a new flavor...","Asking the stars for salt...","Simmering ideas...","Pairing flavors...","Designing your week...","Budgeting the pantry...","Organizing the fridge..."],NE=()=>{const[e,t]=k.useState(G.LANDING),[r,n]=k.useState(null),[s,i]=k.useState(null),[o,a]=k.useState([]),[l,u]=k.useState(null),[d,h]=k.useState(null),[f,m]=k.useState(null),[y,_]=k.useState(aa[0]),[w,g]=k.useState(!1),[p,v]=k.useState([]),[E,S]=k.useState(null),[b,N]=k.useState(void 0);k.useEffect(()=>{try{const x=localStorage.getItem("chefMuseHistory");x&&a(JSON.parse(x))}catch(x){console.error("Failed to load history",x)}},[]),k.useEffect(()=>{let x;if(e===G.PROCESSING){let P=0;x=setInterval(()=>{P=(P+1)%aa.length,_(aa[P])},2500)}return()=>clearInterval(x)},[e]);const I=x=>{m(x),setTimeout(()=>m(null),3e3)},H=x=>{if(o.some(M=>M.id===x.id))return;const P=[x,...o];a(P),localStorage.setItem("chefMuseHistory",JSON.stringify(P)),g(!0),I("Recipe saved to Cookbook")},L=(x,P)=>{P&&P.stopPropagation();const M=o.filter(F=>F.id!==x);a(M),localStorage.setItem("chefMuseHistory",JSON.stringify(M)),I("Recipe removed")},Q=async x=>{t(G.PROCESSING),u(null),h(null),v(x.images),S(x.audio),N(void 0);try{if(x.mode===fe.MEAL_PREP){const P=await Sh(x.images,x.audio,x.audioMimeType,void 0,x.constraints||[],x.mealTypes);i(P),t(G.MEAL_PLAN_VIEW)}else{const P=await ti(x.images,x.audio,x.audioMimeType,void 0,x.constraints||[]);n(P),g(!1),t(G.RECIPE_VIEW)}}catch(P){$(P)}},xe=async(x,P=fe.INSTANT,M=["Dinner"],F=[])=>{t(G.PROCESSING),u(null),h(null),v([]),S(null),N(x);try{if(P===fe.MEAL_PREP){const re=await Sh([],null,void 0,x,F,M);i(re),t(G.MEAL_PLAN_VIEW)}else{const re=await ti([],null,void 0,x,F);n(re),g(!1),t(G.RECIPE_VIEW)}}catch(re){$(re)}},me=async x=>{t(G.PROCESSING),u(null);try{const P=await ti(p,E,void 0,b,x);n(P),g(!1),t(G.RECIPE_VIEW)}catch(P){$(P)}},B=async x=>{t(G.PROCESSING),_("Removing missing ingredients..."),u(null);const M=`Exclude ingredients: ${x.map(le=>le.replace(/\s*\(.*?\)\s*/g,"").trim()).filter(Boolean).join(", ")}`,re=[...(r==null?void 0:r.constraints)||[],M];try{const le=await ti(p,E,void 0,b,re);n(le),g(!1),t(G.RECIPE_VIEW)}catch(le){$(le)}},$=x=>{console.error("App Error:",x);let P="The Muse was silent.",M="We couldn't generate a recipe. Please try again.";const F=x.message||"";F.includes("API Key")?(P="Configuration Error",M="The API Key is missing. Please check the environment configuration."):F.includes("No response generated")||F.includes("Candidate was blocked")?(P="Inspiration blocked",M="The Muse couldn't understand the request or it was flagged. Try different wording."):F.includes("fetch")||F.includes("network")?(P="Connection Lost",M="Please check your internet connection and try again."):F.includes("JSON")&&(P="Creative Confusion",M="The Muse hallucinated an invalid format. Trying again usually fixes this."),u(P),h(M),t(G.ERROR)},_e=()=>{t(G.IDLE),n(null),i(null),u(null)},Ue=()=>{t(G.IDLE)},O=()=>{t(G.ABOUT)},j=()=>{t(G.COOKBOOK)},U=()=>{t(G.INGREDIENTS_INPUT)},W=x=>{n(x),g(!0),v([]),S(null),N(void 0),t(G.RECIPE_VIEW)},Y=()=>{t(G.LANDING)},gt=()=>{t(w?G.COOKBOOK:G.LANDING)};return c.jsx("div",{className:"h-screen w-full bg-stone-950 text-stone-100 flex flex-col overflow-hidden",children:c.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[c.jsxs(_y,{children:[c.jsx("title",{children:"The Chef's Muse | AI-Powered Cooking Companion"}),c.jsx("meta",{name:"description",content:"Turn your fridge ingredients into culinary masterpieces with AI. Visual recipes, voice guidance, and zero waste cooking."}),c.jsx("meta",{name:"theme-color",content:"#0c0a09"}),c.jsx("meta",{property:"og:title",content:"The Chef's Muse - Cook with AI"}),c.jsx("meta",{property:"og:description",content:"No recipes? No problem. Use what you have."}),c.jsx("meta",{property:"og:image",content:"https://images.unsplash.com/photo-1556910103-1c02745a30bf?auto=format&fit=crop&q=80&w=1200"}),c.jsx("meta",{property:"og:type",content:"website"})]}),e===G.LANDING&&c.jsx("div",{className:"absolute inset-0 z-50 animate-fade-in",children:c.jsx(yE,{onStart:Ue,onAbout:O,onCookbook:j,onIngredientsInput:U})}),e===G.ABOUT&&c.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:c.jsx(_E,{onBack:Y})}),e===G.COOKBOOK&&c.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:c.jsx(xE,{recipes:o,onSelectRecipe:W,onBack:Y,onGenerateFromText:x=>xe(x),onDeleteRecipe:L})}),e===G.INGREDIENTS_INPUT&&c.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:c.jsx(TE,{onBack:Y,onSubmit:xe})}),(e===G.IDLE||e===G.RECORDING||e===G.PROCESSING||e===G.ERROR)&&c.jsx("div",{className:"absolute inset-0 transition-opacity duration-500 opacity-100",children:e===G.ERROR?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center space-y-6 bg-stone-900 animate-fade-in",children:[c.jsx("div",{className:"p-4 bg-stone-800 rounded-full text-amber-350/50",children:c.jsx(Eu,{size:48})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-serif text-white",children:l}),c.jsx("p",{className:"text-stone-400 max-w-xs mx-auto text-sm leading-relaxed",children:d})]}),c.jsx("button",{onClick:_e,className:"px-8 py-3 bg-stone-100 text-stone-900 font-bold rounded-full hover:bg-amber-350 transition-colors",children:"Try Again"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Vy,{onCapture:Q,onBack:Y,isProcessing:e===G.PROCESSING}),e===G.PROCESSING&&c.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center z-50 animate-fade-in",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-amber-350 blur-xl opacity-20 animate-pulse"}),c.jsx(Dy,{className:"w-16 h-16 text-amber-350 animate-spin mb-6 relative z-10"})]}),c.jsxs("p",{className:"text-amber-350/90 font-serif italic text-xl animate-float min-h-[2rem] text-center px-4",children:['"',y,'"']})]})]})}),e===G.RECIPE_VIEW&&r&&c.jsx("div",{className:"absolute inset-0 bg-stone-900 z-40 animate-fade-in",children:c.jsx(vE,{recipe:r,onBack:gt,onSave:H,onRemix:me,onRefine:B,isSaved:w})}),e===G.MEAL_PLAN_VIEW&&s&&c.jsx("div",{className:"absolute inset-0 bg-stone-900 z-40 animate-fade-in",children:c.jsx(bE,{plan:s,onBack:Y})}),f&&c.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-[60] animate-slide-down",children:c.jsxs("div",{className:"bg-stone-800 text-stone-200 px-6 py-3 rounded-full shadow-xl border border-stone-700 flex items-center gap-3",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-350 animate-pulse"}),c.jsx("span",{className:"text-sm font-medium",children:f})]})})]})})},m0=document.getElementById("root");if(!m0)throw new Error("Could not find root element to mount to");const OE=ua.createRoot(m0);OE.render(c.jsx(It.StrictMode,{children:c.jsx(Hp,{children:c.jsx(NE,{})})}));
