(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Rp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},Or={},Vd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.element"),Pp=Symbol.for("react.portal"),kp=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),Lp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Gp=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),bl=Symbol.iterator;function qp(e){return e===null||typeof e!="object"?null:(e=bl&&e[bl]||e["@@iterator"],typeof e=="function"?e:null)}var Gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hd=Object.assign,qd={};function Hn(e,t,n){this.props=e,this.context=t,this.refs=qd,this.updater=n||Gd}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zd(){}zd.prototype=Hn.prototype;function Ks(e,t,n){this.props=e,this.context=t,this.refs=qd,this.updater=n||Gd}var Ys=Ks.prototype=new zd;Ys.constructor=Ks;Hd(Ys,Hn.prototype);Ys.isPureReactComponent=!0;var Xl=Array.isArray,Bd=Object.prototype.hasOwnProperty,Qs={current:null},Jd={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,t,n){var o,r={},i=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Bd.call(t,o)&&!Jd.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];r.children=d}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Fo,type:e,key:i,ref:l,props:r,_owner:Qs.current}}function zp(e,t){return{$$typeof:Fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fo}function Bp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zl=/\/+/g;function pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bp(""+e.key):t.toString(36)}function rr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Fo:case Pp:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+pi(l,0):o,Xl(r)?(n="",e!=null&&(n=e.replace(Zl,"$&/")+"/"),rr(r,t,n,"",function(c){return c})):r!=null&&(bs(r)&&(r=zp(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Zl,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",Xl(e))for(var u=0;u<e.length;u++){i=e[u];var d=o+pi(i,u);l+=rr(i,t,n,d,r)}else if(d=qp(e),typeof d=="function")for(e=d.call(e),u=0;!(i=e.next()).done;)i=i.value,d=o+pi(i,u++),l+=rr(i,t,n,d,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function zo(e,t,n){if(e==null)return e;var o=[],r=0;return rr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function Jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},ir={transition:null},$p={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ir,ReactCurrentOwner:Qs};function Wd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:zo,forEach:function(e,t,n){zo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zo(e,function(){t++}),t},toArray:function(e){return zo(e,function(t){return t})||[]},only:function(e){if(!bs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Hn;B.Fragment=kp;B.Profiler=Dp;B.PureComponent=Ks;B.StrictMode=Mp;B.Suspense=Vp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p;B.act=Wd;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Hd({},e.props),r=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Qs.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Bd.call(t,d)&&!Jd.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:Fo,type:e.type,key:r,ref:i,props:o,_owner:l}};B.createContext=function(e){return e={$$typeof:Up,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lp,_context:e},e.Consumer=e};B.createElement=$d;B.createFactory=function(e){var t=$d.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Fp,render:e}};B.isValidElement=bs;B.lazy=function(e){return{$$typeof:Hp,_payload:{_status:-1,_result:e},_init:Jp}};B.memo=function(e,t){return{$$typeof:Gp,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=ir.transition;ir.transition={};try{e()}finally{ir.transition=t}};B.unstable_act=Wd;B.useCallback=function(e,t){return Re.current.useCallback(e,t)};B.useContext=function(e){return Re.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};B.useEffect=function(e,t){return Re.current.useEffect(e,t)};B.useId=function(){return Re.current.useId()};B.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Re.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};B.useRef=function(e){return Re.current.useRef(e)};B.useState=function(e){return Re.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Re.current.useTransition()};B.version="18.3.1";Vd.exports=B;var U=Vd.exports;const Wp=Rp(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=U,Kp=Symbol.for("react.element"),Yp=Symbol.for("react.fragment"),Qp=Object.prototype.hasOwnProperty,bp=Op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xp={key:!0,ref:!0,__self:!0,__source:!0};function Od(e,t,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)Qp.call(t,o)&&!Xp.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:Kp,type:e,key:i,ref:l,props:r,_owner:bp.current}}Or.Fragment=Yp;Or.jsx=Od;Or.jsxs=Od;Fd.exports=Or;var h=Fd.exports,Bi={},Kd={exports:{}},qe={},Yd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,V){var q=M.length;M.push(V);e:for(;0<q;){var F=q-1>>>1,G=M[F];if(0<r(G,V))M[F]=V,M[q]=G,q=F;else break e}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var V=M[0],q=M.pop();if(q!==V){M[0]=q;e:for(var F=0,G=M.length,L=G>>>1;F<L;){var O=2*(F+1)-1,re=M[O],b=O+1,ye=M[b];if(0>r(re,q))b<G&&0>r(ye,re)?(M[F]=ye,M[b]=q,F=b):(M[F]=re,M[O]=q,F=O);else if(b<G&&0>r(ye,q))M[F]=ye,M[b]=q,F=b;else break e}}return V}function r(M,V){var q=M.sortIndex-V.sortIndex;return q!==0?q:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,p=null,m=3,g=!1,E=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(M){for(var V=n(c);V!==null;){if(V.callback===null)o(c);else if(V.startTime<=M)o(c),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(c)}}function S(M){if(T=!1,C(M),!E)if(n(d)!==null)E=!0,X(x);else{var V=n(c);V!==null&&Te(S,V.startTime-M)}}function x(M,V){E=!1,T&&(T=!1,v(P),P=-1),g=!0;var q=m;try{for(C(V),p=n(d);p!==null&&(!(p.expirationTime>V)||M&&!H());){var F=p.callback;if(typeof F=="function"){p.callback=null,m=p.priorityLevel;var G=F(p.expirationTime<=V);V=e.unstable_now(),typeof G=="function"?p.callback=G:p===n(d)&&o(d),C(V)}else o(d);p=n(d)}if(p!==null)var L=!0;else{var O=n(c);O!==null&&Te(S,O.startTime-V),L=!1}return L}finally{p=null,m=q,g=!1}}var _=!1,N=null,P=-1,A=5,I=-1;function H(){return!(e.unstable_now()-I<A)}function J(){if(N!==null){var M=e.unstable_now();I=M;var V=!0;try{V=N(!0,M)}finally{V?z():(_=!1,N=null)}}else _=!1}var z;if(typeof y=="function")z=function(){y(J)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Be=ne.port2;ne.port1.onmessage=J,z=function(){Be.postMessage(null)}}else z=function(){w(J,0)};function X(M){N=M,_||(_=!0,z())}function Te(M,V){P=w(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){E||g||(E=!0,X(x))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var q=m;m=V;try{return M()}finally{m=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=m;m=M;try{return V()}finally{m=q}},e.unstable_scheduleCallback=function(M,V,q){var F=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?F+q:F):q=F,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,M={id:f++,callback:V,priorityLevel:M,startTime:q,expirationTime:G,sortIndex:-1},q>F?(M.sortIndex=q,t(c,M),n(d)===null&&M===n(c)&&(T?(v(P),P=-1):T=!0,Te(S,q-F))):(M.sortIndex=G,t(d,M),E||g||(E=!0,X(x))),M},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(M){var V=m;return function(){var q=m;m=V;try{return M.apply(this,arguments)}finally{m=q}}}})(Qd);Yd.exports=Qd;var Zp=Yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=U,He=Zp;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bd=new Set,yo={};function sn(e,t){Mn(e,t),Mn(e+"Capture",t)}function Mn(e,t){for(yo[e]=t,e=0;e<t.length;e++)bd.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=Object.prototype.hasOwnProperty,em=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jl={},ea={};function tm(e){return Ji.call(ea,e)?!0:Ji.call(jl,e)?!1:em.test(e)?ea[e]=!0:(jl[e]=!0,!1)}function nm(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function om(e,t,n,o){if(t===null||typeof t>"u"||nm(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,n,o,r,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xs=/[\-:]([a-z])/g;function Zs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xs,Zs);Ee[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xs,Zs);Ee[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xs,Zs);Ee[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function js(e,t,n,o){var r=Ee.hasOwnProperty(t)?Ee[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(om(t,n,r,o)&&(n=null),o||r===null?tm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var St=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),dn=Symbol.for("react.portal"),cn=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),$i=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Wi=Symbol.for("react.suspense"),Oi=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),ta=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=ta&&e[ta]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Object.assign,mi;function to(e){if(mi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mi=t&&t[1]||""}return`
`+mi+e}var hi=!1;function gi(e,t){if(!e||hi)return"";hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var d=`
`+r[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?to(e):""}function rm(e){switch(e.tag){case 5:return to(e.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return e=gi(e.type,!1),e;case 11:return e=gi(e.type.render,!1),e;case 1:return e=gi(e.type,!0),e;default:return""}}function Ki(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cn:return"Fragment";case dn:return"Portal";case $i:return"Profiler";case el:return"StrictMode";case Wi:return"Suspense";case Oi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zd:return(e.displayName||"Context")+".Consumer";case Xd:return(e._context.displayName||"Context")+".Provider";case tl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nl:return t=e.displayName||null,t!==null?t:Ki(e.type)||"Memo";case wt:t=e._payload,e=e._init;try{return Ki(e(t))}catch{}}return null}function im(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ki(t);case 8:return t===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sm(e){var t=ec(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){e._valueTracker||(e._valueTracker=sm(e))}function tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=ec(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yi(e,t){var n=t.checked;return ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function na(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nc(e,t){t=t.checked,t!=null&&js(e,"checked",t,!1)}function Qi(e,t){nc(e,t);var n=qt(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bi(e,t.type,n):t.hasOwnProperty("defaultValue")&&bi(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bi(e,t,n){(t!=="number"||vr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var no=Array.isArray;function xn(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(no(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qt(n)}}function oc(e,t){var n=qt(t.value),o=qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function ia(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=sc(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var am=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(e,t){if(t){if(am[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function es(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,_n=null,In=null;function sa(e){if(e=Ho(e)){if(typeof ns!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Xr(t),ns(e.stateNode,e.type,t))}}function ac(e){_n?In?In.push(e):In=[e]:_n=e}function uc(){if(_n){var e=_n,t=In;if(In=_n=null,sa(e),t)for(e=0;e<t.length;e++)sa(t[e])}}function dc(e,t){return e(t)}function cc(){}var yi=!1;function fc(e,t,n){if(yi)return e(t,n);yi=!0;try{return dc(e,t,n)}finally{yi=!1,(_n!==null||In!==null)&&(cc(),uc())}}function Co(e,t){var n=e.stateNode;if(n===null)return null;var o=Xr(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var os=!1;if(yt)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){os=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{os=!1}function um(e,t,n,o,r,i,l,u,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var so=!1,Cr=null,Er=!1,rs=null,dm={onError:function(e){so=!0,Cr=e}};function cm(e,t,n,o,r,i,l,u,d){so=!1,Cr=null,um.apply(dm,arguments)}function fm(e,t,n,o,r,i,l,u,d){if(cm.apply(this,arguments),so){if(so){var c=Cr;so=!1,Cr=null}else throw Error(R(198));Er||(Er=!0,rs=c)}}function ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function la(e){if(ln(e)!==e)throw Error(R(188))}function pm(e){var t=e.alternate;if(!t){if(t=ln(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return la(r),e;if(i===o)return la(r),t;i=i.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function mc(e){return e=pm(e),e!==null?hc(e):null}function hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hc(e);if(t!==null)return t;e=e.sibling}return null}var gc=He.unstable_scheduleCallback,aa=He.unstable_cancelCallback,mm=He.unstable_shouldYield,hm=He.unstable_requestPaint,de=He.unstable_now,gm=He.unstable_getCurrentPriorityLevel,rl=He.unstable_ImmediatePriority,yc=He.unstable_UserBlockingPriority,Tr=He.unstable_NormalPriority,ym=He.unstable_LowPriority,vc=He.unstable_IdlePriority,Kr=null,ut=null;function vm(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Tm,Cm=Math.log,Em=Math.LN2;function Tm(e){return e>>>=0,e===0?32:31-(Cm(e)/Em|0)|0}var Wo=64,Oo=4194304;function oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sr(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=oo(u):(i&=l,i!==0&&(o=oo(i)))}else l=n&~r,l!==0?o=oo(l):i!==0&&(o=oo(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-tt(t),r=1<<n,o|=e[n],t&=~r;return o}function Sm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xm(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-tt(i),u=1<<l,d=r[l];d===-1?(!(u&n)||u&o)&&(r[l]=Sm(u,t)):d<=t&&(e.expiredLanes|=u),i&=~u}}function is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cc(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function vi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function _m(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-tt(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function il(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-tt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var Q=0;function Ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tc,sl,Sc,xc,_c,ss=!1,Ko=[],Mt=null,Dt=null,Lt=null,Eo=new Map,To=new Map,At=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ua(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(t.pointerId)}}function Yn(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ho(t),t!==null&&sl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function wm(e,t,n,o,r){switch(t){case"focusin":return Mt=Yn(Mt,e,t,n,o,r),!0;case"dragenter":return Dt=Yn(Dt,e,t,n,o,r),!0;case"mouseover":return Lt=Yn(Lt,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Eo.set(i,Yn(Eo.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,To.set(i,Yn(To.get(i)||null,e,t,n,o,r)),!0}return!1}function Ic(e){var t=Yt(e.target);if(t!==null){var n=ln(t);if(n!==null){if(t=n.tag,t===13){if(t=pc(n),t!==null){e.blockedOn=t,_c(e.priority,function(){Sc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ls(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);ts=o,n.target.dispatchEvent(o),ts=null}else return t=Ho(n),t!==null&&sl(t),e.blockedOn=n,!1;t.shift()}return!0}function da(e,t,n){sr(e)&&n.delete(t)}function Nm(){ss=!1,Mt!==null&&sr(Mt)&&(Mt=null),Dt!==null&&sr(Dt)&&(Dt=null),Lt!==null&&sr(Lt)&&(Lt=null),Eo.forEach(da),To.forEach(da)}function Qn(e,t){e.blockedOn===t&&(e.blockedOn=null,ss||(ss=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Nm)))}function So(e){function t(r){return Qn(r,e)}if(0<Ko.length){Qn(Ko[0],e);for(var n=1;n<Ko.length;n++){var o=Ko[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Mt!==null&&Qn(Mt,e),Dt!==null&&Qn(Dt,e),Lt!==null&&Qn(Lt,e),Eo.forEach(t),To.forEach(t),n=0;n<At.length;n++)o=At[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)Ic(n),n.blockedOn===null&&At.shift()}var wn=St.ReactCurrentBatchConfig,xr=!0;function Am(e,t,n,o){var r=Q,i=wn.transition;wn.transition=null;try{Q=1,ll(e,t,n,o)}finally{Q=r,wn.transition=i}}function Rm(e,t,n,o){var r=Q,i=wn.transition;wn.transition=null;try{Q=4,ll(e,t,n,o)}finally{Q=r,wn.transition=i}}function ll(e,t,n,o){if(xr){var r=ls(e,t,n,o);if(r===null)Ai(e,t,o,_r,n),ua(e,o);else if(wm(r,e,t,n,o))o.stopPropagation();else if(ua(e,o),t&4&&-1<Im.indexOf(e)){for(;r!==null;){var i=Ho(r);if(i!==null&&Tc(i),i=ls(e,t,n,o),i===null&&Ai(e,t,o,_r,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Ai(e,t,o,null,n)}}var _r=null;function ls(e,t,n,o){if(_r=null,e=ol(o),e=Yt(e),e!==null)if(t=ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _r=e,null}function wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gm()){case rl:return 1;case yc:return 4;case Tr:case ym:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Pt=null,al=null,lr=null;function Nc(){if(lr)return lr;var e,t=al,n=t.length,o,r="value"in Pt?Pt.value:Pt.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[i-o];o++);return lr=r.slice(e,1<o?1-o:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function ca(){return!1}function ze(e){function t(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yo:ca,this.isPropagationStopped=ca,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=ze(qn),Go=ae({},qn,{view:0,detail:0}),Pm=ze(Go),Ci,Ei,bn,Yr=ae({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&e.type==="mousemove"?(Ci=e.screenX-bn.screenX,Ei=e.screenY-bn.screenY):Ei=Ci=0,bn=e),Ci)},movementY:function(e){return"movementY"in e?e.movementY:Ei}}),fa=ze(Yr),km=ae({},Yr,{dataTransfer:0}),Mm=ze(km),Dm=ae({},Go,{relatedTarget:0}),Ti=ze(Dm),Lm=ae({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Um=ze(Lm),Fm=ae({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vm=ze(Fm),Gm=ae({},qn,{data:0}),pa=ze(Gm),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zm[e])?!!t[e]:!1}function dl(){return Bm}var Jm=ae({},Go,{key:function(e){if(e.key){var t=Hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(e){return e.type==="keypress"?ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$m=ze(Jm),Wm=ae({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ma=ze(Wm),Om=ae({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Km=ze(Om),Ym=ae({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=ze(Ym),bm=ae({},Yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xm=ze(bm),Zm=[9,13,27,32],cl=yt&&"CompositionEvent"in window,lo=null;yt&&"documentMode"in document&&(lo=document.documentMode);var jm=yt&&"TextEvent"in window&&!lo,Ac=yt&&(!cl||lo&&8<lo&&11>=lo),ha=" ",ga=!1;function Rc(e,t){switch(e){case"keyup":return Zm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function eh(e,t){switch(e){case"compositionend":return Pc(t);case"keypress":return t.which!==32?null:(ga=!0,ha);case"textInput":return e=t.data,e===ha&&ga?null:e;default:return null}}function th(e,t){if(fn)return e==="compositionend"||!cl&&Rc(e,t)?(e=Nc(),lr=al=Pt=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ac&&t.locale!=="ko"?null:t.data;default:return null}}var nh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nh[e.type]:t==="textarea"}function kc(e,t,n,o){ac(o),t=Ir(t,"onChange"),0<t.length&&(n=new ul("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var ao=null,xo=null;function oh(e){Bc(e,0)}function Qr(e){var t=hn(e);if(tc(t))return e}function rh(e,t){if(e==="change")return t}var Mc=!1;if(yt){var Si;if(yt){var xi="oninput"in document;if(!xi){var va=document.createElement("div");va.setAttribute("oninput","return;"),xi=typeof va.oninput=="function"}Si=xi}else Si=!1;Mc=Si&&(!document.documentMode||9<document.documentMode)}function Ca(){ao&&(ao.detachEvent("onpropertychange",Dc),xo=ao=null)}function Dc(e){if(e.propertyName==="value"&&Qr(xo)){var t=[];kc(t,xo,e,ol(e)),fc(oh,t)}}function ih(e,t,n){e==="focusin"?(Ca(),ao=t,xo=n,ao.attachEvent("onpropertychange",Dc)):e==="focusout"&&Ca()}function sh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qr(xo)}function lh(e,t){if(e==="click")return Qr(t)}function ah(e,t){if(e==="input"||e==="change")return Qr(t)}function uh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:uh;function _o(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Ji.call(t,r)||!ot(e[r],t[r]))return!1}return!0}function Ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ta(e,t){var n=Ea(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ea(n)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(){for(var e=window,t=vr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vr(e.document)}return t}function fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dh(e){var t=Uc(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(o!==null&&fl(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=Ta(n,i);var l=Ta(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ch=yt&&"documentMode"in document&&11>=document.documentMode,pn=null,as=null,uo=null,us=!1;function Sa(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;us||pn==null||pn!==vr(o)||(o=pn,"selectionStart"in o&&fl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),uo&&_o(uo,o)||(uo=o,o=Ir(as,"onSelect"),0<o.length&&(t=new ul("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=pn)))}function Qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mn={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},_i={},Fc={};yt&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function br(e){if(_i[e])return _i[e];if(!mn[e])return e;var t=mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fc)return _i[e]=t[n];return e}var Vc=br("animationend"),Gc=br("animationiteration"),Hc=br("animationstart"),qc=br("transitionend"),zc=new Map,xa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){zc.set(e,t),sn(t,[e])}for(var Ii=0;Ii<xa.length;Ii++){var wi=xa[Ii],fh=wi.toLowerCase(),ph=wi[0].toUpperCase()+wi.slice(1);Bt(fh,"on"+ph)}Bt(Vc,"onAnimationEnd");Bt(Gc,"onAnimationIteration");Bt(Hc,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(qc,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function _a(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,fm(o,t,void 0,e),e.currentTarget=null}function Bc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&r.isPropagationStopped())break e;_a(r,u,c),i=d}else for(l=0;l<o.length;l++){if(u=o[l],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&r.isPropagationStopped())break e;_a(r,u,c),i=d}}}if(Er)throw e=rs,Er=!1,rs=null,e}function j(e,t){var n=t[ms];n===void 0&&(n=t[ms]=new Set);var o=e+"__bubble";n.has(o)||(Jc(t,e,2,!1),n.add(o))}function Ni(e,t,n){var o=0;t&&(o|=4),Jc(n,e,o,t)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[bo]){e[bo]=!0,bd.forEach(function(n){n!=="selectionchange"&&(mh.has(n)||Ni(n,!1,e),Ni(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bo]||(t[bo]=!0,Ni("selectionchange",!1,t))}}function Jc(e,t,n,o){switch(wc(t)){case 1:var r=Am;break;case 4:r=Rm;break;default:r=ll}n=r.bind(null,t,n,e),r=void 0,!os||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ai(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Yt(u),l===null)return;if(d=l.tag,d===5||d===6){o=i=l;continue e}u=u.parentNode}}o=o.return}fc(function(){var c=i,f=ol(n),p=[];e:{var m=zc.get(e);if(m!==void 0){var g=ul,E=e;switch(e){case"keypress":if(ar(n)===0)break e;case"keydown":case"keyup":g=$m;break;case"focusin":E="focus",g=Ti;break;case"focusout":E="blur",g=Ti;break;case"beforeblur":case"afterblur":g=Ti;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Km;break;case Vc:case Gc:case Hc:g=Um;break;case qc:g=Qm;break;case"scroll":g=Pm;break;case"wheel":g=Xm;break;case"copy":case"cut":case"paste":g=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ma}var T=(t&4)!==0,w=!T&&e==="scroll",v=T?m!==null?m+"Capture":null:m;T=[];for(var y=c,C;y!==null;){C=y;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,v!==null&&(S=Co(y,v),S!=null&&T.push(wo(y,S,C)))),w)break;y=y.return}0<T.length&&(m=new g(m,E,null,n,f),p.push({event:m,listeners:T}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==ts&&(E=n.relatedTarget||n.fromElement)&&(Yt(E)||E[vt]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=c,E=E?Yt(E):null,E!==null&&(w=ln(E),E!==w||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=c),g!==E)){if(T=fa,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=ma,S="onPointerLeave",v="onPointerEnter",y="pointer"),w=g==null?m:hn(g),C=E==null?m:hn(E),m=new T(S,y+"leave",g,n,f),m.target=w,m.relatedTarget=C,S=null,Yt(f)===c&&(T=new T(v,y+"enter",E,n,f),T.target=C,T.relatedTarget=w,S=T),w=S,g&&E)t:{for(T=g,v=E,y=0,C=T;C;C=un(C))y++;for(C=0,S=v;S;S=un(S))C++;for(;0<y-C;)T=un(T),y--;for(;0<C-y;)v=un(v),C--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=un(T),v=un(v)}T=null}else T=null;g!==null&&Ia(p,m,g,T,!1),E!==null&&w!==null&&Ia(p,w,E,T,!0)}}e:{if(m=c?hn(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var x=rh;else if(ya(m))if(Mc)x=ah;else{x=sh;var _=ih}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=lh);if(x&&(x=x(e,c))){kc(p,x,n,f);break e}_&&_(e,m,c),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&bi(m,"number",m.value)}switch(_=c?hn(c):window,e){case"focusin":(ya(_)||_.contentEditable==="true")&&(pn=_,as=c,uo=null);break;case"focusout":uo=as=pn=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,Sa(p,n,f);break;case"selectionchange":if(ch)break;case"keydown":case"keyup":Sa(p,n,f)}var N;if(cl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else fn?Rc(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ac&&n.locale!=="ko"&&(fn||P!=="onCompositionStart"?P==="onCompositionEnd"&&fn&&(N=Nc()):(Pt=f,al="value"in Pt?Pt.value:Pt.textContent,fn=!0)),_=Ir(c,P),0<_.length&&(P=new pa(P,e,null,n,f),p.push({event:P,listeners:_}),N?P.data=N:(N=Pc(n),N!==null&&(P.data=N)))),(N=jm?eh(e,n):th(e,n))&&(c=Ir(c,"onBeforeInput"),0<c.length&&(f=new pa("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=N))}Bc(p,t)})}function wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Co(e,n),i!=null&&o.unshift(wo(e,i,r)),i=Co(e,t),i!=null&&o.push(wo(e,i,r))),e=e.return}return o}function un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ia(e,t,n,o,r){for(var i=t._reactName,l=[];n!==null&&n!==o;){var u=n,d=u.alternate,c=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&c!==null&&(u=c,r?(d=Co(n,i),d!=null&&l.unshift(wo(n,d,u))):r||(d=Co(n,i),d!=null&&l.push(wo(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var hh=/\r\n?/g,gh=/\u0000|\uFFFD/g;function wa(e){return(typeof e=="string"?e:""+e).replace(hh,`
`).replace(gh,"")}function Xo(e,t,n){if(t=wa(t),wa(e)!==t&&n)throw Error(R(425))}function wr(){}var ds=null,cs=null;function fs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ps=typeof setTimeout=="function"?setTimeout:void 0,yh=typeof clearTimeout=="function"?clearTimeout:void 0,Na=typeof Promise=="function"?Promise:void 0,vh=typeof queueMicrotask=="function"?queueMicrotask:typeof Na<"u"?function(e){return Na.resolve(null).then(e).catch(Ch)}:ps;function Ch(e){setTimeout(function(){throw e})}function Ri(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),So(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);So(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Aa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),at="__reactFiber$"+zn,No="__reactProps$"+zn,vt="__reactContainer$"+zn,ms="__reactEvents$"+zn,Eh="__reactListeners$"+zn,Th="__reactHandles$"+zn;function Yt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Aa(e);e!==null;){if(n=e[at])return n;e=Aa(e)}return t}e=n,n=e.parentNode}return null}function Ho(e){return e=e[at]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Xr(e){return e[No]||null}var hs=[],gn=-1;function Jt(e){return{current:e}}function te(e){0>gn||(e.current=hs[gn],hs[gn]=null,gn--)}function Z(e,t){gn++,hs[gn]=e.current,e.current=t}var zt={},we=Jt(zt),De=Jt(!1),jt=zt;function Dn(e,t){var n=e.type.contextTypes;if(!n)return zt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Le(e){return e=e.childContextTypes,e!=null}function Nr(){te(De),te(we)}function Ra(e,t,n){if(we.current!==zt)throw Error(R(168));Z(we,t),Z(De,n)}function $c(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(R(108,im(e)||"Unknown",r));return ae({},n,o)}function Ar(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,jt=we.current,Z(we,e),Z(De,De.current),!0}function Pa(e,t,n){var o=e.stateNode;if(!o)throw Error(R(169));n?(e=$c(e,t,jt),o.__reactInternalMemoizedMergedChildContext=e,te(De),te(we),Z(we,e)):te(De),Z(De,n)}var pt=null,Zr=!1,Pi=!1;function Wc(e){pt===null?pt=[e]:pt.push(e)}function Sh(e){Zr=!0,Wc(e)}function $t(){if(!Pi&&pt!==null){Pi=!0;var e=0,t=Q;try{var n=pt;for(Q=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}pt=null,Zr=!1}catch(r){throw pt!==null&&(pt=pt.slice(e+1)),gc(rl,$t),r}finally{Q=t,Pi=!1}}return null}var yn=[],vn=0,Rr=null,Pr=0,$e=[],We=0,en=null,mt=1,ht="";function Ot(e,t){yn[vn++]=Pr,yn[vn++]=Rr,Rr=e,Pr=t}function Oc(e,t,n){$e[We++]=mt,$e[We++]=ht,$e[We++]=en,en=e;var o=mt;e=ht;var r=32-tt(o)-1;o&=~(1<<r),n+=1;var i=32-tt(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,mt=1<<32-tt(t)+r|n<<r|o,ht=i+e}else mt=1<<i|n<<r|o,ht=e}function pl(e){e.return!==null&&(Ot(e,1),Oc(e,1,0))}function ml(e){for(;e===Rr;)Rr=yn[--vn],yn[vn]=null,Pr=yn[--vn],yn[vn]=null;for(;e===en;)en=$e[--We],$e[We]=null,ht=$e[--We],$e[We]=null,mt=$e[--We],$e[We]=null}var Ge=null,Ve=null,oe=!1,et=null;function Kc(e,t){var n=Oe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ka(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ve=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=en!==null?{id:mt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Oe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,Ve=null,!0):!1;default:return!1}}function gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ys(e){if(oe){var t=Ve;if(t){var n=t;if(!ka(e,t)){if(gs(e))throw Error(R(418));t=Ut(n.nextSibling);var o=Ge;t&&ka(e,t)?Kc(o,n):(e.flags=e.flags&-4097|2,oe=!1,Ge=e)}}else{if(gs(e))throw Error(R(418));e.flags=e.flags&-4097|2,oe=!1,Ge=e}}}function Ma(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Zo(e){if(e!==Ge)return!1;if(!oe)return Ma(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fs(e.type,e.memoizedProps)),t&&(t=Ve)){if(gs(e))throw Yc(),Error(R(418));for(;t;)Kc(e,t),t=Ut(t.nextSibling)}if(Ma(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ve=Ut(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=Ge?Ut(e.stateNode.nextSibling):null;return!0}function Yc(){for(var e=Ve;e;)e=Ut(e.nextSibling)}function Ln(){Ve=Ge=null,oe=!1}function hl(e){et===null?et=[e]:et.push(e)}var xh=St.ReactCurrentBatchConfig;function Xn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function jo(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Da(e){var t=e._init;return t(e._payload)}function Qc(e){function t(v,y){if(e){var C=v.deletions;C===null?(v.deletions=[y],v.flags|=16):C.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Ht(v,y),v.index=0,v.sibling=null,v}function i(v,y,C){return v.index=C,e?(C=v.alternate,C!==null?(C=C.index,C<y?(v.flags|=2,y):C):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,y,C,S){return y===null||y.tag!==6?(y=Vi(C,v.mode,S),y.return=v,y):(y=r(y,C),y.return=v,y)}function d(v,y,C,S){var x=C.type;return x===cn?f(v,y,C.props.children,S,C.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wt&&Da(x)===y.type)?(S=r(y,C.props),S.ref=Xn(v,y,C),S.return=v,S):(S=hr(C.type,C.key,C.props,null,v.mode,S),S.ref=Xn(v,y,C),S.return=v,S)}function c(v,y,C,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=Gi(C,v.mode,S),y.return=v,y):(y=r(y,C.children||[]),y.return=v,y)}function f(v,y,C,S,x){return y===null||y.tag!==7?(y=Zt(C,v.mode,S,x),y.return=v,y):(y=r(y,C),y.return=v,y)}function p(v,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vi(""+y,v.mode,C),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bo:return C=hr(y.type,y.key,y.props,null,v.mode,C),C.ref=Xn(v,null,y),C.return=v,C;case dn:return y=Gi(y,v.mode,C),y.return=v,y;case wt:var S=y._init;return p(v,S(y._payload),C)}if(no(y)||On(y))return y=Zt(y,v.mode,C,null),y.return=v,y;jo(v,y)}return null}function m(v,y,C,S){var x=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return x!==null?null:u(v,y,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bo:return C.key===x?d(v,y,C,S):null;case dn:return C.key===x?c(v,y,C,S):null;case wt:return x=C._init,m(v,y,x(C._payload),S)}if(no(C)||On(C))return x!==null?null:f(v,y,C,S,null);jo(v,C)}return null}function g(v,y,C,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(C)||null,u(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bo:return v=v.get(S.key===null?C:S.key)||null,d(y,v,S,x);case dn:return v=v.get(S.key===null?C:S.key)||null,c(y,v,S,x);case wt:var _=S._init;return g(v,y,C,_(S._payload),x)}if(no(S)||On(S))return v=v.get(C)||null,f(y,v,S,x,null);jo(y,S)}return null}function E(v,y,C,S){for(var x=null,_=null,N=y,P=y=0,A=null;N!==null&&P<C.length;P++){N.index>P?(A=N,N=null):A=N.sibling;var I=m(v,N,C[P],S);if(I===null){N===null&&(N=A);break}e&&N&&I.alternate===null&&t(v,N),y=i(I,y,P),_===null?x=I:_.sibling=I,_=I,N=A}if(P===C.length)return n(v,N),oe&&Ot(v,P),x;if(N===null){for(;P<C.length;P++)N=p(v,C[P],S),N!==null&&(y=i(N,y,P),_===null?x=N:_.sibling=N,_=N);return oe&&Ot(v,P),x}for(N=o(v,N);P<C.length;P++)A=g(N,v,P,C[P],S),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?P:A.key),y=i(A,y,P),_===null?x=A:_.sibling=A,_=A);return e&&N.forEach(function(H){return t(v,H)}),oe&&Ot(v,P),x}function T(v,y,C,S){var x=On(C);if(typeof x!="function")throw Error(R(150));if(C=x.call(C),C==null)throw Error(R(151));for(var _=x=null,N=y,P=y=0,A=null,I=C.next();N!==null&&!I.done;P++,I=C.next()){N.index>P?(A=N,N=null):A=N.sibling;var H=m(v,N,I.value,S);if(H===null){N===null&&(N=A);break}e&&N&&H.alternate===null&&t(v,N),y=i(H,y,P),_===null?x=H:_.sibling=H,_=H,N=A}if(I.done)return n(v,N),oe&&Ot(v,P),x;if(N===null){for(;!I.done;P++,I=C.next())I=p(v,I.value,S),I!==null&&(y=i(I,y,P),_===null?x=I:_.sibling=I,_=I);return oe&&Ot(v,P),x}for(N=o(v,N);!I.done;P++,I=C.next())I=g(N,v,P,I.value,S),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?P:I.key),y=i(I,y,P),_===null?x=I:_.sibling=I,_=I);return e&&N.forEach(function(J){return t(v,J)}),oe&&Ot(v,P),x}function w(v,y,C,S){if(typeof C=="object"&&C!==null&&C.type===cn&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Bo:e:{for(var x=C.key,_=y;_!==null;){if(_.key===x){if(x=C.type,x===cn){if(_.tag===7){n(v,_.sibling),y=r(_,C.props.children),y.return=v,v=y;break e}}else if(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===wt&&Da(x)===_.type){n(v,_.sibling),y=r(_,C.props),y.ref=Xn(v,_,C),y.return=v,v=y;break e}n(v,_);break}else t(v,_);_=_.sibling}C.type===cn?(y=Zt(C.props.children,v.mode,S,C.key),y.return=v,v=y):(S=hr(C.type,C.key,C.props,null,v.mode,S),S.ref=Xn(v,y,C),S.return=v,v=S)}return l(v);case dn:e:{for(_=C.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(v,y.sibling),y=r(y,C.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Gi(C,v.mode,S),y.return=v,v=y}return l(v);case wt:return _=C._init,w(v,y,_(C._payload),S)}if(no(C))return E(v,y,C,S);if(On(C))return T(v,y,C,S);jo(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,C),y.return=v,v=y):(n(v,y),y=Vi(C,v.mode,S),y.return=v,v=y),l(v)):n(v,y)}return w}var Un=Qc(!0),bc=Qc(!1),kr=Jt(null),Mr=null,Cn=null,gl=null;function yl(){gl=Cn=Mr=null}function vl(e){var t=kr.current;te(kr),e._currentValue=t}function vs(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Nn(e,t){Mr=e,gl=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(gl!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(Mr===null)throw Error(R(308));Cn=e,Mr.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var Qt=null;function Cl(e){Qt===null?Qt=[e]:Qt.push(e)}function Xc(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Cl(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ct(e,o)}function Ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nt=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,W&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Ct(e,n)}return r=o.interleaved,r===null?(t.next=t,Cl(o)):(t.next=r.next,r.next=t),o.interleaved=t,Ct(e,n)}function ur(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,il(e,n)}}function La(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dr(e,t,n,o){var r=e.updateQueue;Nt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=r.baseState;l=0,f=c=d=null,u=i;do{var m=u.lane,g=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,T=u;switch(m=t,g=n,T.tag){case 1:if(E=T.payload,typeof E=="function"){p=E.call(g,p,m);break e}p=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,m=typeof E=="function"?E.call(g,p,m):E,m==null)break e;p=ae({},p,m);break e;case 2:Nt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[u]:m.push(u))}else g={eventTime:g,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=g,d=p):f=f.next=g,l|=m;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;m=u,u=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(f===null&&(d=p),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);nn|=l,e.lanes=l,e.memoizedState=p}}function Ua(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var qo={},dt=Jt(qo),Ao=Jt(qo),Ro=Jt(qo);function bt(e){if(e===qo)throw Error(R(174));return e}function Tl(e,t){switch(Z(Ro,t),Z(Ao,e),Z(dt,qo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zi(t,e)}te(dt),Z(dt,t)}function Fn(){te(dt),te(Ao),te(Ro)}function jc(e){bt(Ro.current);var t=bt(dt.current),n=Zi(t,e.type);t!==n&&(Z(Ao,e),Z(dt,n))}function Sl(e){Ao.current===e&&(te(dt),te(Ao))}var se=Jt(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ki=[];function xl(){for(var e=0;e<ki.length;e++)ki[e]._workInProgressVersionPrimary=null;ki.length=0}var dr=St.ReactCurrentDispatcher,Mi=St.ReactCurrentBatchConfig,tn=0,le=null,pe=null,he=null,Ur=!1,co=!1,Po=0,_h=0;function Se(){throw Error(R(321))}function _l(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function Il(e,t,n,o,r,i){if(tn=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dr.current=e===null||e.memoizedState===null?Ah:Rh,e=n(o,r),co){i=0;do{if(co=!1,Po=0,25<=i)throw Error(R(301));i+=1,he=pe=null,t.updateQueue=null,dr.current=Ph,e=n(o,r)}while(co)}if(dr.current=Fr,t=pe!==null&&pe.next!==null,tn=0,he=pe=le=null,Ur=!1,t)throw Error(R(300));return e}function wl(){var e=Po!==0;return Po=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?le.memoizedState=he=e:he=he.next=e,he}function be(){if(pe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=he===null?le.memoizedState:he.next;if(t!==null)he=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},he===null?le.memoizedState=he=e:he=he.next=e}return he}function ko(e,t){return typeof t=="function"?t(e):t}function Di(e){var t=be(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=pe,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,d=null,c=i;do{var f=c.lane;if((tn&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=p,l=o):d=d.next=p,le.lanes|=f,nn|=f}c=c.next}while(c!==null&&c!==i);d===null?l=o:d.next=u,ot(o,t.memoizedState)||(Me=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=d,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,le.lanes|=i,nn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Li(e){var t=be(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);ot(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function ef(){}function tf(e,t){var n=le,o=be(),r=t(),i=!ot(o.memoizedState,r);if(i&&(o.memoizedState=r,Me=!0),o=o.queue,Nl(rf.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Mo(9,of.bind(null,n,o,r,t),void 0,null),ge===null)throw Error(R(349));tn&30||nf(n,t,r)}return r}function nf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function of(e,t,n,o){t.value=n,t.getSnapshot=o,sf(t)&&lf(e)}function rf(e,t,n){return n(function(){sf(t)&&lf(e)})}function sf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function lf(e){var t=Ct(e,1);t!==null&&nt(t,e,1,-1)}function Fa(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Nh.bind(null,le,e),[t.memoizedState,e]}function Mo(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function af(){return be().memoizedState}function cr(e,t,n,o){var r=lt();le.flags|=e,r.memoizedState=Mo(1|t,n,void 0,o===void 0?null:o)}function jr(e,t,n,o){var r=be();o=o===void 0?null:o;var i=void 0;if(pe!==null){var l=pe.memoizedState;if(i=l.destroy,o!==null&&_l(o,l.deps)){r.memoizedState=Mo(t,n,i,o);return}}le.flags|=e,r.memoizedState=Mo(1|t,n,i,o)}function Va(e,t){return cr(8390656,8,e,t)}function Nl(e,t){return jr(2048,8,e,t)}function uf(e,t){return jr(4,2,e,t)}function df(e,t){return jr(4,4,e,t)}function cf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ff(e,t,n){return n=n!=null?n.concat([e]):null,jr(4,4,cf.bind(null,t,e),n)}function Al(){}function pf(e,t){var n=be();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&_l(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function mf(e,t){var n=be();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&_l(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function hf(e,t,n){return tn&21?(ot(n,t)||(n=Cc(),le.lanes|=n,nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function Ih(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var o=Mi.transition;Mi.transition={};try{e(!1),t()}finally{Q=n,Mi.transition=o}}function gf(){return be().memoizedState}function wh(e,t,n){var o=Gt(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},yf(e))vf(t,n);else if(n=Xc(e,t,n,o),n!==null){var r=Ae();nt(n,e,o,r),Cf(n,t,o)}}function Nh(e,t,n){var o=Gt(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(yf(e))vf(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,ot(u,l)){var d=t.interleaved;d===null?(r.next=r,Cl(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}n=Xc(e,t,r,o),n!==null&&(r=Ae(),nt(n,e,o,r),Cf(n,t,o))}}function yf(e){var t=e.alternate;return e===le||t!==null&&t===le}function vf(e,t){co=Ur=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cf(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,il(e,n)}}var Fr={readContext:Qe,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Ah={readContext:Qe,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Va,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cr(4194308,4,cf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cr(4194308,4,e,t)},useInsertionEffect:function(e,t){return cr(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=lt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=wh.bind(null,le,e),[o.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Fa,useDebugValue:Al,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Ih.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=le,r=lt();if(oe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ge===null)throw Error(R(349));tn&30||nf(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Va(rf.bind(null,o,i,e),[e]),o.flags|=2048,Mo(9,of.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=lt(),t=ge.identifierPrefix;if(oe){var n=ht,o=mt;n=(o&~(1<<32-tt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_h++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rh={readContext:Qe,useCallback:pf,useContext:Qe,useEffect:Nl,useImperativeHandle:ff,useInsertionEffect:uf,useLayoutEffect:df,useMemo:mf,useReducer:Di,useRef:af,useState:function(){return Di(ko)},useDebugValue:Al,useDeferredValue:function(e){var t=be();return hf(t,pe.memoizedState,e)},useTransition:function(){var e=Di(ko)[0],t=be().memoizedState;return[e,t]},useMutableSource:ef,useSyncExternalStore:tf,useId:gf,unstable_isNewReconciler:!1},Ph={readContext:Qe,useCallback:pf,useContext:Qe,useEffect:Nl,useImperativeHandle:ff,useInsertionEffect:uf,useLayoutEffect:df,useMemo:mf,useReducer:Li,useRef:af,useState:function(){return Li(ko)},useDebugValue:Al,useDeferredValue:function(e){var t=be();return pe===null?t.memoizedState=e:hf(t,pe.memoizedState,e)},useTransition:function(){var e=Li(ko)[0],t=be().memoizedState;return[e,t]},useMutableSource:ef,useSyncExternalStore:tf,useId:gf,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cs(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ei={isMounted:function(e){return(e=e._reactInternals)?ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ae(),r=Gt(e),i=gt(o,r);i.payload=t,n!=null&&(i.callback=n),t=Ft(e,i,r),t!==null&&(nt(t,e,r,o),ur(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ae(),r=Gt(e),i=gt(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ft(e,i,r),t!==null&&(nt(t,e,r,o),ur(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),o=Gt(e),r=gt(n,o);r.tag=2,t!=null&&(r.callback=t),t=Ft(e,r,o),t!==null&&(nt(t,e,o,n),ur(t,e,o))}};function Ga(e,t,n,o,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!_o(n,o)||!_o(r,i):!0}function Ef(e,t,n){var o=!1,r=zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(r=Le(t)?jt:we.current,o=t.contextTypes,i=(o=o!=null)?Dn(e,r):zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ei,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ha(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ei.enqueueReplaceState(t,t.state,null)}function Es(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Qe(i):(i=Le(t)?jt:we.current,r.context=Dn(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Cs(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&ei.enqueueReplaceState(r,r.state,null),Dr(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var n="",o=t;do n+=rm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Ui(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ts(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kh=typeof WeakMap=="function"?WeakMap:Map;function Tf(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Gr||(Gr=!0,ks=o),Ts(e,t)},n}function Sf(e,t,n){n=gt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Ts(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ts(e,t),typeof o!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function qa(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new kh;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Wh.bind(null,e,t,n),t.then(e,e))}function za(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ba(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Ft(n,t,1))),n.lanes|=1),e)}var Mh=St.ReactCurrentOwner,Me=!1;function Ne(e,t,n,o){t.child=e===null?bc(t,null,n,o):Un(t,e.child,n,o)}function Ja(e,t,n,o,r){n=n.render;var i=t.ref;return Nn(t,r),o=Il(e,t,n,o,i,r),n=wl(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Et(e,t,r)):(oe&&n&&pl(t),t.flags|=1,Ne(e,t,o,r),t.child)}function $a(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!Fl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xf(e,t,i,o,r)):(e=hr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(l,o)&&e.ref===t.ref)return Et(e,t,r)}return t.flags|=1,e=Ht(i,o),e.ref=t.ref,e.return=t,t.child=e}function xf(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(_o(i,o)&&e.ref===t.ref)if(Me=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Et(e,t,r)}return Ss(e,t,n,o,r)}function _f(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Tn,Fe),Fe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Tn,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Z(Tn,Fe),Fe|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,Z(Tn,Fe),Fe|=o;return Ne(e,t,r,n),t.child}function If(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,o,r){var i=Le(n)?jt:we.current;return i=Dn(t,i),Nn(t,r),n=Il(e,t,n,o,i,r),o=wl(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Et(e,t,r)):(oe&&o&&pl(t),t.flags|=1,Ne(e,t,n,r),t.child)}function Wa(e,t,n,o,r){if(Le(n)){var i=!0;Ar(t)}else i=!1;if(Nn(t,r),t.stateNode===null)fr(e,t),Ef(t,n,o),Es(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=Le(n)?jt:we.current,c=Dn(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||d!==c)&&Ha(t,l,o,c),Nt=!1;var m=t.memoizedState;l.state=m,Dr(t,o,l,r),d=t.memoizedState,u!==o||m!==d||De.current||Nt?(typeof f=="function"&&(Cs(t,n,f,o),d=t.memoizedState),(u=Nt||Ga(t,n,u,o,m,d,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),l.props=o,l.state=d,l.context=c,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,Zc(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ze(t.type,u),l.props=c,p=t.pendingProps,m=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Qe(d):(d=Le(n)?jt:we.current,d=Dn(t,d));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==d)&&Ha(t,l,o,d),Nt=!1,m=t.memoizedState,l.state=m,Dr(t,o,l,r);var E=t.memoizedState;u!==p||m!==E||De.current||Nt?(typeof g=="function"&&(Cs(t,n,g,o),E=t.memoizedState),(c=Nt||Ga(t,n,c,o,m,E,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=E),l.props=o,l.state=E,l.context=d,o=c):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),o=!1)}return xs(e,t,n,o,i,r)}function xs(e,t,n,o,r,i){If(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&Pa(t,n,!1),Et(e,t,i);o=t.stateNode,Mh.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=Un(t,e.child,null,i),t.child=Un(t,null,u,i)):Ne(e,t,u,i),t.memoizedState=o.state,r&&Pa(t,n,!0),t.child}function wf(e){var t=e.stateNode;t.pendingContext?Ra(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(e,t.context,!1),Tl(e,t.containerInfo)}function Oa(e,t,n,o,r){return Ln(),hl(r),t.flags|=256,Ne(e,t,n,o),t.child}var _s={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nf(e,t,n){var o=t.pendingProps,r=se.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),Z(se,r&1),e===null)return ys(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=oi(l,o,0,null),e=Zt(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Is(n),t.memoizedState=_s,e):Rl(t,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Dh(e,t,l,o,u,r,n);if(i){i=o.fallback,l=t.mode,r=e.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=Ht(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Ht(u,i):(i=Zt(i,l,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=e.child.memoizedState,l=l===null?Is(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=_s,o}return i=e.child,e=i.sibling,o=Ht(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Rl(e,t){return t=oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function er(e,t,n,o){return o!==null&&hl(o),Un(t,e.child,null,n),e=Rl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dh(e,t,n,o,r,i,l){if(n)return t.flags&256?(t.flags&=-257,o=Ui(Error(R(422))),er(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=oi({mode:"visible",children:o.children},r,0,null),i=Zt(i,r,l,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&Un(t,e.child,null,l),t.child.memoizedState=Is(l),t.memoizedState=_s,i);if(!(t.mode&1))return er(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(R(419)),o=Ui(i,o,void 0),er(e,t,l,o)}if(u=(l&e.childLanes)!==0,Me||u){if(o=ge,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Ct(e,r),nt(o,e,r,-1))}return Ul(),o=Ui(Error(R(421))),er(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Oh.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,Ve=Ut(r.nextSibling),Ge=t,oe=!0,et=null,e!==null&&($e[We++]=mt,$e[We++]=ht,$e[We++]=en,mt=e.id,ht=e.overflow,en=t),t=Rl(t,o.children),t.flags|=4096,t)}function Ka(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),vs(e.return,t,n)}function Fi(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Af(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(Ne(e,t,o.children,n),o=se.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ka(e,n,t);else if(e.tag===19)Ka(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Z(se,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Fi(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Lr(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Fi(t,!0,n,null,i);break;case"together":Fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Ht(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ht(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lh(e,t,n){switch(t.tag){case 3:wf(t),Ln();break;case 5:jc(t);break;case 1:Le(t.type)&&Ar(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Z(kr,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Z(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Nf(e,t,n):(Z(se,se.current&1),e=Et(e,t,n),e!==null?e.sibling:null);Z(se,se.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Af(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(se,se.current),o)break;return null;case 22:case 23:return t.lanes=0,_f(e,t,n)}return Et(e,t,n)}var Rf,ws,Pf,kf;Rf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ws=function(){};Pf=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,bt(dt.current);var i=null;switch(n){case"input":r=Yi(e,r),o=Yi(e,o),i=[];break;case"select":r=ae({},r,{value:void 0}),o=ae({},o,{value:void 0}),i=[];break;case"textarea":r=Xi(e,r),o=Xi(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=wr)}ji(n,o);var l;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var u=r[c];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(u=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yo.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&j("scroll",e),i||u===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};kf=function(e,t,n,o){n!==o&&(t.flags|=4)};function Zn(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Uh(e,t,n){var o=t.pendingProps;switch(ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Le(t.type)&&Nr(),xe(t),null;case 3:return o=t.stateNode,Fn(),te(De),te(we),xl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Ls(et),et=null))),ws(e,t),xe(t),null;case 5:Sl(t);var r=bt(Ro.current);if(n=t.type,e!==null&&t.stateNode!=null)Pf(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return xe(t),null}if(e=bt(dt.current),Zo(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[at]=t,o[No]=i,e=(t.mode&1)!==0,n){case"dialog":j("cancel",o),j("close",o);break;case"iframe":case"object":case"embed":j("load",o);break;case"video":case"audio":for(r=0;r<ro.length;r++)j(ro[r],o);break;case"source":j("error",o);break;case"img":case"image":case"link":j("error",o),j("load",o);break;case"details":j("toggle",o);break;case"input":na(o,i),j("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},j("invalid",o);break;case"textarea":ra(o,i),j("invalid",o)}ji(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Xo(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Xo(o.textContent,u,e),r=["children",""+u]):yo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&j("scroll",o)}switch(n){case"input":Jo(o),oa(o,i,!0);break;case"textarea":Jo(o),ia(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=wr)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[at]=t,e[No]=o,Rf(e,t,!1,!1),t.stateNode=e;e:{switch(l=es(n,o),n){case"dialog":j("cancel",e),j("close",e),r=o;break;case"iframe":case"object":case"embed":j("load",e),r=o;break;case"video":case"audio":for(r=0;r<ro.length;r++)j(ro[r],e);r=o;break;case"source":j("error",e),r=o;break;case"img":case"image":case"link":j("error",e),j("load",e),r=o;break;case"details":j("toggle",e),r=o;break;case"input":na(e,o),r=Yi(e,o),j("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ae({},o,{value:void 0}),j("invalid",e);break;case"textarea":ra(e,o),r=Xi(e,o),j("invalid",e);break;default:r=o}ji(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?lc(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&ic(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&vo(e,d):typeof d=="number"&&vo(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&j("scroll",e):d!=null&&js(e,i,d,l))}switch(n){case"input":Jo(e),oa(e,o,!1);break;case"textarea":Jo(e),ia(e);break;case"option":o.value!=null&&e.setAttribute("value",""+qt(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?xn(e,!!o.multiple,i,!1):o.defaultValue!=null&&xn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=wr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)kf(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(n=bt(Ro.current),bt(dt.current),Zo(t)){if(o=t.stateNode,n=t.memoizedProps,o[at]=t,(i=o.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:Xo(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xo(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[at]=t,t.stateNode=o}return xe(t),null;case 13:if(te(se),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Ve!==null&&t.mode&1&&!(t.flags&128))Yc(),Ln(),t.flags|=98560,i=!1;else if(i=Zo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[at]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else et!==null&&(Ls(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?me===0&&(me=3):Ul())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return Fn(),ws(e,t),e===null&&Io(t.stateNode.containerInfo),xe(t),null;case 10:return vl(t.type._context),xe(t),null;case 17:return Le(t.type)&&Nr(),xe(t),null;case 19:if(te(se),i=t.memoizedState,i===null)return xe(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)Zn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Lr(e),l!==null){for(t.flags|=128,Zn(i,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>Gn&&(t.flags|=128,o=!0,Zn(i,!1),t.lanes=4194304)}else{if(!o)if(e=Lr(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!oe)return xe(t),null}else 2*de()-i.renderingStartTime>Gn&&n!==1073741824&&(t.flags|=128,o=!0,Zn(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,n=se.current,Z(se,o?n&1|2:n&1),t):(xe(t),null);case 22:case 23:return Ll(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Fe&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Fh(e,t){switch(ml(t),t.tag){case 1:return Le(t.type)&&Nr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),te(De),te(we),xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sl(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return Fn(),null;case 10:return vl(t.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var tr=!1,_e=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,D=null;function En(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ue(e,t,o)}else n.current=null}function Ns(e,t,n){try{n()}catch(o){ue(e,t,o)}}var Ya=!1;function Gh(e,t){if(ds=xr,e=Uc(),fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,c=0,f=0,p=e,m=null;t:for(;;){for(var g;p!==n||r!==0&&p.nodeType!==3||(u=l+r),p!==i||o!==0&&p.nodeType!==3||(d=l+o),p.nodeType===3&&(l+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break t;if(m===n&&++c===r&&(u=l),m===i&&++f===o&&(d=l),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(cs={focusedElem:e,selectionRange:n},xr=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,w=E.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?T:Ze(t.type,T),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return E=Ya,Ya=!1,E}function fo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ns(t,n,i)}r=r.next}while(r!==o)}}function ti(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function As(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mf(e){var t=e.alternate;t!==null&&(e.alternate=null,Mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[No],delete t[ms],delete t[Eh],delete t[Th])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Df(e){return e.tag===5||e.tag===3||e.tag===4}function Qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rs(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wr));else if(o!==4&&(e=e.child,e!==null))for(Rs(e,t,n),e=e.sibling;e!==null;)Rs(e,t,n),e=e.sibling}function Ps(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ps(e,t,n),e=e.sibling;e!==null;)Ps(e,t,n),e=e.sibling}var ve=null,je=!1;function It(e,t,n){for(n=n.child;n!==null;)Lf(e,t,n),n=n.sibling}function Lf(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Kr,n)}catch{}switch(n.tag){case 5:_e||En(n,t);case 6:var o=ve,r=je;ve=null,It(e,t,n),ve=o,je=r,ve!==null&&(je?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(je?(e=ve,n=n.stateNode,e.nodeType===8?Ri(e.parentNode,n):e.nodeType===1&&Ri(e,n),So(e)):Ri(ve,n.stateNode));break;case 4:o=ve,r=je,ve=n.stateNode.containerInfo,je=!0,It(e,t,n),ve=o,je=r;break;case 0:case 11:case 14:case 15:if(!_e&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ns(n,t,l),r=r.next}while(r!==o)}It(e,t,n);break;case 1:if(!_e&&(En(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){ue(n,t,u)}It(e,t,n);break;case 21:It(e,t,n);break;case 22:n.mode&1?(_e=(o=_e)||n.memoizedState!==null,It(e,t,n),_e=o):It(e,t,n);break;default:It(e,t,n)}}function ba(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vh),t.forEach(function(o){var r=Kh.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:ve=u.stateNode,je=!1;break e;case 3:ve=u.stateNode.containerInfo,je=!0;break e;case 4:ve=u.stateNode.containerInfo,je=!0;break e}u=u.return}if(ve===null)throw Error(R(160));Lf(i,l,r),ve=null,je=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){ue(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uf(t,e),t=t.sibling}function Uf(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),st(e),o&4){try{fo(3,e,e.return),ti(3,e)}catch(T){ue(e,e.return,T)}try{fo(5,e,e.return)}catch(T){ue(e,e.return,T)}}break;case 1:Xe(t,e),st(e),o&512&&n!==null&&En(n,n.return);break;case 5:if(Xe(t,e),st(e),o&512&&n!==null&&En(n,n.return),e.flags&32){var r=e.stateNode;try{vo(r,"")}catch(T){ue(e,e.return,T)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&nc(r,i),es(u,l);var c=es(u,i);for(l=0;l<d.length;l+=2){var f=d[l],p=d[l+1];f==="style"?lc(r,p):f==="dangerouslySetInnerHTML"?ic(r,p):f==="children"?vo(r,p):js(r,f,p,c)}switch(u){case"input":Qi(r,i);break;case"textarea":oc(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xn(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?xn(r,!!i.multiple,i.defaultValue,!0):xn(r,!!i.multiple,i.multiple?[]:"",!1))}r[No]=i}catch(T){ue(e,e.return,T)}}break;case 6:if(Xe(t,e),st(e),o&4){if(e.stateNode===null)throw Error(R(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(T){ue(e,e.return,T)}}break;case 3:if(Xe(t,e),st(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{So(t.containerInfo)}catch(T){ue(e,e.return,T)}break;case 4:Xe(t,e),st(e);break;case 13:Xe(t,e),st(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Ml=de())),o&4&&ba(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(c=_e)||f,Xe(t,e),_e=c):Xe(t,e),st(e),o&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(D=e,f=e.child;f!==null;){for(p=D=f;D!==null;){switch(m=D,g=m.child,m.tag){case 0:case 11:case 14:case 15:fo(4,m,m.return);break;case 1:En(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){o=m,n=m.return;try{t=o,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(T){ue(o,n,T)}}break;case 5:En(m,m.return);break;case 22:if(m.memoizedState!==null){Za(p);continue}}g!==null?(g.return=m,D=g):Za(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=sc("display",l))}catch(T){ue(e,e.return,T)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(T){ue(e,e.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xe(t,e),st(e),o&4&&ba(e);break;case 21:break;default:Xe(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Df(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(vo(r,""),o.flags&=-33);var i=Qa(e);Ps(e,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Qa(e);Rs(e,u,l);break;default:throw Error(R(161))}}catch(d){ue(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hh(e,t,n){D=e,Ff(e)}function Ff(e,t,n){for(var o=(e.mode&1)!==0;D!==null;){var r=D,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||tr;if(!l){var u=r.alternate,d=u!==null&&u.memoizedState!==null||_e;u=tr;var c=_e;if(tr=l,(_e=d)&&!c)for(D=r;D!==null;)l=D,d=l.child,l.tag===22&&l.memoizedState!==null?ja(r):d!==null?(d.return=l,D=d):ja(r);for(;i!==null;)D=i,Ff(i),i=i.sibling;D=r,tr=u,_e=c}Xa(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,D=i):Xa(e)}}function Xa(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||ti(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!_e)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ua(t,i,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ua(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&So(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}_e||t.flags&512&&As(t)}catch(m){ue(t,t.return,m)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Za(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function ja(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ti(4,t)}catch(d){ue(t,n,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(d){ue(t,r,d)}}var i=t.return;try{As(t)}catch(d){ue(t,i,d)}break;case 5:var l=t.return;try{As(t)}catch(d){ue(t,l,d)}}}catch(d){ue(t,t.return,d)}if(t===e){D=null;break}var u=t.sibling;if(u!==null){u.return=t.return,D=u;break}D=t.return}}var qh=Math.ceil,Vr=St.ReactCurrentDispatcher,Pl=St.ReactCurrentOwner,Ke=St.ReactCurrentBatchConfig,W=0,ge=null,fe=null,Ce=0,Fe=0,Tn=Jt(0),me=0,Do=null,nn=0,ni=0,kl=0,po=null,ke=null,Ml=0,Gn=1/0,ft=null,Gr=!1,ks=null,Vt=null,nr=!1,kt=null,Hr=0,mo=0,Ms=null,pr=-1,mr=0;function Ae(){return W&6?de():pr!==-1?pr:pr=de()}function Gt(e){return e.mode&1?W&2&&Ce!==0?Ce&-Ce:xh.transition!==null?(mr===0&&(mr=Cc()),mr):(e=Q,e!==0||(e=window.event,e=e===void 0?16:wc(e.type)),e):1}function nt(e,t,n,o){if(50<mo)throw mo=0,Ms=null,Error(R(185));Vo(e,n,o),(!(W&2)||e!==ge)&&(e===ge&&(!(W&2)&&(ni|=n),me===4&&Rt(e,Ce)),Ue(e,o),n===1&&W===0&&!(t.mode&1)&&(Gn=de()+500,Zr&&$t()))}function Ue(e,t){var n=e.callbackNode;xm(e,t);var o=Sr(e,e===ge?Ce:0);if(o===0)n!==null&&aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&aa(n),t===1)e.tag===0?Sh(eu.bind(null,e)):Wc(eu.bind(null,e)),vh(function(){!(W&6)&&$t()}),n=null;else{switch(Ec(o)){case 1:n=rl;break;case 4:n=yc;break;case 16:n=Tr;break;case 536870912:n=vc;break;default:n=Tr}n=$f(n,Vf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vf(e,t){if(pr=-1,mr=0,W&6)throw Error(R(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var o=Sr(e,e===ge?Ce:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=qr(e,o);else{t=o;var r=W;W|=2;var i=Hf();(ge!==e||Ce!==t)&&(ft=null,Gn=de()+500,Xt(e,t));do try{Jh();break}catch(u){Gf(e,u)}while(!0);yl(),Vr.current=i,W=r,fe!==null?t=0:(ge=null,Ce=0,t=me)}if(t!==0){if(t===2&&(r=is(e),r!==0&&(o=r,t=Ds(e,r))),t===1)throw n=Do,Xt(e,0),Rt(e,o),Ue(e,de()),n;if(t===6)Rt(e,o);else{if(r=e.current.alternate,!(o&30)&&!zh(r)&&(t=qr(e,o),t===2&&(i=is(e),i!==0&&(o=i,t=Ds(e,i))),t===1))throw n=Do,Xt(e,0),Rt(e,o),Ue(e,de()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:Kt(e,ke,ft);break;case 3:if(Rt(e,o),(o&130023424)===o&&(t=Ml+500-de(),10<t)){if(Sr(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Ae(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ps(Kt.bind(null,e,ke,ft),t);break}Kt(e,ke,ft);break;case 4:if(Rt(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-tt(o);i=1<<l,l=t[l],l>r&&(r=l),o&=~i}if(o=r,o=de()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*qh(o/1960))-o,10<o){e.timeoutHandle=ps(Kt.bind(null,e,ke,ft),o);break}Kt(e,ke,ft);break;case 5:Kt(e,ke,ft);break;default:throw Error(R(329))}}}return Ue(e,de()),e.callbackNode===n?Vf.bind(null,e):null}function Ds(e,t){var n=po;return e.current.memoizedState.isDehydrated&&(Xt(e,t).flags|=256),e=qr(e,t),e!==2&&(t=ke,ke=n,t!==null&&Ls(t)),e}function Ls(e){ke===null?ke=e:ke.push.apply(ke,e)}function zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!ot(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~kl,t&=~ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),o=1<<n;e[n]=-1,t&=~o}}function eu(e){if(W&6)throw Error(R(327));An();var t=Sr(e,0);if(!(t&1))return Ue(e,de()),null;var n=qr(e,t);if(e.tag!==0&&n===2){var o=is(e);o!==0&&(t=o,n=Ds(e,o))}if(n===1)throw n=Do,Xt(e,0),Rt(e,t),Ue(e,de()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,ke,ft),Ue(e,de()),null}function Dl(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Gn=de()+500,Zr&&$t())}}function on(e){kt!==null&&kt.tag===0&&!(W&6)&&An();var t=W;W|=1;var n=Ke.transition,o=Q;try{if(Ke.transition=null,Q=1,e)return e()}finally{Q=o,Ke.transition=n,W=t,!(W&6)&&$t()}}function Ll(){Fe=Tn.current,te(Tn)}function Xt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yh(n)),fe!==null)for(n=fe.return;n!==null;){var o=n;switch(ml(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Nr();break;case 3:Fn(),te(De),te(we),xl();break;case 5:Sl(o);break;case 4:Fn();break;case 13:te(se);break;case 19:te(se);break;case 10:vl(o.type._context);break;case 22:case 23:Ll()}n=n.return}if(ge=e,fe=e=Ht(e.current,null),Ce=Fe=t,me=0,Do=null,kl=ni=nn=0,ke=po=null,Qt!==null){for(t=0;t<Qt.length;t++)if(n=Qt[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}Qt=null}return e}function Gf(e,t){do{var n=fe;try{if(yl(),dr.current=Fr,Ur){for(var o=le.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Ur=!1}if(tn=0,he=pe=le=null,co=!1,Po=0,Pl.current=null,n===null||n.return===null){me=1,Do=t,fe=null;break}e:{var i=e,l=n.return,u=n,d=t;if(t=Ce,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=za(l);if(g!==null){g.flags&=-257,Ba(g,l,u,i,t),g.mode&1&&qa(i,c,t),t=g,d=c;var E=t.updateQueue;if(E===null){var T=new Set;T.add(d),t.updateQueue=T}else E.add(d);break e}else{if(!(t&1)){qa(i,c,t),Ul();break e}d=Error(R(426))}}else if(oe&&u.mode&1){var w=za(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ba(w,l,u,i,t),hl(Vn(d,u));break e}}i=d=Vn(d,u),me!==4&&(me=2),po===null?po=[i]:po.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Tf(i,d,t);La(i,v);break e;case 1:u=d;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Vt===null||!Vt.has(C)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Sf(i,u,t);La(i,S);break e}}i=i.return}while(i!==null)}zf(n)}catch(x){t=x,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Hf(){var e=Vr.current;return Vr.current=Fr,e===null?Fr:e}function Ul(){(me===0||me===3||me===2)&&(me=4),ge===null||!(nn&268435455)&&!(ni&268435455)||Rt(ge,Ce)}function qr(e,t){var n=W;W|=2;var o=Hf();(ge!==e||Ce!==t)&&(ft=null,Xt(e,t));do try{Bh();break}catch(r){Gf(e,r)}while(!0);if(yl(),W=n,Vr.current=o,fe!==null)throw Error(R(261));return ge=null,Ce=0,me}function Bh(){for(;fe!==null;)qf(fe)}function Jh(){for(;fe!==null&&!mm();)qf(fe)}function qf(e){var t=Jf(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?zf(e):fe=t,Pl.current=null}function zf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fh(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,fe=null;return}}else if(n=Uh(n,t,Fe),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);me===0&&(me=5)}function Kt(e,t,n){var o=Q,r=Ke.transition;try{Ke.transition=null,Q=1,$h(e,t,n,o)}finally{Ke.transition=r,Q=o}return null}function $h(e,t,n,o){do An();while(kt!==null);if(W&6)throw Error(R(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_m(e,i),e===ge&&(fe=ge=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nr||(nr=!0,$f(Tr,function(){return An(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var l=Q;Q=1;var u=W;W|=4,Pl.current=null,Gh(e,n),Uf(n,e),dh(cs),xr=!!ds,cs=ds=null,e.current=n,Hh(n),hm(),W=u,Q=l,Ke.transition=i}else e.current=n;if(nr&&(nr=!1,kt=e,Hr=r),i=e.pendingLanes,i===0&&(Vt=null),vm(n.stateNode),Ue(e,de()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Gr)throw Gr=!1,e=ks,ks=null,e;return Hr&1&&e.tag!==0&&An(),i=e.pendingLanes,i&1?e===Ms?mo++:(mo=0,Ms=e):mo=0,$t(),null}function An(){if(kt!==null){var e=Ec(Hr),t=Ke.transition,n=Q;try{if(Ke.transition=null,Q=16>e?16:e,kt===null)var o=!1;else{if(e=kt,kt=null,Hr=0,W&6)throw Error(R(331));var r=W;for(W|=4,D=e.current;D!==null;){var i=D,l=i.child;if(D.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(D=c;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:fo(8,f,i)}var p=f.child;if(p!==null)p.return=f,D=p;else for(;D!==null;){f=D;var m=f.sibling,g=f.return;if(Mf(f),f===c){D=null;break}if(m!==null){m.return=g,D=m;break}D=g}}}var E=i.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}D=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,D=l;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,D=v;break e}D=i.return}}var y=e.current;for(D=y;D!==null;){l=D;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,D=C;else e:for(l=y;D!==null;){if(u=D,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ti(9,u)}}catch(x){ue(u,u.return,x)}if(u===l){D=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,D=S;break e}D=u.return}}if(W=r,$t(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Kr,e)}catch{}o=!0}return o}finally{Q=n,Ke.transition=t}}return!1}function tu(e,t,n){t=Vn(n,t),t=Tf(e,t,1),e=Ft(e,t,1),t=Ae(),e!==null&&(Vo(e,1,t),Ue(e,t))}function ue(e,t,n){if(e.tag===3)tu(e,e,n);else for(;t!==null;){if(t.tag===3){tu(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vt===null||!Vt.has(o))){e=Vn(n,e),e=Sf(t,e,1),t=Ft(t,e,1),e=Ae(),t!==null&&(Vo(t,1,e),Ue(t,e));break}}t=t.return}}function Wh(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Ce&n)===n&&(me===4||me===3&&(Ce&130023424)===Ce&&500>de()-Ml?Xt(e,0):kl|=n),Ue(e,t)}function Bf(e,t){t===0&&(e.mode&1?(t=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):t=1);var n=Ae();e=Ct(e,t),e!==null&&(Vo(e,t,n),Ue(e,n))}function Oh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bf(e,n)}function Kh(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),Bf(e,n)}var Jf;Jf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,Lh(e,t,n);Me=!!(e.flags&131072)}else Me=!1,oe&&t.flags&1048576&&Oc(t,Pr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;fr(e,t),e=t.pendingProps;var r=Dn(t,we.current);Nn(t,n),r=Il(null,t,o,e,r,n);var i=wl();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(o)?(i=!0,Ar(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,El(t),r.updater=ei,t.stateNode=r,r._reactInternals=t,Es(t,o,e,n),t=xs(null,t,o,!0,i,n)):(t.tag=0,oe&&i&&pl(t),Ne(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(fr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=Qh(o),e=Ze(o,e),r){case 0:t=Ss(null,t,o,e,n);break e;case 1:t=Wa(null,t,o,e,n);break e;case 11:t=Ja(null,t,o,e,n);break e;case 14:t=$a(null,t,o,Ze(o.type,e),n);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ze(o,r),Ss(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ze(o,r),Wa(e,t,o,r,n);case 3:e:{if(wf(t),e===null)throw Error(R(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Zc(e,t),Dr(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Vn(Error(R(423)),t),t=Oa(e,t,o,n,r);break e}else if(o!==r){r=Vn(Error(R(424)),t),t=Oa(e,t,o,n,r);break e}else for(Ve=Ut(t.stateNode.containerInfo.firstChild),Ge=t,oe=!0,et=null,n=bc(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),o===r){t=Et(e,t,n);break e}Ne(e,t,o,n)}t=t.child}return t;case 5:return jc(t),e===null&&ys(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,fs(o,r)?l=null:i!==null&&fs(o,i)&&(t.flags|=32),If(e,t),Ne(e,t,l,n),t.child;case 6:return e===null&&ys(t),null;case 13:return Nf(e,t,n);case 4:return Tl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Un(t,null,o,n):Ne(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ze(o,r),Ja(e,t,o,r,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Z(kr,o._currentValue),o._currentValue=l,i!==null)if(ot(i.value,l)){if(i.children===r.children&&!De.current){t=Et(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=gt(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),vs(i.return,n,t),u.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(R(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),vs(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ne(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Nn(t,n),r=Qe(r),o=o(r),t.flags|=1,Ne(e,t,o,n),t.child;case 14:return o=t.type,r=Ze(o,t.pendingProps),r=Ze(o.type,r),$a(e,t,o,r,n);case 15:return xf(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ze(o,r),fr(e,t),t.tag=1,Le(o)?(e=!0,Ar(t)):e=!1,Nn(t,n),Ef(t,o,r),Es(t,o,r,n),xs(null,t,o,!0,e,n);case 19:return Af(e,t,n);case 22:return _f(e,t,n)}throw Error(R(156,t.tag))};function $f(e,t){return gc(e,t)}function Yh(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,o){return new Yh(e,t,n,o)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qh(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tl)return 11;if(e===nl)return 14}return 2}function Ht(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hr(e,t,n,o,r,i){var l=2;if(o=e,typeof e=="function")Fl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case cn:return Zt(n.children,r,i,t);case el:l=8,r|=8;break;case $i:return e=Oe(12,n,t,r|2),e.elementType=$i,e.lanes=i,e;case Wi:return e=Oe(13,n,t,r),e.elementType=Wi,e.lanes=i,e;case Oi:return e=Oe(19,n,t,r),e.elementType=Oi,e.lanes=i,e;case jd:return oi(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xd:l=10;break e;case Zd:l=9;break e;case tl:l=11;break e;case nl:l=14;break e;case wt:l=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Oe(l,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function Zt(e,t,n,o){return e=Oe(7,e,o,t),e.lanes=n,e}function oi(e,t,n,o){return e=Oe(22,e,o,t),e.elementType=jd,e.lanes=n,e.stateNode={isHidden:!1},e}function Vi(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function Gi(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bh(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,o,r,i,l,u,d){return e=new bh(e,t,n,u,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Oe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function Xh(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Wf(e){if(!e)return zt;e=e._reactInternals;e:{if(ln(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Le(n))return $c(e,n,t)}return t}function Of(e,t,n,o,r,i,l,u,d){return e=Vl(n,o,!0,e,r,i,l,u,d),e.context=Wf(null),n=e.current,o=Ae(),r=Gt(n),i=gt(o,r),i.callback=t??null,Ft(n,i,r),e.current.lanes=r,Vo(e,r,o),Ue(e,o),e}function ri(e,t,n,o){var r=t.current,i=Ae(),l=Gt(r);return n=Wf(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(i,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Ft(r,t,l),e!==null&&(nt(e,r,l,i),ur(e,r,l)),l}function zr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gl(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function Zh(){return null}var Kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hl(e){this._internalRoot=e}ii.prototype.render=Hl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));ri(e,t,null,null)};ii.prototype.unmount=Hl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){ri(null,e,null,null)}),t[vt]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=xc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&Ic(e)}};function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function jh(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=zr(l);i.call(c)}}var l=Of(t,o,e,0,null,!1,!1,"",ou);return e._reactRootContainer=l,e[vt]=l.current,Io(e.nodeType===8?e.parentNode:e),on(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var c=zr(d);u.call(c)}}var d=Vl(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=d,e[vt]=d.current,Io(e.nodeType===8?e.parentNode:e),on(function(){ri(t,d,n,o)}),d}function li(e,t,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var d=zr(l);u.call(d)}}ri(t,l,e,r)}else l=jh(n,t,e,r,o);return zr(l)}Tc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oo(t.pendingLanes);n!==0&&(il(t,n|1),Ue(t,de()),!(W&6)&&(Gn=de()+500,$t()))}break;case 13:on(function(){var o=Ct(e,1);if(o!==null){var r=Ae();nt(o,e,1,r)}}),Gl(e,1)}};sl=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var n=Ae();nt(t,e,134217728,n)}Gl(e,134217728)}};Sc=function(e){if(e.tag===13){var t=Gt(e),n=Ct(e,t);if(n!==null){var o=Ae();nt(n,e,t,o)}Gl(e,t)}};xc=function(){return Q};_c=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};ns=function(e,t,n){switch(t){case"input":if(Qi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=Xr(o);if(!r)throw Error(R(90));tc(o),Qi(o,r)}}}break;case"textarea":oc(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}};dc=Dl;cc=on;var eg={usingClientEntryPoint:!1,Events:[Ho,hn,Xr,ac,uc,Dl]},jn={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tg={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mc(e),e===null?null:e.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||Zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{Kr=or.inject(tg),ut=or}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eg;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ql(t))throw Error(R(200));return Xh(e,t,null,n)};qe.createRoot=function(e,t){if(!ql(e))throw Error(R(299));var n=!1,o="",r=Kf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Vl(e,1,!1,null,null,n,!1,o,r),e[vt]=t.current,Io(e.nodeType===8?e.parentNode:e),new Hl(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=mc(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return on(e)};qe.hydrate=function(e,t,n){if(!si(t))throw Error(R(200));return li(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!ql(e))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=Kf;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Of(t,null,e,1,n??null,r,!1,i,l),e[vt]=t.current,Io(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ii(t)};qe.render=function(e,t,n){if(!si(t))throw Error(R(200));return li(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!si(e))throw Error(R(40));return e._reactRootContainer?(on(function(){li(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};qe.unstable_batchedUpdates=Dl;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!si(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return li(e,t,n,!1,o)};qe.version="18.3.1-next-f1338f8080-20240426";function Yf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yf)}catch(e){console.error(e)}}Yf(),Kd.exports=qe;var ng=Kd.exports,ru=ng;Bi.createRoot=ru.createRoot,Bi.hydrateRoot=ru.hydrateRoot;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qf=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:l,...u},d)=>U.createElement("svg",{ref:d,...rg,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:Qf("lucide",r),...u},[...l.map(([c,f])=>U.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=(e,t)=>{const n=U.forwardRef(({className:o,...r},i)=>U.createElement(ig,{ref:i,iconNode:t,className:Qf(`lucide-${og(e)}`,o),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=$("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=$("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=$("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=$("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=$("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=$("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=$("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=$("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=$("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=$("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=$("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=$("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=$("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=$("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=$("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=$("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=$("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=$("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=$("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=$("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=$("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=$("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=$("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=$("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=$("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),xg=["Vegetarian","Vegan","No Stove","Microwave Only","Under 15m","One Pot","High Protein","Low Carb"],_g=({onCapture:e,onBack:t,isProcessing:n})=>{const o=U.useRef(null),r=U.useRef(null),i=U.useRef(null),l=U.useRef([]),u=U.useRef(null),[d,c]=U.useState(!1),[f,p]=U.useState(null),[m,g]=U.useState("GENERIC"),[E,T]=U.useState(0),[w,v]=U.useState([]),[y,C]=U.useState(!1);U.useEffect(()=>((async()=>{p(null);try{const I=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!0});u.current=I,o.current&&(o.current.srcObject=I)}catch(I){console.error("Error accessing media devices:",I),I.name==="NotAllowedError"||I.name==="PermissionDeniedError"?(p("Access Denied. Please enable camera and microphone permissions in your browser settings."),g("PERMISSION")):I.name==="NotFoundError"||I.name==="DevicesNotFoundError"?(p("No camera or microphone detected on this device."),g("HARDWARE")):I.name==="NotReadableError"||I.name==="TrackStartError"?(p("Hardware in use. Please close other apps using the camera/mic."),g("HARDWARE")):(p(`Unable to access media devices: ${I.message}`),g("GENERIC"))}})(),()=>{u.current&&u.current.getTracks().forEach(I=>I.stop())}),[]),U.useEffect(()=>{let A;return d?A=window.setInterval(()=>{T(I=>I+1)},1e3):T(0),()=>clearInterval(A)},[d]);const S=U.useCallback(()=>{if(o.current&&r.current){const A=r.current.getContext("2d");if(A)return r.current.width=o.current.videoWidth,r.current.height=o.current.videoHeight,A.drawImage(o.current,0,0),r.current.toDataURL("image/jpeg",.8).split(",")[1]}return null},[]),x=A=>{v(I=>I.includes(A)?I.filter(H=>H!==A):[...I,A])},_=()=>{if(!u.current||n)return;const A=u.current.getAudioTracks();if(A.length===0){p("Microphone not active. Please check input settings."),g("HARDWARE");return}c(!0),l.current=[];const I=[],H=S();H&&I.push(H);let J="audio/webm";MediaRecorder.isTypeSupported("audio/mp4")?J="audio/mp4":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")&&(J="audio/webm;codecs=opus");try{const z=new MediaStream([A[0]]),ne=new MediaRecorder(z,{mimeType:J});i.current=ne,ne.ondataavailable=X=>{X.data.size>0&&l.current.push(X.data)};const Be=setInterval(()=>{const X=S();X&&I.push(X)},1e3);ne.onstop=async()=>{clearInterval(Be);const X=new Blob(l.current,{type:J});X.size===0&&console.warn("Audio recording empty");const Te=new FileReader;Te.readAsDataURL(X),Te.onloadend=()=>{const M=Te.result.split(",")[1];e({images:I,audio:M,audioMimeType:J,constraints:w})}},ne.start()}catch(z){console.error("MediaRecorder error",z),p(`Failed to start recording: ${z.message}`),g("GENERIC"),c(!1)}},N=()=>{if(i.current&&d){try{i.current.stop()}catch(A){console.error("Error stopping recorder:",A)}c(!1)}},P=A=>{const I=Math.floor(A/60),H=A%60;return`${I}:${H.toString().padStart(2,"0")}`};return f?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center bg-stone-900 p-8 space-y-6",children:[h.jsx("div",{className:"p-4 bg-red-900/20 rounded-full text-red-400 border border-red-900/50 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:h.jsx(Eg,{size:48,strokeWidth:1.5})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-2xl font-serif text-white",children:m==="PERMISSION"?"Permission Required":m==="HARDWARE"?"Device Error":"Connection Error"}),h.jsx("p",{className:"text-stone-400 max-w-xs mx-auto text-sm leading-relaxed",children:f})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:t,className:"px-6 py-3 border border-stone-700 text-stone-300 rounded-full hover:bg-stone-800 transition-colors",children:"Cancel"}),h.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-6 py-3 bg-stone-800 hover:bg-stone-700 text-white rounded-full transition-all text-sm font-medium tracking-wide uppercase",children:[h.jsx(Fs,{size:16}),"Reload"]})]})]}):h.jsxs("div",{className:"relative h-full w-full bg-black overflow-hidden flex flex-col",children:[h.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover opacity-80"}),h.jsx("canvas",{ref:r,className:"hidden"}),h.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/80 flex flex-col justify-between p-6",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("button",{onClick:t,className:"p-3 bg-black/40 backdrop-blur-md rounded-full text-white/80 hover:bg-black/60 transition-colors",children:h.jsx(Vs,{size:20})}),h.jsxs("div",{className:"text-right pt-2",children:[h.jsx("h2",{className:"text-stone-300 text-[10px] font-medium tracking-widest uppercase mb-1",children:"The Chef's Muse"}),h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),h.jsx("span",{className:"text-stone-400 text-xs",children:"Live Vision"})]})]})]}),!d&&h.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center w-full max-w-xs pointer-events-none",children:[h.jsx("h1",{className:"text-white font-serif text-3xl italic drop-shadow-lg mb-2",children:"What's in your fridge?"}),h.jsx("p",{className:"text-white/70 text-xs drop-shadow-md",children:"Pan over ingredients & speak your cravings."})]}),h.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[!d&&h.jsxs("div",{className:"w-full",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsxs("button",{onClick:()=>C(!y),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium transition-all ${w.length>0||y?"bg-amber-350 text-stone-900":"bg-black/40 text-stone-300 backdrop-blur-md"}`,children:[h.jsx(Xf,{size:14}),w.length>0?`${w.length} Filter${w.length>1?"s":""}`:"Kitchen Constraints"]})}),h.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${y?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:h.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-sm mx-auto p-2",children:xg.map(A=>h.jsx("button",{onClick:()=>x(A),className:`px-3 py-1 rounded-full text-[10px] uppercase tracking-wider border transition-all ${w.includes(A)?"bg-amber-350 border-amber-350 text-stone-900 font-bold":"bg-black/60 border-stone-600 text-stone-400 hover:border-amber-350/50"}`,children:A},A))})})]}),d&&h.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm px-4 py-1 rounded-full border border-red-500/50 flex items-center gap-2 animate-pulse",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),h.jsx("span",{className:"text-red-100 font-mono text-sm",children:P(E)})]}),h.jsxs("button",{onMouseDown:_,onMouseUp:N,onTouchStart:_,onTouchEnd:N,disabled:n,className:`
              relative w-20 h-20 rounded-full border-4 flex items-center justify-center transition-all duration-300 shadow-xl
              ${d?"border-red-500 bg-red-500/20 scale-110 shadow-[0_0_30px_rgba(239,68,68,0.4)]":"border-white/80 hover:border-amber-350 hover:bg-white/10"}
              ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:[d?h.jsx(vg,{className:"w-6 h-6 text-red-500 fill-current"}):h.jsx(Br,{className:"w-8 h-8 text-white"}),!d&&!n&&h.jsx("span",{className:"absolute -bottom-8 whitespace-nowrap text-stone-400 text-[10px] tracking-widest uppercase",children:"Hold to Speak"})]})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ig,wg;function Ng(){return{geminiUrl:Ig,vertexUrl:wg}}function Ag(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const l=Ng();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xt{}function k(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,t.slice(i+1),n[c])}else for(const c of d)a(c,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function Rg(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&i.length>u)for(let d=u;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}Gs(e,r,i,0,l)}}function Gs(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Gs(d,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const m of n.slice(o))m==="*"?p.push(c):p.push(m);a(l,p,f)}for(const c of u)delete l[c]}}else{const l=e;i in l&&Gs(l[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bl(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pg(e){const t={},n=s(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=s(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function kg(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Dg(l)),t}function Mg(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Lg(l)),t}function Dg(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Ug(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Lg(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Fg(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Ug(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],Bg(n)),t}function Fg(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],Jg(n)),t}function Vg(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Gg(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Hg(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],qg(l)),t}function qg(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Zf(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],zg(l)),t}function zg(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Bg(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],Bl(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function Jg(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Bl(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cu||(cu={}));var fu;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(fu||(fu={}));var pu;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(pu||(pu={}));var ie;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ie||(ie={}));var mu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(mu||(mu={}));var hu;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hu||(hu={}));var gu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(gu||(gu={}));var yu;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yu||(yu={}));var vu;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vu||(vu={}));var Cu;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Cu||(Cu={}));var Eu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Eu||(Eu={}));var Tu;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Tu||(Tu={}));var Su;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Su||(Su={}));var xu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(xu||(xu={}));var _u;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(_u||(_u={}));var Iu;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Iu||(Iu={}));var wu;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wu||(wu={}));var Nu;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Nu||(Nu={}));var Au;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Au||(Au={}));var Uo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Uo||(Uo={}));var Ru;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ru||(Ru={}));var Pu;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Pu||(Pu={}));var ku;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ku||(ku={}));var Hs;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hs||(Hs={}));var Mu;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Mu||(Mu={}));var Du;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Du||(Du={}));var Lu;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Lu||(Lu={}));var Uu;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Uu||(Uu={}));var Fu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Fu||(Fu={}));var Vu;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vu||(Vu={}));var Gu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Gu||(Gu={}));var Hu;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Hu||(Hu={}));var qu;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(qu||(qu={}));var zu;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(zu||(zu={}));var Bu;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bu||(Bu={}));var Ju;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ju||(Ju={}));var $u;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($u||($u={}));var Wu;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wu||(Wu={}));var Ou;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Ou||(Ou={}));var Ku;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Ku||(Ku={}));var Yu;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Yu||(Yu={}));var Qu;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Qu||(Qu={}));var bu;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(bu||(bu={}));var Xu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Xu||(Xu={}));var Zu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Zu||(Zu={}));var ju;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(ju||(ju={}));var ed;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ed||(ed={}));var td;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(td||(td={}));var nd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nd||(nd={}));var od;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(od||(od={}));var rd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(rd||(rd={}));var id;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(id||(id={}));var sd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sd||(sd={}));var ld;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ld||(ld={}));var Sn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Sn||(Sn={}));class qs{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class eo{get text(){var t,n,o,r,i,l,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const m of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,E]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var t,n,o,r,i,l,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,o,r,i,l,u,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,n,o,r,i,l,u,d,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,o,r,i,l,u,d,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class ad{}class ud{}class $g{}class Wg{}class Og{}class Kg{}class dd{}class cd{}class fd{}class Yg{}class Jr{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Jr;let r;const i=t;return n?r=Mg(i):r=kg(i),Object.assign(o,r),o}}class pd{}class md{}class hd{}class gd{}class Qg{}class bg{}class Xg{}class Jl{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Jl,i=Hg(t);return Object.assign(o,i),o}}class Zg{}class jg{}class ey{}class yd{}class ty{get text(){var t,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const l of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ny{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $l{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new $l,i=Zf(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function jf(e,t){const n=K(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function ep(e){return Array.isArray(e)?e.map(t=>$r(t)):[$r(e)]}function $r(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function tp(e){const t=$r(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function np(e){const t=$r(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vd(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function op(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>vd(t)):[vd(e)]}function zs(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Cd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Ed(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ie(e){if(e==null)throw new Error("ContentUnion is required");return zs(e)?e:{role:"user",parts:op(e)}}function Wl(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Ie(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Ie(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ie(n)):[Ie(t)]}function Ye(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Cd(e)||Ed(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ie(e)]}const t=[],n=[],o=zs(e[0]);for(const r of e){const i=zs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(Cd(r)||Ed(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:op(n)}),t}function oy(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(ie).includes(n[0].toUpperCase())?n[0].toUpperCase():ie.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(ie).includes(o.toUpperCase())?o.toUpperCase():ie.TYPE_UNSPECIFIED})}}function Rn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&oy(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ie).includes(u.toUpperCase())?u.toUpperCase():ie.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Rn(u);else if(o.includes(l)){const d=[];for(const c of u){if(c.type=="null"){t.nullable=!0;continue}d.push(Rn(c))}t[l]=d}else if(r.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=Rn(f);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function Ol(e){return Rn(e)}function Kl(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Yl(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Bn(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Rn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Rn(t.response));return e}function Jn(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function ry(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function _t(e,t){if(typeof t!="string")throw new Error("name must be a string");return ry(e,t,"cachedContents")}function rp(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Wt(e){return Bl(e)}function iy(e){return e!=null&&typeof e=="object"&&"name"in e}function sy(e){return e!=null&&typeof e=="object"&&"video"in e}function ly(e){return e!=null&&typeof e=="object"&&"uri"in e}function ip(e){var t;let n;if(iy(e)&&(n=e.name),!(ly(e)&&(n=e.uri,n===void 0))&&!(sy(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function sp(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function lp(e){for(const t of["models","tunedModels","publisherModels"])if(ay(e,t))return e[t];return[]}function ay(e,t){return e!==null&&typeof e=="object"&&t in e}function uy(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function dy(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=uy(r,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function ap(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cy(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function up(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function $n(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dp(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fy(e){const t={},n=s(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Oy(l))),a(t,["inlinedResponses"],i)}const r=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["inlinedEmbedContentResponses"],i)}return t}function py(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function my(e){const t={},n=s(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function gr(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["metadata","state"]);r!=null&&a(t,["state"],dp(r));const i=s(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const d=s(e,["metadata","model"]);d!=null&&a(t,["model"],d);const c=s(e,["metadata","output"]);return c!=null&&a(t,["dest"],fy(up(c))),t}function Bs(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],dp(r));const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(e,["model"]);f!=null&&a(t,["model"],f);const p=s(e,["inputConfig"]);p!=null&&a(t,["src"],hy(p));const m=s(e,["outputConfig"]);m!=null&&a(t,["dest"],py(up(m)));const g=s(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function hy(e){const t={},n=s(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function gy(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Wy(e,l))),a(n,["requests","requests"],i)}return n}function yy(e){const t={},n=s(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vy(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Cy(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$n(e,o)),n}function Ey(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$n(e,o)),n}function Ty(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],Sy(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&a(t,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&a(t,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(t,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function Sy(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function cp(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jy(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function xy(e,t){const n={},o=s(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _y(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],my(cy(r))),n}function Td(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],gy(e,ap(e,r)));const i=s(t,["config"]);return i!=null&&xy(i,n),n}function Iy(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],K(e,o));const r=s(t,["src"]);r!=null&&a(n,["inputConfig"],yy(ap(e,r)));const i=s(t,["config"]);return i!=null&&_y(i,n),n}function wy(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function Ny(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Ly(e,r));const i=s(t,["config"]);return i!=null&&wy(i,n),n}function Ay(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$n(e,o)),n}function Ry(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$n(e,o)),n}function Py(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function ky(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function My(e,t){const n={},o=s(t,["contents"]);if(o!=null){let i=Wl(e,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(t,["config"]);return r!=null&&(a(n,["_self"],Dy(r,n)),Rg(n,{"requests[].*":"requests[].request.*"})),n}function Dy(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ly(e,t){const n={},o=s(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],My(e,r)),n}function Uy(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Fy(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Vy(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Gy(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],cp(Ie(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const T=s(t,["seed"]);T!=null&&a(o,["seed"],T);const w=s(t,["responseMimeType"]);w!=null&&a(o,["responseMimeType"],w);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],Ol(v));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=s(t,["safetySettings"]);if(n!==void 0&&C!=null){let z=C;Array.isArray(z)&&(z=z.map(ne=>e0(ne))),a(n,["safetySettings"],z)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let z=Jn(S);Array.isArray(z)&&(z=z.map(ne=>n0(Bn(ne)))),a(n,["tools"],z)}const x=s(t,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],t0(x)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(t,["cachedContent"]);n!==void 0&&_!=null&&a(n,["cachedContent"],_t(e,_));const N=s(t,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const P=s(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const A=s(t,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],Kl(A)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=s(t,["thinkingConfig"]);I!=null&&a(o,["thinkingConfig"],I);const H=s(t,["imageConfig"]);H!=null&&a(o,["imageConfig"],$y(H));const J=s(t,["enableEnhancedCivicAnswers"]);return J!=null&&a(o,["enableEnhancedCivicAnswers"],J),o}function Hy(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>Ty(c))),a(t,["candidates"],d)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function qy(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$n(e,o)),n}function zy(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$n(e,o)),n}function By(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Jy(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function $y(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Wy(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["request","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let u=Ye(r);Array.isArray(u)&&(u=u.map(d=>cp(d))),a(n,["request","contents"],u)}const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["config"]);return l!=null&&a(n,["request","generationConfig"],Gy(e,l,s(n,["request"],{}))),n}function Oy(e){const t={},n=s(e,["response"]);n!=null&&a(t,["response"],Hy(n));const o=s(e,["error"]);return o!=null&&a(t,["error"],o),t}function Ky(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Yy(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=s(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function Qy(e){const t={},n=s(e,["config"]);return n!=null&&Ky(n,t),t}function by(e){const t={},n=s(e,["config"]);return n!=null&&Yy(n,t),t}function Xy(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>gr(l))),a(t,["batchJobs"],i)}return t}function Zy(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Bs(l))),a(t,["batchJobs"],i)}return t}function jy(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],Uy(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],Fy(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],vy(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function e0(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function t0(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Vy(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function n0(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],By(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],Jy(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Tt||(Tt={}));class an{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o0 extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new an(Tt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Td(this.apiClient,t),o=n._url,r=k("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=m,p.request=g}c.push(p)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Iy(this.apiClient,t);return u=k("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Bs(f))}else{const c=Td(this.apiClient,t);return u=k("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>gr(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ny(this.apiClient,t);return i=k("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>gr(d))}}async get(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=zy(this.apiClient,t);return u=k("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Bs(f))}else{const c=qy(this.apiClient,t);return u=k("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>gr(f))}}async cancel(t){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=Ey(this.apiClient,t);l=k("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=Cy(this.apiClient,t);l=k("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=by(t);return u=k("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Zy(f),m=new yd;return Object.assign(m,p),m})}else{const c=Qy(t);return u=k("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Xy(f),m=new yd;return Object.assign(m,p),m})}}async delete(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ry(this.apiClient,t);return u=k("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>ky(f))}else{const c=Ay(this.apiClient,t);return u=k("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Py(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r0(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Sd(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>N0(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function i0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let f=Ye(l);Array.isArray(f)&&(f=f.map(p=>Sd(p))),a(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Sd(Ie(u)));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>R0(p))),a(t,["tools"],f)}const c=s(e,["toolConfig"]);if(t!==void 0&&c!=null&&a(t,["toolConfig"],A0(c)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function s0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let p=Ye(l);Array.isArray(p)&&(p=p.map(m=>m)),a(t,["contents"],p)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Ie(u));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>P0(m))),a(t,["tools"],p)}const c=s(e,["toolConfig"]);t!==void 0&&c!=null&&a(t,["toolConfig"],c);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function l0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],jf(e,o));const r=s(t,["config"]);return r!=null&&i0(r,n),n}function a0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],jf(e,o));const r=s(t,["config"]);return r!=null&&s0(r,n),n}function u0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],_t(e,o)),n}function d0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],_t(e,o)),n}function c0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function f0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function p0(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function m0(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function h0(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function g0(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function y0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],_t(e,o)),n}function v0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],_t(e,o)),n}function C0(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function E0(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function T0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function S0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function x0(e){const t={},n=s(e,["config"]);return n!=null&&T0(n,t),t}function _0(e){const t={},n=s(e,["config"]);return n!=null&&S0(n,t),t}function I0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function w0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function N0(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],p0(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],m0(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],r0(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function A0(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],h0(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function R0(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],C0(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],E0(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function P0(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>g0(m))),a(t,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function k0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function M0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function D0(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],_t(e,o));const r=s(t,["config"]);return r!=null&&k0(r,n),n}function L0(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],_t(e,o));const r=s(t,["config"]);return r!=null&&M0(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U0 extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new an(Tt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=a0(this.apiClient,t);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=l0(this.apiClient,t);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=v0(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=y0(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=d0(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=f0(f),m=new hd;return Object.assign(m,p),m})}else{const c=u0(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=c0(f),m=new hd;return Object.assign(m,p),m})}}async update(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=L0(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=D0(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=_0(t);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=w0(f),m=new gd;return Object.assign(m,p),m})}else{const c=x0(t);return u=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=I0(f),m=new gd;return Object.assign(m,p),m})}}}function xd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(e){return this instanceof ee?(this.v=e,this):new ee(e)}function Pn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(g){return function(E){return Promise.resolve(E).then(g,p)}}function u(g,E){o[g]&&(r[g]=function(T){return new Promise(function(w,v){i.push([g,T,w,v])>1||d(g,T)})},E&&(r[g]=E(r[g])))}function d(g,E){try{c(o[g](E))}catch(T){m(i[0][3],T)}}function c(g){g.value instanceof ee?Promise.resolve(g.value.v).then(f,p):m(i[0][2],g)}function f(g){d("next",g)}function p(g){d("throw",g)}function m(g,E){g(E),i.shift(),i.length&&d(i[0][0],i[0][1])}}function go(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xd=="function"?xd(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(l){return new Promise(function(u,d){l=e[i](l),r(u,d,l.done,l.value)})}}function r(i,l,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F0(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:fp(n)}function fp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function V0(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _d(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!fp(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class G0{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new H0(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class H0{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),V0(i)}async sendMessage(t){var n;await this.sendPromise;const o=Ie(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const d=await r,c=(l=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const g=c?[c]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=Ie(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?_d(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Pn(this,arguments,function*(){var r,i,l,u,d,c;const f=[];try{for(var p=!0,m=go(t),g;g=yield ee(m.next()),r=g.done,!r;p=!0){u=g.value,p=!1;const E=u;if(F0(E)){const T=(c=(d=E.candidates)===null||d===void 0?void 0:d[0])===null||c===void 0?void 0:c.content;T!==void 0&&f.push(T)}yield yield ee(E)}}catch(E){i={error:E}}finally{try{!p&&!r&&(l=m.return)&&(yield ee(l.call(m)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(..._d(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ui.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q0(e){const t={},n=s(e,["file"]);return n!=null&&a(t,["file"],n),t}function z0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function B0(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],ip(n)),t}function J0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function $0(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],ip(n)),t}function W0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function O0(e){const t={},n=s(e,["config"]);return n!=null&&W0(n,t),t}function K0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y0 extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new an(Tt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=O0(t);return i=k("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=K0(d),f=new Zg;return Object.assign(f,c),f})}}async createInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q0(t);return i=k("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=z0(d),f=new jg;return Object.assign(f,c),f})}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$0(t);return i=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=B0(t);return i=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=J0(d),f=new ey;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yr(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Q0(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cv(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function b0(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function X0(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Z0(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function j0(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(t,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const g=s(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const T=s(e,["responseSchema"]);T!=null&&a(t,["responseSchema"],T);const w=s(e,["routingConfig"]);w!=null&&a(t,["routingConfig"],w);const v=s(e,["seed"]);v!=null&&a(t,["seed"],v);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],pp(y));const C=s(e,["stopSequences"]);C!=null&&a(t,["stopSequences"],C);const S=s(e,["temperature"]);S!=null&&a(t,["temperature"],S);const x=s(e,["thinkingConfig"]);x!=null&&a(t,["thinkingConfig"],x);const _=s(e,["topK"]);_!=null&&a(t,["topK"],_);const N=s(e,["topP"]);if(N!=null&&a(t,["topP"],N),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ev(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function tv(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function nv(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],Yl(p));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Q0(Ie(E)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let _=Jn(T);Array.isArray(_)&&(_=_.map(N=>pv(Bn(N)))),a(t,["setup","tools"],_)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&a(t,["setup","sessionResumption"],fv(w));const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const C=s(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&a(t,["setup","realtimeInputConfig"],C);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&a(t,["setup","proactivity"],x),n}function ov(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],j0(o));const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],pp(Yl(p)));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Ie(E));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let _=Jn(T);Array.isArray(_)&&(_=_.map(N=>mv(Bn(N)))),a(t,["setup","tools"],_)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&a(t,["setup","sessionResumption"],w);const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const C=s(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&a(t,["setup","realtimeInputConfig"],C);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&a(t,["setup","proactivity"],x),n}function rv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],nv(r,n)),n}function iv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],ov(r,n)),n}function sv(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function lv(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function av(e){const t={},n=s(e,["media"]);if(n!=null){let c=ep(n);Array.isArray(c)&&(c=c.map(f=>yr(f))),a(t,["mediaChunks"],c)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],yr(np(o)));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],yr(tp(i)));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function uv(e){const t={},n=s(e,["media"]);if(n!=null){let c=ep(n);Array.isArray(c)&&(c=c.map(f=>f)),a(t,["mediaChunks"],c)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],np(o));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],tp(i));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function dv(e){const t={},n=s(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=s(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=s(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],hv(l));const u=s(e,["goAway"]);u!=null&&a(t,["goAway"],u);const d=s(e,["sessionResumptionUpdate"]);return d!=null&&a(t,["sessionResumptionUpdate"],d),t}function cv(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],b0(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],X0(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],yr(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function fv(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function pp(e){const t={},n=s(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],n);const o=s(e,["languageCode"]);if(o!=null&&a(t,["languageCode"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function pv(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],ev(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],tv(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function mv(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>Z0(m))),a(t,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function hv(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=s(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=s(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const d=s(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["promptTokensDetails"],g)}const c=s(e,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["cacheTokensDetails"],g)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["responseTokensDetails"],g)}const p=s(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["toolUsePromptTokensDetails"],g)}const m=s(e,["trafficType"]);return m!=null&&a(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gv(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function yv(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],vv(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&a(t,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&a(t,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(t,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function vv(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function Cv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let i=Ye(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function Ev(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["tokensInfo"],r)}return t}function Tv(e){const t={},n=s(e,["values"]);n!=null&&a(t,["values"],n);const o=s(e,["statistics"]);return o!=null&&a(t,["statistics"],Sv(o)),t}function Sv(e){const t={},n=s(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=s(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function di(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kC(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function xv(e){const t={},n=s(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=s(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function _v(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Iv(e,t){const n={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Ie(o));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>vp(u))),a(t,["tools"],l)}const i=s(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],gC(i)),n}function wv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>di(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&_v(i),n}function Nv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&Iv(i,n),n}function Av(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(t,["cachedContentTokenCount"],r),t}function Rv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function Pv(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function kv(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function Mv(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Dv(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Lv(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=s(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const g=s(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const T=s(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&a(t,["parameters","outputOptions","compressionQuality"],T);const w=s(e,["addWatermark"]);t!==void 0&&w!=null&&a(t,["parameters","addWatermark"],w);const v=s(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const y=s(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const C=s(e,["baseSteps"]);return t!==void 0&&C!=null&&a(t,["parameters","editConfig","baseSteps"],C),n}function Uv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>VC(d))),a(n,["instances[0]","referenceImages"],u)}const l=s(t,["config"]);return l!=null&&Lv(l,n),n}function Fv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ci(i))),a(t,["generatedImages"],r)}return t}function Vv(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Gv(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const i=s(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function Hv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let u=Wl(e,r);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const i=s(t,["config"]);i!=null&&Vv(i,n);const l=s(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],K(e,l)),n}function qv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Wl(e,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(t,["config"]);return i!=null&&Gv(i,n),n}function zv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function Bv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Tv(l))),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function Jv(e){const t={},n=s(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=s(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function $v(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Wv(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ov(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Kv(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Yv(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],di(Ie(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const T=s(t,["seed"]);T!=null&&a(o,["seed"],T);const w=s(t,["responseMimeType"]);w!=null&&a(o,["responseMimeType"],w);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],Ol(v));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=s(t,["safetySettings"]);if(n!==void 0&&C!=null){let z=C;Array.isArray(z)&&(z=z.map(ne=>GC(ne))),a(n,["safetySettings"],z)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let z=Jn(S);Array.isArray(z)&&(z=z.map(ne=>WC(Bn(ne)))),a(n,["tools"],z)}const x=s(t,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],$C(x)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(t,["cachedContent"]);n!==void 0&&_!=null&&a(n,["cachedContent"],_t(e,_));const N=s(t,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const P=s(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const A=s(t,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],Kl(A)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=s(t,["thinkingConfig"]);I!=null&&a(o,["thinkingConfig"],I);const H=s(t,["imageConfig"]);H!=null&&a(o,["imageConfig"],TC(H));const J=s(t,["enableEnhancedCivicAnswers"]);return J!=null&&a(o,["enableEnhancedCivicAnswers"],J),o}function Qv(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ie(r));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const E=s(t,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const T=s(t,["seed"]);T!=null&&a(o,["seed"],T);const w=s(t,["responseMimeType"]);w!=null&&a(o,["responseMimeType"],w);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],Ol(v));const y=s(t,["responseJsonSchema"]);y!=null&&a(o,["responseJsonSchema"],y);const C=s(t,["routingConfig"]);C!=null&&a(o,["routingConfig"],C);const S=s(t,["modelSelectionConfig"]);S!=null&&a(o,["modelConfig"],S);const x=s(t,["safetySettings"]);if(n!==void 0&&x!=null){let X=x;Array.isArray(X)&&(X=X.map(Te=>Te)),a(n,["safetySettings"],X)}const _=s(t,["tools"]);if(n!==void 0&&_!=null){let X=Jn(_);Array.isArray(X)&&(X=X.map(Te=>vp(Bn(Te)))),a(n,["tools"],X)}const N=s(t,["toolConfig"]);n!==void 0&&N!=null&&a(n,["toolConfig"],N);const P=s(t,["labels"]);n!==void 0&&P!=null&&a(n,["labels"],P);const A=s(t,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],_t(e,A));const I=s(t,["responseModalities"]);I!=null&&a(o,["responseModalities"],I);const H=s(t,["mediaResolution"]);H!=null&&a(o,["mediaResolution"],H);const J=s(t,["speechConfig"]);J!=null&&a(o,["speechConfig"],yp(Kl(J)));const z=s(t,["audioTimestamp"]);z!=null&&a(o,["audioTimestamp"],z);const ne=s(t,["thinkingConfig"]);ne!=null&&a(o,["thinkingConfig"],ne);const Be=s(t,["imageConfig"]);if(Be!=null&&a(o,["imageConfig"],SC(Be)),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Id(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>di(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],Yv(e,i,n)),n}function wd(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],Qv(e,i,n)),n}function Nd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>yv(c))),a(t,["candidates"],d)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Ad(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),a(t,["candidates"],c)}const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(t,["responseId"],u);const d=s(e,["usageMetadata"]);return d!=null&&a(t,["usageMetadata"],d),t}function bv(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const i=s(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const d=s(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const c=s(e,["includeRaiReason"]);t!==void 0&&c!=null&&a(t,["parameters","includeRaiReason"],c);const f=s(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const p=s(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const m=s(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Xv(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=s(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const g=s(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=s(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const T=s(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&a(t,["parameters","outputOptions","compressionQuality"],T);const w=s(e,["addWatermark"]);t!==void 0&&w!=null&&a(t,["parameters","addWatermark"],w);const v=s(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const y=s(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const C=s(e,["enhancePrompt"]);return t!==void 0&&C!=null&&a(t,["parameters","enhancePrompt"],C),n}function Zv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&bv(i,n),n}function jv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&Xv(i,n),n}function eC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>fC(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],hp(r)),t}function tC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>ci(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],gp(r)),t}function nC(e,t){const n={},o=s(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const c=s(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&a(t,["parameters","enhancePrompt"],c),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],fi(f));const p=s(e,["referenceImages"]);if(t!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>rE(g))),a(t,["instances[0]","referenceImages"],m)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oC(e,t){const n={},o=s(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=s(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const l=s(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=s(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const d=s(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const c=s(e,["resolution"]);t!==void 0&&c!=null&&a(t,["parameters","resolution"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const m=s(e,["negativePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","negativePrompt"],m);const g=s(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const E=s(e,["generateAudio"]);t!==void 0&&E!=null&&a(t,["parameters","generateAudio"],E);const T=s(e,["lastFrame"]);t!==void 0&&T!=null&&a(t,["instances[0]","lastFrame"],rt(T));const w=s(e,["referenceImages"]);if(t!==void 0&&w!=null){let C=w;Array.isArray(C)&&(C=C.map(S=>iE(S))),a(t,["instances[0]","referenceImages"],C)}const v=s(e,["mask"]);t!==void 0&&v!=null&&a(t,["instances[0]","mask"],oE(v));const y=s(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function rC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],aC(l)),t}function iC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],uC(l)),t}function sC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],fi(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],Cp(l));const u=s(t,["source"]);u!=null&&dC(u,n);const d=s(t,["config"]);return d!=null&&nC(d,n),n}function lC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],rt(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],Ep(l));const u=s(t,["source"]);u!=null&&cC(u,n);const d=s(t,["config"]);return d!=null&&oC(d,n),n}function aC(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>mC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function uC(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>hC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function dC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],fi(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],Cp(i)),n}function cC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],rt(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],Ep(i)),n}function fC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],xC(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],hp(r)),t}function ci(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],mp(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);r!=null&&a(t,["safetyAttributes"],gp(r));const i=s(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function pC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["mask"],mp(n));const o=s(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["labels"],r)}return t}function mC(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],tE(n)),t}function hC(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],nE(n)),t}function gC(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(t,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const g=s(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=s(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const T=s(e,["responseSchema"]);T!=null&&a(t,["responseSchema"],T);const w=s(e,["routingConfig"]);w!=null&&a(t,["routingConfig"],w);const v=s(e,["seed"]);v!=null&&a(t,["seed"],v);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],yp(y));const C=s(e,["stopSequences"]);C!=null&&a(t,["stopSequences"],C);const S=s(e,["temperature"]);S!=null&&a(t,["temperature"],S);const x=s(e,["thinkingConfig"]);x!=null&&a(t,["thinkingConfig"],x);const _=s(e,["topK"]);_!=null&&a(t,["topK"],_);const N=s(e,["topP"]);if(N!=null&&a(t,["topP"],N),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function yC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function vC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function CC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function EC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function TC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function SC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const r=s(e,["outputMimeType"]);r!=null&&a(t,["imageOutputOptions","mimeType"],r);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function xC(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],Wt(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function mp(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],Wt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function fi(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],Wt(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function rt(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],Wt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function _C(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],sp(e,u)),o}function IC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],sp(e,u)),o}function wC(e,t){const n={},o=s(t,["config"]);return o!=null&&_C(e,o,n),n}function NC(e,t){const n={},o=s(t,["config"]);return o!=null&&IC(e,o,n),n}function AC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=lp(r);Array.isArray(i)&&(i=i.map(l=>Js(l))),a(t,["models"],i)}return t}function RC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=lp(r);Array.isArray(i)&&(i=i.map(l=>$s(l))),a(t,["models"],i)}return t}function PC(e){const t={},n=s(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=s(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const r=s(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function Js(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["version"]);i!=null&&a(t,["version"],i);const l=s(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],OC(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const d=s(e,["outputTokenLimit"]);d!=null&&a(t,["outputTokenLimit"],d);const c=s(e,["supportedGenerationMethods"]);c!=null&&a(t,["supportedActions"],c);const f=s(e,["temperature"]);f!=null&&a(t,["temperature"],f);const p=s(e,["maxTemperature"]);p!=null&&a(t,["maxTemperature"],p);const m=s(e,["topP"]);m!=null&&a(t,["topP"],m);const g=s(e,["topK"]);g!=null&&a(t,["topK"],g);const E=s(e,["thinking"]);return E!=null&&a(t,["thinking"],E),t}function $s(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["versionId"]);i!=null&&a(t,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>Jv(m))),a(t,["endpoints"],p)}const u=s(e,["labels"]);u!=null&&a(t,["labels"],u);const d=s(e,["_self"]);d!=null&&a(t,["tunedModelInfo"],KC(d));const c=s(e,["defaultCheckpointId"]);c!=null&&a(t,["defaultCheckpointId"],c);const f=s(e,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["checkpoints"],p)}return t}function kC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],$v(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],Wv(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],gv(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function MC(e){const t={},n=s(e,["productImage"]);return n!=null&&a(t,["image"],rt(n)),t}function DC(e,t){const n={},o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const l=s(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const c=s(e,["addWatermark"]);t!==void 0&&c!=null&&a(t,["parameters","addWatermark"],c);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const p=s(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const m=s(e,["enhancePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","enhancePrompt"],m);const g=s(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function LC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["source"]);r!=null&&FC(r,n);const i=s(t,["config"]);return i!=null&&DC(i,n),n}function UC(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>ci(r))),a(t,["generatedImages"],o)}return t}function FC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],rt(r));const i=s(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>MC(u))),a(t,["instances[0]","productImages"],l)}return n}function VC(e){const t={},n=s(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],rt(n));const o=s(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const r=s(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const i=s(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],PC(i));const l=s(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],xv(l));const u=s(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const d=s(e,["subjectImageConfig"]);return d!=null&&a(t,["subjectImageConfig"],d),t}function hp(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function gp(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function GC(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function HC(e){const t={},n=s(e,["image"]);return n!=null&&a(t,["image"],rt(n)),t}function qC(e,t){const n={},o=s(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const r=s(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const i=s(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const d=s(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),n}function zC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["source"]);r!=null&&JC(r,n);const i=s(t,["config"]);return i!=null&&qC(i,n),n}function BC(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>pC(r))),a(t,["generatedMasks"],o)}return t}function JC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],rt(r));const i=s(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],HC(i)),n}function yp(e){const t={},n=s(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],n);const o=s(e,["languageCode"]);if(o!=null&&a(t,["languageCode"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function $C(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Ov(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function WC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],CC(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],EC(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}function vp(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>Kv(m))),a(t,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function OC(e){const t={},n=s(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function KC(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function YC(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function QC(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function bC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","name"],K(e,o));const r=s(t,["config"]);return r!=null&&YC(r,n),n}function XC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["config"]);return r!=null&&QC(r,n),n}function ZC(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const i=s(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const d=s(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const c=s(e,["enhanceInputImage"]);t!==void 0&&c!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const m=s(e,["numberOfImages"]);t!==void 0&&m!=null&&a(t,["parameters","sampleCount"],m);const g=s(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function jC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["image"]);r!=null&&a(n,["instances[0]","image"],rt(r));const i=s(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(t,["config"]);return l!=null&&ZC(l,n),n}function eE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ci(i))),a(t,["generatedImages"],r)}return t}function tE(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],Wt(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function nE(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Wt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function oE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["_self"],rt(n));const o=s(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function rE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],fi(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function iE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],rt(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function Cp(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],Wt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["encoding"],r),t}function Ep(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],Wt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function lE(e){const t={},n=s(e,["config"]);return n!=null&&sE(n,t),t}function aE(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function uE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&aE(o,t),t}function dE(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function cE(e,t){const n={},o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["customMetadata"],i)}const r=s(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function fE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],mE(l)),t}function pE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["config"]);return r!=null&&cE(r,t),t}function mE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function hE(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function gE(e){const t={},n=s(e,["config"]);return n!=null&&hE(n,t),t}function yE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["fileSearchStores"],i)}return t}function Tp(e,t){const n={},o=s(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),a(t,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function vE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["config"]);return o!=null&&Tp(o,t),t}function CE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EE="Content-Type",TE="X-Server-Timeout",SE="User-Agent",Ws="x-goog-api-client",xE="1.32.0",_E=`google-genai-sdk/${xE}`,IE="v1beta1",wE="v1beta";class NE{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:IE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))r.searchParams.append(l,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=l}return n&&n.extraBody!==null&&AE(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Rd(r),new qs(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Rd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Pn(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:f}=yield ee(r.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=i.decode(f,{stream:!0});try{const E=JSON.parse(p);if("error"in E){const T=JSON.parse(JSON.stringify(E.error)),w=T.status,v=T.code,y=`got status: ${w}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new ui({message:y,status:v})}}catch(E){if(E.name==="ApiError")throw E}l+=p;let m=-1,g=0;for(;;){m=-1,g=0;for(const w of d){const v=l.indexOf(w);v!==-1&&(m===-1||v<m)&&(m=v,g=w.length)}if(m===-1)break;const E=l.substring(0,m);l=l.substring(m+g);const T=E.trim();if(T.startsWith(u)){const w=T.substring(u.length).trim();try{const v=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ee(new qs(v))}catch(v){throw new Error(`exception parsing stream chunk ${w}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=_E+" "+this.clientOptions.userAgentExtra;return t[SE]=n,t[Ws]=n,t[EE]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(TE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d={file:r},c=this.getFileName(t),f=k("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,n==null?void 0:n.httpOptions);return i.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&Tp(o,p);const m=await this.fetchUploadUrl(c,u,d,f,p,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Rd(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new ui({message:r,status:n}):new Error(r)}}function AE(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RE="mcp_used/unknown";let PE=!1;function Sp(e){for(const t of e)if(kE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return PE}function xp(e){var t;const n=(t=e[Ws])!==null&&t!==void 0?t:"";e[Ws]=(n+` ${RE}`).trimStart()}function kE(e){return e!==null&&typeof e=="object"&&e instanceof Ql}function ME(e){return Pn(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield ee(n.listTools({cursor:r}));for(const u of l.tools)yield yield ee(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class Ql{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ql(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,go(ME(f))),c;c=await d.next(),t=c.done,!t;u=!0){r=c.value,u=!1;const p=r;l.push(p);const m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){n={error:p}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),dy(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DE(e,t,n){const o=new ny;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class LE{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=VE(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(C=>{c=C}),p=t.callbacks,m=function(){c({})},g=this.apiClient,E={onopen:m,onmessage:C=>{DE(g,p.onmessage,C)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(C){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(C){}},T=this.webSocketFactory.create(d,FE(l),E);T.connect(),await f;const y={setup:{model:K(this.apiClient,t.model)}};return T.send(JSON.stringify(y)),new UE(T,this.apiClient)}}class UE{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=lv(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=sv(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Sn.PLAY)}pause(){this.sendPlaybackControl(Sn.PAUSE)}stop(){this.sendPlaybackControl(Sn.STOP)}resetContext(){this.sendPlaybackControl(Sn.RESET_CONTEXT)}close(){this.conn.close()}}function FE(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function VE(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function HE(e,t,n){const o=new ty;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const l=dv(i);Object.assign(o,l)}else Object.assign(o,i);t(o)}class qE{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new LE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&Sp(t.config.tools)&&xp(p);const m=$E(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const A=this.apiClient.getApiKey();let I="BidiGenerateContent",H="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",H="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${I}?${H}=${A}`}let g=()=>{};const E=new Promise(A=>{g=A}),T=t.callbacks,w=function(){var A;(A=T==null?void 0:T.onopen)===null||A===void 0||A.call(T),g({})},v=this.apiClient,y={onopen:w,onmessage:A=>{HE(v,T.onmessage,A)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(A){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(A){}},C=this.webSocketFactory.create(f,JE(m),y);C.connect(),await E;let S=K(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const A=this.apiClient.getProject(),I=this.apiClient.getLocation();S=`projects/${A}/locations/${I}/`+S}let x={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Uo.AUDIO]}:t.config.responseModalities=[Uo.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],N=[];for(const A of _)if(this.isCallableTool(A)){const I=A;N.push(await I.tool())}else N.push(A);N.length>0&&(t.config.tools=N);const P={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?x=iv(this.apiClient,P):x=rv(this.apiClient,P),delete x.config,C.send(JSON.stringify(x)),new BE(C,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const zE={turnComplete:!0};class BE{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ye(n.turns),t.isVertexAI()||(o=o.map(r=>di(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(GE)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},zE),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:uv(t)}:n={realtimeInput:av(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JE(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function $E(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pd=10;function kd(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(kn(l)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function kn(e){return"callTool"in e&&typeof e.callTool=="function"}function WE(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>kn(r)))!==null&&o!==void 0?o:!1}function Md(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(kn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Dd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OE extends xt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!WE(n)||kd(n.config))return await this.generateContentInternal(d);const c=Md(n);if(c.length>0){const T=c.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,p;const m=Ye(d.contents),g=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Pd;let E=0;for(;E<g&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,w=[];for(const v of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(kn(v)){const C=await v.callTool(f.functionCalls);w.push(...C)}E++,p={role:"user",parts:w},d.contents=Ye(d.contents),d.contents.push(T),d.contents.push(p),Dd(d.config)&&(m.push(T),m.push(p))}return Dd(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),kd(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=Md(n);if(d.length>0){const p=d.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:l.push(d);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new an(Tt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async d=>kn(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&Sp(t.config.tools)){const d=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),xp(c),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const l of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(kn(l)){const u=l,d=await u.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Pd;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return function(c,f,p){return Pn(this,arguments,function*(){for(var m,g,E,T,w,v;u<i;){l&&(u++,l=!1);const x=yield ee(c.processParamsMaybeAddMcpUsage(p)),_=yield ee(c.generateContentStreamInternal(x)),N=[],P=[];try{for(var y=!0,C=(g=void 0,go(_)),S;S=yield ee(C.next()),m=S.done,!m;y=!0){T=S.value,y=!1;const A=T;if(yield yield ee(A),A.candidates&&(!((w=A.candidates[0])===null||w===void 0)&&w.content)){P.push(A.candidates[0].content);for(const I of(v=A.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(I.functionCall.name)){const H=yield ee(f.get(I.functionCall.name).callTool([I.functionCall]));N.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(A){g={error:A}}finally{try{!y&&!m&&(E=C.return)&&(yield ee(E.call(C)))}finally{if(g)throw g.error}}if(N.length>0){l=!0;const A=new eo;A.candidates=[{content:{role:"user",parts:N}}],yield yield ee(A);const I=[];I.push(...P),I.push({role:"user",parts:N});const H=Ye(p.contents).concat(I);p.contents=H}else break}})}(this,d,t)}async generateContentInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wd(this.apiClient,t);return u=k("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Ad(f),m=new eo;return Object.assign(m,p),m})}else{const c=Id(this.apiClient,t);return u=k("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Nd(f),m=new eo;return Object.assign(m,p),m})}}async generateContentStreamInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=wd(this.apiClient,t);return u=k("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Pn(this,arguments,function*(){var m,g,E,T;try{for(var w=!0,v=go(p),y;y=yield ee(v.next()),m=y.done,!m;w=!0){T=y.value,w=!1;const C=T,S=Ad(yield ee(C.json()));S.sdkHttpResponse={headers:C.headers};const x=new eo;Object.assign(x,S),yield yield ee(x)}}catch(C){g={error:C}}finally{try{!w&&!m&&(E=v.return)&&(yield ee(E.call(v)))}finally{if(g)throw g.error}}})})}else{const c=Id(this.apiClient,t);return u=k("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Pn(this,arguments,function*(){var m,g,E,T;try{for(var w=!0,v=go(p),y;y=yield ee(v.next()),m=y.done,!m;w=!0){T=y.value,w=!1;const C=T,S=Nd(yield ee(C.json()));S.sdkHttpResponse={headers:C.headers};const x=new eo;Object.assign(x,S),yield yield ee(x)}}catch(C){g={error:C}}finally{try{!w&&!m&&(E=v.return)&&(yield ee(E.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=qv(this.apiClient,t);return u=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Bv(f),m=new ad;return Object.assign(m,p),m})}else{const c=Hv(this.apiClient,t);return u=k("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=zv(f),m=new ad;return Object.assign(m,p),m})}}async generateImagesInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=jv(this.apiClient,t);return u=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=tC(f),m=new ud;return Object.assign(m,p),m})}else{const c=Zv(this.apiClient,t);return u=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=eC(f),m=new ud;return Object.assign(m,p),m})}}async editImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Uv(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Fv(d),f=new $g;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=jC(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=eE(d),f=new Wg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=LC(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=UC(d),f=new Og;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=zC(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=BC(d),f=new Kg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=vC(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}else{const c=yC(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}}async listInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=NC(this.apiClient,t);return u=k("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=RC(f),m=new dd;return Object.assign(m,p),m})}else{const c=wC(this.apiClient,t);return u=k("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=AC(f),m=new dd;return Object.assign(m,p),m})}}async update(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=XC(this.apiClient,t);return u=k("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}else{const c=bC(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}}async delete(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=kv(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Dv(f),m=new cd;return Object.assign(m,p),m})}else{const c=Pv(this.apiClient,t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Mv(f),m=new cd;return Object.assign(m,p),m})}}async countTokens(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Nv(this.apiClient,t);return u=k("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Rv(f),m=new fd;return Object.assign(m,p),m})}else{const c=wv(this.apiClient,t);return u=k("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Av(f),m=new fd;return Object.assign(m,p),m})}}async computeTokens(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Cv(this.apiClient,t);return i=k("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Ev(d),f=new Yg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=lC(this.apiClient,t);return u=k("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=iC(f),m=new Jr;return Object.assign(m,p),m})}else{const c=sC(this.apiClient,t);return u=k("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=rC(f),m=new Jr;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends xt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Gg(t);return u=k("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const c=Vg(t);return u=k("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Pg(t);return i=k("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function QE(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rT(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function bE(e,t,n){const o={},r=s(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],oT(e,u));const d=s(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),o}function XE(e,t){const n={},o=s(t,["config"]);return o!=null&&a(n,["config"],bE(e,o,n)),n}function ZE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function jE(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eT(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function tT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function nT(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],Yl(p));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=s(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],QE(Ie(E)));const T=s(e,["tools"]);if(t!==void 0&&T!=null){let _=Jn(T);Array.isArray(_)&&(_=_.map(N=>sT(Bn(N)))),a(t,["setup","tools"],_)}const w=s(e,["sessionResumption"]);t!==void 0&&w!=null&&a(t,["setup","sessionResumption"],iT(w));const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const C=s(e,["realtimeInputConfig"]);t!==void 0&&C!=null&&a(t,["setup","realtimeInputConfig"],C);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&a(t,["setup","proactivity"],x),n}function oT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],nT(r,n)),n}function rT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],ZE(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],jE(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(t,["inlineData"],YE(d));const c=s(e,["text"]);c!=null&&a(t,["text"],c);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function iT(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function sT(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],eT(u));const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],tT(d));const c=s(e,["urlContext"]);return c!=null&&a(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function aT(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=lT(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class uT extends xt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=XE(this.apiClient,t);i=k("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=aT(u,t.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function cT(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&dT(o,t),t}function fT(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function pT(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function mT(e){const t={},n=s(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=s(e,["config"]);return o!=null&&pT(o,t),t}function hT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gT extends xt{constructor(t){super(),this.apiClient=t,this.list=async n=>new an(Tt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fT(t);return i=k("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cT(t);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mT(t);return i=k("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=hT(d),f=new Qg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yT extends xt{constructor(t,n=new gT(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new an(Tt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lE(t);return i=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dE(t);return i=k("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uE(t);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gE(t);return i=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=yE(d),f=new bg;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vE(t);return i=k("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=CE(d),f=new Xg;return Object.assign(f,c),f})}}async importFile(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pE(t);return i=k("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=fE(d),f=new Jl;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function CT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function ET(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function TT(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function ST(e,t,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const d=s(e,["learningRate"]);if(t!==void 0&&d!=null&&a(t,["tuningTask","hyperparameters","learningRate"],d),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function xT(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],Ld(g))}else if(r==="PREFERENCE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],Ld(g))}const i=s(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const m=s(e,["beta"]);return t!==void 0&&m!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function _T(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&UT(i);const l=s(e,["config"]);return l!=null&&ST(l,n),n}function IT(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&FT(i,n,t);const l=s(e,["config"]);return l!=null&&xT(l,n,t),n}function wT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function NT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function AT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function RT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function PT(e,t){const n={},o=s(e,["config"]);return o!=null&&AT(o,n),n}function kT(e,t){const n={},o=s(e,["config"]);return o!=null&&RT(o,n),n}function MT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>_p(u))),a(n,["tuningJobs"],l)}return n}function DT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Os(u))),a(n,["tuningJobs"],l)}return n}function LT(e,t){const n={},o=s(e,["name"]);o!=null&&a(n,["model"],o);const r=s(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function UT(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function FT(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function _p(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],rp(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=s(e,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=s(e,["_self"]);return m!=null&&a(n,["tunedModel"],LT(m)),n}function Os(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],rp(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const p=s(e,["description"]);p!=null&&a(n,["description"],p);const m=s(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const g=s(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const E=s(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const T=s(e,["supervisedTuningSpec"]);T!=null&&a(n,["supervisedTuningSpec"],T);const w=s(e,["preferenceOptimizationSpec"]);w!=null&&a(n,["preferenceOptimizationSpec"],w);const v=s(e,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const y=s(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const C=s(e,["partnerModelTuningSpec"]);C!=null&&a(n,["partnerModelTuningSpec"],C);const S=s(e,["customBaseModel"]);S!=null&&a(n,["customBaseModel"],S);const x=s(e,["experiment"]);x!=null&&a(n,["experiment"],x);const _=s(e,["labels"]);_!=null&&a(n,["labels"],_);const N=s(e,["outputUri"]);N!=null&&a(n,["outputUri"],N);const P=s(e,["pipelineJob"]);P!=null&&a(n,["pipelineJob"],P);const A=s(e,["serviceAccount"]);A!=null&&a(n,["serviceAccount"],A);const I=s(e,["tunedModelDisplayName"]);I!=null&&a(n,["tunedModelDisplayName"],I);const H=s(e,["veoTuningSpec"]);return H!=null&&a(n,["veoTuningSpec"],H),n}function VT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const u=s(e,["error"]);return u!=null&&a(n,["error"],u),n}function Ld(e,t){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends xt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new an(Tt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Hs.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=NT(t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Os(f))}else{const c=wT(t);return u=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>_p(f))}}async listInternal(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=kT(t);return u=k("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=DT(f),m=new pd;return Object.assign(m,p),m})}else{const c=PT(t);return u=k("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=MT(f),m=new pd;return Object.assign(m,p),m})}}async cancel(t){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=CT(t);return u=k("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=TT(f),m=new md;return Object.assign(m,p),m})}else{const c=vT(t);return u=k("{name}:cancel",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=ET(f),m=new md;return Object.assign(m,p),m})}}async tuneInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=IT(t,t);return i=k("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>Os(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_T(t);return i=k("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>VT(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HT{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qT=1024*1024*8,zT=3,BT=1e3,JT=2,Wr="x-goog-upload-status";async function $T(e,t,n){var o;const r=await Ip(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Wr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function WT(e,t,n){var o;const r=await Ip(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Wr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Zf(i),u=new $l;return Object.assign(u,l),u}async function Ip(e,t,n){var o,r;let i=0,l=0,u=new qs(new Response),d="upload";for(i=e.size;l<i;){const c=Math.min(qT,i-l),f=e.slice(l,l+c);l+c>=i&&(d+=", finalize");let p=0,m=BT;for(;p<zT&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Wr]));)p++,await KT(m),m=m*JT;if(l+=c,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Wr])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function OT(e){return{size:e.size,type:e.type}}function KT(e){return new Promise(t=>setTimeout(t,e))}class YT{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $T(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await WT(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await OT(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QT{create(t,n,o){return new bT(t,n,o)}}class bT{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ud="x-goog-api-key";class XT{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Ud)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Ud,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZT="gl-node/";class wp{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=Ag(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new XT(this.apiKey);this.apiClient=new NE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ZT+"web",uploader:new YT,downloader:new HT}),this.models=new OE(this.apiClient),this.live=new qE(this.apiClient,r,new QT),this.batches=new o0(this.apiClient),this.chats=new G0(this.models,this.apiClient),this.caches=new U0(this.apiClient),this.files=new Y0(this.apiClient),this.operations=new KE(this.apiClient),this.authTokens=new uT(this.apiClient),this.tunings=new GT(this.apiClient),this.fileSearchStores=new yT(this.apiClient)}}const jT=`
You are "The Chef's Muse", a world-class culinary creative engine. 
Your goal is to invent a unique, delicious, and practical recipe based STRICTLY on the visual ingredients provided by the user and their audio/text request.

Rules:
1. Identify the ingredients visible in the video frames. If no video is provided, treat the user's text input as the list of available ingredients/cravings.
2. Listen to the user's audio or read the text input for constraints (e.g., "spicy", "20 mins", "vegetarian").
3. Assume basic pantry staples (oil, salt, pepper, basic spices) are available, but list them.
4. If the inputs are vague, improvise a "Chef's Special" that fits the vibe.
5. NEVER suggest ordering takeout. You must cook with what is there.
6. The recipe title should be evocative and artistic.
7. The description should be like a headnote in a gourmet cookbooksetting the mood.
8. Structure the output strictly as JSON.

Response format:
{
  "title": "String",
  "description": "String",
  "cuisineStyle": "String (e.g., Modern Rustic, Spicy Fusion)",
  "difficulty": "Easy" | "Medium" | "Hard" | "Expert",
  "totalTime": "String (e.g. 25 mins)",
  "ingredientsFound": ["String"],
  "pantryItemsNeeded": ["String"],
  "steps": [
    { "instruction": "String", "tip": "String (optional chef's secret)", "duration": "String (optional)" }
  ]
}
`,Np=()=>"AIzaSyALCAzFj4uhk9OBxqp_4jftlMUztEhpQ5M",eS={type:ie.OBJECT,properties:{title:{type:ie.STRING},description:{type:ie.STRING},cuisineStyle:{type:ie.STRING},difficulty:{type:ie.STRING,enum:["Easy","Medium","Hard","Expert"]},totalTime:{type:ie.STRING},ingredientsFound:{type:ie.ARRAY,items:{type:ie.STRING}},pantryItemsNeeded:{type:ie.ARRAY,items:{type:ie.STRING}},steps:{type:ie.ARRAY,items:{type:ie.OBJECT,properties:{instruction:{type:ie.STRING},tip:{type:ie.STRING},duration:{type:ie.STRING}},required:["instruction"]}}},required:["title","description","difficulty","ingredientsFound","steps"]},Hi=async(e,t,n,o,r=[])=>{var d,c,f,p,m;const i=new wp({apiKey:Np()}),l=[];e.forEach(g=>{l.push({inlineData:{mimeType:"image/jpeg",data:g}})}),t&&l.push({inlineData:{mimeType:n||"audio/wav",data:t}});const u=r.length>0?`CRITICAL CONSTRAINTS: The user has the following limitations: ${r.join(", ")}. You MUST strictly adhere to these. Do not use equipment that is restricted (e.g. if 'No Stove', use microwave, oven, or raw prep only).`:"";o?l.push({text:`User text request: "${o}". ${u} Create a recipe based on this.`}):t?l.push({text:u}):l.push({text:`I have these ingredients. ${u} Make me something delicious.`}),l.push({text:"Analyze the ingredients and the user request. Create a recipe."});try{const E=(m=(p=(f=(c=(d=(await i.models.generateContent({model:"gemini-flash-latest",contents:{parts:l},config:{systemInstruction:jT,responseMimeType:"application/json",responseSchema:eS}})).candidates)==null?void 0:d[0])==null?void 0:c.content)==null?void 0:f.parts)==null?void 0:p[0])==null?void 0:m.text;if(!E)throw new Error("No response generated");return{...JSON.parse(E),id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),createdAt:Date.now(),constraints:r}}catch(g){throw console.error("Recipe Generation Error:",g),g}},tS=async(e,t)=>{const n=`professional food photography, ${e}, ${t.split(".")[0]}`.slice(0,300),o=encodeURIComponent(n),r=Math.floor(Math.random()*1e3);return`https://image.pollinations.ai/prompt/${o}?nologo=true&seed=${r}&width=1024&height=1024&model=flux`},nS=async e=>{var n,o,r,i,l,u;const t=new wp({apiKey:Np()});try{const c=(u=(l=(i=(r=(o=(n=(await t.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:[Uo.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:n[0])==null?void 0:o.content)==null?void 0:r.parts)==null?void 0:i[0])==null?void 0:l.inlineData)==null?void 0:u.data;if(!c)throw new Error("No audio generated");return c}catch(d){throw console.error("TTS Error:",d),d}},oS=["No Stove","Vegetarian","Vegan","Microwave Only","Under 15m","One Pot","High Protein"],rS=({recipe:e,onBack:t,onSave:n,onRemix:o,isSaved:r})=>{const[i,l]=U.useState(-1),[u,d]=U.useState(null),[c,f]=U.useState(!1),[p,m]=U.useState(!1),[g,E]=U.useState(!1),[T,w]=U.useState(!1),[v,y]=U.useState(null),[C,S]=U.useState(new Set),[x,_]=U.useState(!1),[N,P]=U.useState(e.constraints||[]),A=U.useRef(i),I=U.useRef(null),H=U.useRef(null),J=U.useRef(null);U.useEffect(()=>()=>{z(),I.current&&I.current.close(),J.current&&J.current.stop()},[]),U.useEffect(()=>{A.current=i,z()},[i]),U.useEffect(()=>{let L=!0;return(async()=>{if(!u&&!p&&e){m(!0);try{const re=await tS(e.title,e.description);L&&d(re)}catch(re){console.error("Auto visualization failed",re),L&&f(!0)}finally{L&&m(!1)}}})(),()=>{L=!1}},[e.id]),U.useEffect(()=>{if(!T){J.current&&(J.current.stop(),J.current=null);return}const{webkitSpeechRecognition:L,SpeechRecognition:O}=window,re=O||L;if(!re){console.warn("Speech recognition not supported in this browser.");return}const b=new re;return b.continuous=!0,b.lang="en-US",b.interimResults=!1,b.maxAlternatives=1,b.onresult=ye=>{const ce=ye.results[ye.results.length-1][0].transcript.toLowerCase().trim();if(console.log("Voice Command:",ce),y(ce),setTimeout(()=>y(null),2e3),ce.includes("next"))A.current<e.steps.length-1&&l(it=>it+1);else if(ce.includes("previous")||ce.includes("back"))A.current>0&&l(it=>it-1);else if(ce.includes("exit")||ce.includes("stop"))w(!1);else if(ce.includes("read")||ce.includes("speak")){const it=e.steps[A.current];it&&ne(it.instruction+(it.tip?`. Tip: ${it.tip}`:""))}},b.onerror=ye=>{console.error("Speech recognition error",ye.error)},b.onend=()=>{if(T&&J.current)try{b.start()}catch{}},J.current=b,b.start(),()=>{J.current&&J.current.stop()}},[T,e.steps]);const z=()=>{if(H.current){try{H.current.stop()}catch{}H.current=null}E(!1)},ne=async L=>{try{if(g){z();return}E(!0),I.current?I.current.state==="suspended"&&await I.current.resume():I.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const O=await nS(L),re=window.atob(O),b=re.length,ye=new Uint8Array(b);for(let ct=0;ct<b;ct++)ye[ct]=re.charCodeAt(ct);const Je=new Int16Array(ye.buffer),ce=I.current.createBuffer(1,Je.length,24e3),it=ce.getChannelData(0);for(let ct=0;ct<Je.length;ct++)it[ct]=Je[ct]/32768;const Wn=I.current.createBufferSource();Wn.buffer=ce,Wn.connect(I.current.destination),Wn.onended=()=>{E(!1),H.current=null},H.current=Wn,Wn.start()}catch(O){console.error("TTS play error",O),E(!1)}},Be=()=>{i<e.steps.length-1&&l(L=>L+1)},X=()=>{i>-1&&l(L=>L-1)},Te=()=>{i===-1&&l(0),w(!0)},M=L=>{P(O=>O.includes(L)?O.filter(re=>re!==L):[...O,L])},V=()=>{_(!1),o(N)},q=L=>{S(O=>{const re=new Set(O);return re.has(L)?re.delete(L):re.add(L),re})},F=L=>{switch(L){case"Easy":return{text:"text-emerald-400",bg:"bg-emerald-400"};case"Medium":return{text:"text-amber-400",bg:"bg-amber-400"};case"Hard":return{text:"text-orange-500",bg:"bg-orange-500"};case"Expert":return{text:"text-red-500",bg:"bg-red-500"};default:return{text:"text-stone-400",bg:"bg-stone-400"}}};if(T){const L=e.steps[i];return h.jsxs("div",{className:"fixed inset-0 z-50 bg-stone-950 flex flex-col animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-800 bg-stone-950",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-red-500/10 rounded-full animate-pulse",children:h.jsx(Br,{size:20,className:"text-red-500"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-stone-400 text-[10px] uppercase tracking-widest font-bold",children:"Listening for commands..."}),h.jsx("span",{className:"text-stone-600 text-[10px]",children:'"Next", "Back", "Read", "Exit"'})]})]}),h.jsx("button",{onClick:()=>w(!1),className:"p-3 bg-stone-800 rounded-full text-stone-400 hover:text-white hover:bg-stone-700 transition-colors",children:h.jsx(Vs,{size:24})})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 max-w-4xl mx-auto w-full text-center space-y-12",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 text-amber-350/30 font-serif text-8xl font-bold select-none",children:[h.jsx("span",{children:i+1}),h.jsx("span",{className:"text-4xl text-stone-700",children:"/"}),h.jsx("span",{className:"text-4xl text-stone-700",children:e.steps.length})]}),h.jsx("h2",{className:"text-3xl md:text-5xl font-serif text-stone-100 leading-tight",children:L.instruction}),L.tip&&h.jsx("div",{className:"bg-amber-900/10 border-l-4 border-amber-350 p-6 text-left max-w-2xl mx-auto rounded-r-xl",children:h.jsxs("p",{className:"text-amber-350 text-lg italic",children:[h.jsx("span",{className:"font-bold not-italic mr-2",children:"Chef's Tip:"}),L.tip]})}),L.duration&&h.jsx("div",{className:"flex justify-center",children:h.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-stone-800 rounded-full text-stone-300 font-mono text-sm",children:[h.jsx(Us,{size:16})," ",L.duration]})})]}),v&&h.jsxs("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 bg-stone-800/90 backdrop-blur px-6 py-2 rounded-full text-stone-300 flex items-center gap-2 animate-slide-up",children:[h.jsx(dg,{size:14}),h.jsxs("span",{className:"text-sm",children:['Heard: "',v,'"']})]}),h.jsxs("div",{className:"p-8 flex items-center justify-between border-t border-stone-800 bg-stone-900/30",children:[h.jsxs("button",{onClick:X,disabled:i===0,className:`flex items-center gap-2 px-8 py-4 rounded-full text-lg font-medium transition-all ${i===0?"text-stone-700":"bg-stone-800 text-stone-200 hover:bg-stone-700"}`,children:[h.jsx(su,{})," Previous"]}),h.jsx("button",{onClick:()=>ne(L.instruction+(L.tip?`. Tip: ${L.tip}`:"")),className:"p-4 rounded-full bg-amber-350/10 text-amber-350 hover:bg-amber-350/20 transition-colors",children:g?h.jsx(uu,{size:32}):h.jsx(du,{size:32})}),h.jsxs("button",{onClick:Be,disabled:i===e.steps.length-1,className:`flex items-center gap-2 px-8 py-4 rounded-full text-lg font-medium transition-all ${i===e.steps.length-1?"text-stone-700":"bg-amber-350 text-stone-900 hover:bg-amber-400"}`,children:["Next ",h.jsx(ho,{})]})]})]})}const G=()=>{var O;if(i===-1){const re=F(e.difficulty);return h.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[h.jsx("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden bg-stone-800 border border-stone-700 shadow-2xl group animate-slide-up",style:{animationDelay:"0.1s"},children:u?h.jsx("img",{src:u,alt:e.title,className:"w-full h-full object-cover animate-fade-in duration-1000"}):h.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center relative overflow-hidden bg-stone-800",children:c?h.jsxs("div",{className:"z-10 flex flex-col items-center animate-fade-in",children:[h.jsx("div",{className:"relative mb-4",children:h.jsx(rn,{className:"w-16 h-16 text-stone-700 relative z-10",strokeWidth:1})}),h.jsx("p",{className:"text-stone-600 font-serif italic mb-1",children:"Visuals not available"}),h.jsx("p",{className:"text-stone-700 text-xs",children:"But the taste will be legendary."}),h.jsxs("button",{onClick:()=>{f(!1),d(null)},className:"mt-4 text-xs text-amber-350/50 hover:text-amber-350 flex items-center gap-1 transition-colors",children:[h.jsx(Fs,{size:10})," Retry"]})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-700/20 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}}),h.jsxs("div",{className:"z-10 flex flex-col items-center",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:"absolute inset-0 bg-amber-350/20 blur-xl rounded-full animate-pulse-slow"}),h.jsx(rn,{className:"w-16 h-16 text-stone-600 relative z-10"})]}),h.jsx("p",{className:"text-stone-500 font-serif italic mb-2 animate-pulse",children:"Visualizing your masterpiece..."})]})]})})}),h.jsxs("div",{className:"space-y-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[h.jsxs("div",{className:"flex items-center justify-between text-xs font-mono tracking-widest uppercase",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-amber-350",children:e.cuisineStyle}),h.jsx("span",{className:"text-stone-700",children:"|"}),h.jsxs("span",{className:`flex items-center gap-1.5 ${re.text}`,children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${re.bg} animate-pulse`}),e.difficulty]})]}),h.jsxs("span",{className:"flex items-center gap-1 text-stone-400",children:[h.jsx(Us,{size:12})," ",e.totalTime]})]}),h.jsx("h1",{className:"text-3xl font-serif text-white leading-tight",children:e.title}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&h.jsxs("div",{className:"flex items-center gap-2 text-emerald-500/80 text-[10px] uppercase font-bold tracking-widest bg-emerald-950/20 border border-emerald-900/30 px-3 py-1 rounded-full w-fit",children:[h.jsx(iu,{size:12}),"Saved"]}),(O=e.constraints)==null?void 0:O.map(b=>h.jsx("div",{className:"flex items-center gap-2 text-red-400/80 text-[10px] uppercase font-bold tracking-widest bg-red-950/20 border border-red-900/30 px-3 py-1 rounded-full w-fit",children:b},b))]}),h.jsx("p",{className:"text-stone-400 leading-relaxed text-sm",children:e.description}),h.jsxs("div",{className:"bg-stone-800/50 p-4 rounded-xl border border-stone-800",children:[h.jsx("h3",{className:"text-stone-300 text-xs font-bold uppercase tracking-wider mb-3",children:"Ingredients (Tap to Check)"}),h.jsxs("ul",{className:"text-stone-400 text-sm space-y-2",children:[e.ingredientsFound.map((b,ye)=>{const Je=`found-${ye}`,ce=C.has(Je);return h.jsxs("li",{onClick:()=>q(Je),className:`flex items-center gap-3 cursor-pointer group transition-all duration-300 ${ce?"opacity-40":"opacity-100"}`,children:[ce?h.jsx(lu,{size:16,className:"text-amber-350"}):h.jsx(au,{size:16,className:"text-stone-600 group-hover:text-amber-350"}),h.jsx("span",{className:ce?"line-through decoration-stone-600":"",children:b})]},Je)}),e.pantryItemsNeeded.map((b,ye)=>{const Je=`pantry-${ye}`,ce=C.has(Je);return h.jsxs("li",{onClick:()=>q(Je),className:`flex items-center gap-3 cursor-pointer group transition-all duration-300 ${ce?"opacity-40":"opacity-100"}`,children:[ce?h.jsx(lu,{size:16,className:"text-stone-500"}):h.jsx(au,{size:16,className:"text-stone-600 group-hover:text-stone-400"}),h.jsxs("span",{className:`italic ${ce?"line-through decoration-stone-600 text-stone-600":"text-stone-500"}`,children:[b," (Pantry)"]})]},Je)})]})]})]})]},"overview")}const L=e.steps[i];return h.jsxs("div",{className:"h-full flex flex-col justify-center space-y-8 animate-slide-up",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("span",{className:"text-6xl font-serif text-amber-350/20 font-bold -ml-2 animate-fade-in",children:(i+1).toString().padStart(2,"0")}),h.jsx("div",{className:"h-px bg-stone-800 flex-1"}),L.duration&&h.jsx("span",{className:"text-xs font-mono text-stone-500 bg-stone-800 px-2 py-1 rounded",children:L.duration})]}),h.jsx("p",{className:"text-2xl md:text-3xl font-serif text-stone-100 leading-snug",children:L.instruction}),L.tip&&h.jsx("div",{className:"bg-amber-900/10 border-l-2 border-amber-350/50 p-4 rounded-r-lg animate-slide-right",style:{animationDelay:"0.3s"},children:h.jsxs("p",{className:"text-amber-350/80 text-sm italic",children:[h.jsx("span",{className:"font-bold not-italic mr-2",children:"Chef's Tip:"}),L.tip]})}),h.jsxs("button",{onClick:()=>ne(L.instruction+(L.tip?`. Tip: ${L.tip}`:"")),className:"self-start mt-4 px-4 py-2 rounded-full border border-stone-700 text-stone-400 hover:text-white hover:border-stone-500 transition-all flex items-center gap-2 text-sm",children:[g?h.jsx(uu,{size:16,className:"animate-pulse text-amber-350"}):h.jsx(du,{size:16}),g?"Stop":"Listen"]})]},i)};return h.jsxs("div",{className:"h-full flex flex-col max-w-2xl mx-auto w-full p-6 relative",children:[x&&h.jsxs("div",{className:"absolute inset-0 z-50 bg-stone-900/95 backdrop-blur-md p-6 flex flex-col animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h2",{className:"text-xl font-serif text-white",children:"Remix Recipe"}),h.jsx("button",{onClick:()=>_(!1),className:"p-2 bg-stone-800 rounded-full text-stone-400",children:h.jsx(Vs,{size:20})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Adjust your constraints and the Muse will re-invent this dish."}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:oS.map(L=>h.jsx("button",{onClick:()=>M(L),className:`p-3 rounded-xl border text-sm font-medium transition-all ${N.includes(L)?"bg-amber-350 border-amber-350 text-stone-900":"bg-stone-800 border-stone-700 text-stone-400 hover:border-stone-600"}`,children:L},L))})]}),h.jsxs("button",{onClick:V,className:"w-full py-4 bg-amber-350 text-stone-900 font-bold rounded-xl flex items-center justify-center gap-2 mt-4",children:[h.jsx(Fs,{size:18})," Regenerate Recipe"]})]}),h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("button",{onClick:t,className:"p-2 -ml-2 text-stone-500 hover:text-white transition-colors flex items-center gap-1 group",children:h.jsx(ai,{size:20,className:"group-hover:-translate-x-1 transition-transform"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>_(!0),className:`p-2 rounded-full transition-all ${N.includes("No Stove")?"bg-red-500/20 text-red-400 border border-red-500/50":"text-stone-500 hover:text-amber-350 hover:bg-stone-800"}`,title:"Remix / Adjust Constraints",children:h.jsx(Xf,{size:20})}),h.jsx("button",{onClick:()=>!r&&n(e),disabled:r,className:`p-2 rounded-full transition-all ${r?"text-emerald-500":"text-stone-500 hover:text-white hover:bg-stone-800"}`,title:r?"Saved to Cookbook":"Save Recipe",children:r?h.jsx(iu,{size:20}):h.jsx(bf,{size:20})}),h.jsx("button",{onClick:Te,className:"p-2 text-stone-500 hover:text-amber-350 hover:bg-stone-800 rounded-full transition-colors",title:"Enter Cooking Mode (Hands-free)",children:h.jsx(gg,{size:20})})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar py-4",children:G()}),h.jsxs("div",{className:"pt-6 mt-auto flex justify-between items-center",children:[h.jsx("button",{onClick:X,disabled:i===-1,className:`p-4 rounded-full border transition-all ${i===-1?"border-stone-800 text-stone-700":"border-stone-700 text-white hover:bg-stone-800"}`,children:h.jsx(su,{size:24})}),i===-1?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:Te,className:"px-6 py-3 border border-amber-350/30 text-amber-350 font-bold rounded-full hover:bg-amber-350/10 transition-colors flex items-center gap-2 text-xs",children:[h.jsx(Br,{size:14})," Hands-free"]}),h.jsxs("button",{onClick:Be,className:"px-6 py-3 bg-amber-350 text-stone-900 font-bold rounded-full hover:bg-amber-400 transition-colors shadow-lg shadow-amber-900/20 flex items-center gap-2 text-xs",children:["Start Cooking ",h.jsx(ho,{size:14})]})]}):h.jsx("button",{onClick:Be,disabled:i===e.steps.length-1,className:`p-4 rounded-full border transition-all ${i===e.steps.length-1?"border-stone-800 text-stone-700":"border-stone-700 text-white hover:bg-stone-800"}`,children:h.jsx(ho,{size:24})})]})]})},iS=({onStart:e,onAbout:t,onCookbook:n,onIngredientsInput:o})=>h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-hidden animate-fade-in",children:[h.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-900/10 rounded-full blur-[100px] pointer-events-none"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-20%] w-[500px] h-[500px] bg-stone-800/30 rounded-full blur-[80px] pointer-events-none"}),h.jsx("div",{className:"absolute top-[10%] left-[10%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),h.jsx("div",{className:"absolute top-[20%] right-[15%] text-3xl opacity-10 animate-float-delayed pointer-events-none",children:""}),h.jsx("div",{className:"absolute bottom-[20%] left-[15%] text-5xl opacity-5 animate-float-delayed pointer-events-none",children:""}),h.jsx("div",{className:"absolute bottom-[10%] right-[20%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center z-10",children:[h.jsxs("div",{className:"mb-10 relative",children:[h.jsx("div",{className:"absolute inset-0 bg-amber-350 blur-2xl opacity-20 rounded-full"}),h.jsx(rn,{className:"w-24 h-24 text-amber-350 relative z-10 drop-shadow-2xl animate-float",strokeWidth:1})]}),h.jsxs("h1",{className:"text-5xl md:text-7xl font-serif text-white mb-6 tracking-tight leading-none",children:["The Chef's ",h.jsx("span",{className:"text-amber-350 italic",children:"Muse"})]}),h.jsxs("p",{className:"text-stone-400 text-lg md:text-xl max-w-md font-light leading-relaxed mb-12",children:["Cooking with zero recipes.",h.jsx("br",{}),"Just chemistry, creativity, and ",h.jsx("span",{className:"text-stone-300",children:"what's in your fridge."})]}),h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsxs("button",{onClick:e,className:"group relative px-10 py-5 bg-stone-100 text-stone-950 rounded-full font-serif font-bold text-lg tracking-wide hover:bg-amber-350 transition-all duration-500 flex items-center gap-3 overflow-hidden shadow-[0_0_40px_rgba(255,255,255,0.1)] hover:shadow-[0_0_40px_rgba(217,185,100,0.4)] hover:scale-105",children:[h.jsx("span",{className:"relative z-10",children:"Open Your Fridge"}),h.jsx(sg,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),h.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out"})]}),h.jsx("button",{onClick:o,className:"text-amber-350/80 hover:text-amber-350 font-serif italic text-sm md:text-base border-b border-transparent hover:border-amber-350 transition-all pb-1",children:"I have ingredients, but no ideas..."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("button",{onClick:n,className:"text-stone-500 hover:text-white transition-colors text-xs uppercase tracking-widest flex items-center gap-2 py-2 px-4 rounded-full hover:bg-stone-900",children:[h.jsx(lg,{size:14}),"My Cookbook"]}),h.jsxs("button",{onClick:t,className:"text-stone-500 hover:text-white transition-colors text-xs uppercase tracking-widest flex items-center gap-2 py-2 px-4 rounded-full hover:bg-stone-900",children:[h.jsx(pg,{size:14}),"About"]})]})]})]}),h.jsxs("div",{className:"p-8 pb-12 w-full max-w-4xl mx-auto grid grid-cols-3 gap-4 text-center text-stone-600 text-[10px] md:text-xs tracking-[0.2em] uppercase font-medium",children:[h.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[h.jsx(Lo,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),h.jsx("span",{children:"AI Invention"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[h.jsx(cg,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),h.jsx("span",{children:"Visual Recognition"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[h.jsx(Br,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),h.jsx("span",{children:"Audio Guidance"})]})]})]}),sS=({onBack:e})=>h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-y-auto no-scrollbar animate-fade-in text-stone-300",children:[h.jsx("div",{className:"sticky top-0 z-20 p-6 bg-gradient-to-b from-stone-950 via-stone-950/90 to-transparent",children:h.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-500 hover:text-white transition-colors group",children:[h.jsx("div",{className:"p-2 rounded-full border border-stone-800 group-hover:bg-stone-800 transition-all",children:h.jsx(ai,{size:20})}),h.jsx("span",{className:"text-sm tracking-wide uppercase font-medium",children:"Back"})]})}),h.jsxs("div",{className:"max-w-3xl mx-auto px-6 pb-20 w-full",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("div",{className:"inline-block p-4 rounded-full bg-stone-900 border border-stone-800 mb-6 shadow-2xl",children:h.jsx(rn,{className:"w-12 h-12 text-amber-350",strokeWidth:1})}),h.jsxs("h1",{className:"text-4xl md:text-5xl font-serif text-white mb-4",children:["The Chef's ",h.jsx("span",{className:"text-amber-350 italic",children:"Muse"})]}),h.jsx("p",{className:"text-lg text-stone-500 font-light max-w-xl mx-auto",children:"Cooking with zero recipes. Just chemistry, intuition, and what's in your fridge."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-16",children:[h.jsxs("div",{className:"bg-stone-900/40 p-8 rounded-2xl border border-stone-800 hover:border-red-900/30 transition-colors",children:[h.jsxs("h3",{className:"text-xl font-serif text-white mb-4 flex items-center gap-2",children:[h.jsx(zl,{size:20,className:"text-red-400/80"}),h.jsx("span",{children:"The Problem"})]}),h.jsxs("p",{className:"leading-relaxed text-stone-400 text-sm",children:['"I have a weird mix of ingredientshalf an onion, leftover chicken, yogurtand no idea what to make."',h.jsx("br",{}),h.jsx("br",{}),"Standard recipe apps are too rigid. They force you to shop, not cook. They don't understand chaos."]})]}),h.jsxs("div",{className:"bg-stone-900/40 p-8 rounded-2xl border border-stone-800 hover:border-green-900/30 transition-colors",children:[h.jsxs("h3",{className:"text-xl font-serif text-white mb-4 flex items-center gap-2",children:[h.jsx(Lo,{size:20,className:"text-green-400/80"}),h.jsx("span",{children:"The Concept"})]}),h.jsxs("p",{className:"leading-relaxed text-stone-400 text-sm",children:["A culinary intelligence that understands flavor profiles at a chemical level.",h.jsx("br",{}),h.jsx("br",{}),"The Muse doesn't search a database. It ",h.jsx("span",{className:"text-amber-350/80",children:"invents"})," a custom guide specifically for your ingredients and your time constraints."]})]})]}),h.jsxs("div",{className:"mb-20",children:[h.jsx("h2",{className:"text-2xl font-serif text-white mb-8 text-center italic",children:"How the Muse Works"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(qi,{icon:h.jsx(Tg,{className:"text-amber-350"}),title:"Visual Recognition",desc:"Pan your camera across your shelves. The AI identifies ingredients instantlyeven the obscure ones."}),h.jsx(qi,{icon:h.jsx(ag,{className:"text-amber-350"}),title:"Contextual Understanding",desc:"Speak naturally. 'I want something spicy, and I have 20 minutes.' The Muse listens."}),h.jsx(qi,{icon:h.jsx(rn,{className:"text-amber-350"}),title:"Generative Synthesis",desc:"Using Gemini 3 Pro, it creates a dish that likely doesn't exist on the internet, tailored to your reality."})]})]}),h.jsxs("div",{className:"text-center bg-gradient-to-b from-amber-900/10 to-transparent p-10 rounded-3xl border border-amber-900/20",children:[h.jsx(bf,{className:"w-10 h-10 text-amber-350 mx-auto mb-6 opacity-80"}),h.jsx("h2",{className:"text-2xl font-serif text-white mb-4",children:"The Joy of Cooking"}),h.jsx("p",{className:"text-stone-400 max-w-lg mx-auto leading-relaxed text-sm",children:`Everyone eats. But not everyone knows how to improvise. The Chef's Muse bridges the gap between a cluttered pantry and a gourmet meal, turning the daily chore of "what's for dinner" into a moment of creative magic.`})]}),h.jsx("div",{className:"mt-12 text-center",children:h.jsx("button",{onClick:e,className:"text-amber-350 hover:text-amber-200 text-sm uppercase tracking-widest font-bold",children:"Close"})})]})]}),qi=({icon:e,title:t,desc:n})=>h.jsxs("div",{className:"flex items-start gap-5 p-6 rounded-xl bg-stone-900/20 border border-stone-800/50 hover:bg-stone-900/40 transition-colors",children:[h.jsx("div",{className:"mt-1 p-3 bg-stone-950 rounded-lg border border-stone-800",children:e}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-medium mb-1 font-serif text-lg",children:t}),h.jsx("p",{className:"text-stone-500 text-sm leading-relaxed",children:n})]})]}),lS=["Spicy","Comfort","Healthy","Quick","Gourmet","Rustic","Creamy","Zesty"],aS=[{text:"Spicy Late Night Snack",icon:h.jsx(fg,{size:14})},{text:"Healthy Breakfast",icon:h.jsx(ug,{size:14})},{text:"Quick Lunch",icon:h.jsx(Sg,{size:14})},{text:"Vegetarian Feast",icon:h.jsx(mg,{size:14})}],uS=({recipes:e,onSelectRecipe:t,onBack:n,onGenerateFromText:o,onDeleteRecipe:r})=>{const[i,l]=U.useState(""),u=U.useMemo(()=>{const d=i.toLowerCase();return e.filter(c=>c.title.toLowerCase().includes(d)||c.cuisineStyle.toLowerCase().includes(d)||c.ingredientsFound.some(f=>f.toLowerCase().includes(d))).sort((c,f)=>f.createdAt-c.createdAt)},[e,i]);return h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-hidden animate-fade-in text-stone-300",children:[h.jsxs("div",{className:"sticky top-0 z-20 p-6 bg-gradient-to-b from-stone-950 via-stone-950/95 to-transparent flex flex-col gap-4",children:[h.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-stone-500 hover:text-white transition-colors self-start group mb-2",children:[h.jsx("div",{className:"p-2 rounded-full border border-stone-800 group-hover:bg-stone-800 transition-all",children:h.jsx(ai,{size:18})}),h.jsx("span",{className:"text-sm tracking-wide uppercase font-medium",children:"Back"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h1",{className:"text-3xl font-serif text-white",children:["My ",h.jsx("span",{className:"text-amber-350 italic",children:"Cookbook"})]}),h.jsxs("span",{className:"text-stone-600 font-mono text-xs border border-stone-800 rounded-full px-3 py-1",children:[e.length," ",e.length===1?"Recipe":"Recipes"]})]}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:h.jsx(yg,{className:"h-5 w-5 text-stone-500 group-focus-within:text-amber-350 transition-colors"})}),h.jsx("input",{type:"text",className:"block w-full pl-11 pr-4 py-3 bg-stone-900 border border-stone-800 rounded-xl text-stone-200 placeholder-stone-600 focus:outline-none focus:border-amber-350/50 focus:ring-1 focus:ring-amber-350/20 transition-all",placeholder:"Search or type ingredients to invent...",value:i,onChange:d=>l(d.target.value)})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-20",children:[i.length>0&&h.jsxs("div",{className:"mb-8 animate-fade-in",children:[h.jsxs("button",{onClick:()=>o(i),className:"w-full mb-6 p-4 rounded-xl bg-gradient-to-r from-amber-900/40 to-stone-900 border border-amber-350/30 flex items-center justify-between group hover:border-amber-350/60 transition-all shadow-lg shadow-amber-900/10",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"p-3 bg-amber-350/10 rounded-full text-amber-350 border border-amber-350/20 group-hover:scale-110 transition-transform",children:h.jsx(Lo,{size:20})}),h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"text-stone-100 font-serif font-medium text-lg",children:"Invent a new recipe"}),h.jsxs("p",{className:"text-stone-400 text-xs",children:['Using "',h.jsx("span",{className:"text-amber-350",children:i}),'" as inspiration']})]})]}),h.jsx(ho,{className:"text-stone-600 group-hover:text-amber-350 transition-colors"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-stone-500 text-[10px] font-bold uppercase tracking-widest mb-3 pl-1",children:"Suggestions"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:lS.map(d=>h.jsxs("button",{onClick:()=>o(`${d} ${i}`),className:"px-4 py-2 rounded-full bg-stone-900 border border-stone-800 text-stone-400 text-xs hover:border-amber-350/50 hover:text-amber-350 hover:bg-stone-800 transition-all",children:[d," ",i]},d))})]}),h.jsx("div",{className:"h-px bg-stone-800 w-full my-6"})]}),u.length>0?h.jsx("div",{className:"grid gap-4",children:u.map(d=>h.jsxs("div",{onClick:()=>t(d),className:"group relative bg-stone-900/40 border border-stone-800 rounded-2xl p-5 hover:bg-stone-900 hover:border-amber-900/50 transition-all cursor-pointer overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h3",{className:"text-lg font-serif text-white group-hover:text-amber-350 transition-colors pr-4",children:d.title}),h.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded border ${d.difficulty==="Easy"?"border-green-900 text-green-500":d.difficulty==="Medium"?"border-yellow-900 text-yellow-500":"border-red-900 text-red-500"}`,children:d.difficulty})]}),h.jsx("p",{className:"text-stone-500 text-xs mb-4 line-clamp-2 leading-relaxed",children:d.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-stone-500 font-mono",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Us,{size:12})," ",d.totalTime]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(rn,{size:12})," ",d.cuisineStyle]})]}),h.jsxs("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity transform group-hover:translate-x-0 translate-x-2 flex gap-2",children:[h.jsx("button",{onClick:c=>{c.stopPropagation(),r==null||r(d.id,c)},className:"p-2 bg-stone-800 rounded-full text-stone-500 hover:text-red-500 hover:bg-stone-700 transition-colors",title:"Delete Recipe",children:h.jsx(Cg,{size:16})}),h.jsx("div",{className:"p-2 bg-stone-800 rounded-full text-amber-350",children:h.jsx(ho,{size:16})})]})]},d.id))}):h.jsx(h.Fragment,{children:i.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-10 text-center opacity-100",children:[h.jsxs("div",{className:"mb-8 opacity-50",children:[h.jsx(Lo,{className:"w-12 h-12 text-stone-700 mb-4 mx-auto",strokeWidth:1}),h.jsx("p",{className:"text-stone-500 font-serif text-lg",children:"Your cookbook is empty."}),h.jsx("p",{className:"text-stone-600 text-sm mt-2",children:"Start cooking to build your collection."})]}),h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsx("h4",{className:"text-stone-600 text-[10px] font-bold uppercase tracking-widest mb-4",children:"Try these ideas"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:aS.map(d=>h.jsxs("button",{onClick:()=>o(d.text),className:"flex items-center gap-2 p-3 rounded-lg border border-stone-800 bg-stone-900/30 hover:bg-stone-800 hover:border-amber-350/30 hover:text-amber-350 transition-all text-xs text-stone-400 text-left",children:[d.icon,d.text]},d.text))})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-center opacity-50",children:[h.jsxs("p",{className:"text-stone-600 text-sm",children:['No saved recipes match "',i,'".']}),h.jsx("p",{className:"text-stone-700 text-xs mt-1",children:"But you can invent one above!"})]})})]})]})},dS=({onBack:e,onSubmit:t})=>{const[n,o]=U.useState(""),r=()=>{n.trim().length>0&&t(n)},i=l=>{l.key==="Enter"&&l.metaKey&&r()};return h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col animate-fade-in text-stone-100 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-amber-900/5 rounded-full blur-[100px] pointer-events-none"}),h.jsxs("div",{className:"p-6 flex items-center justify-between relative z-10",children:[h.jsx("button",{onClick:e,className:"p-2 rounded-full border border-stone-800 hover:bg-stone-800 transition-colors text-stone-400 hover:text-white",children:h.jsx(ai,{size:20})}),h.jsxs("div",{className:"flex items-center gap-2 opacity-50",children:[h.jsx(rn,{size:16}),h.jsx("span",{className:"text-xs uppercase tracking-widest font-bold",children:"Kitchen Panel"})]}),h.jsx("div",{className:"w-10"})," "]}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 max-w-2xl mx-auto w-full relative z-10",children:[h.jsxs("div",{className:"text-center mb-8 space-y-2",children:[h.jsxs("h1",{className:"text-3xl md:text-5xl font-serif text-white",children:["What's in the ",h.jsx("span",{className:"text-amber-350",children:"pantry"}),"?"]}),h.jsxs("p",{className:"text-stone-500 text-sm md:text-base",children:["List your ingredients, leftovers, or specific cravings. ",h.jsx("br",{}),"We'll turn them into something gourmet."]})]}),h.jsxs("div",{className:"w-full relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-stone-800/10 rounded-2xl blur-sm transition-opacity opacity-0 group-focus-within:opacity-100"}),h.jsx("textarea",{value:n,onChange:l=>o(l.target.value),onKeyDown:i,placeholder:"I have: some slightly stale bread, 2 eggs, hot sauce, and half a lemon...",className:"w-full h-48 md:h-64 bg-stone-900/80 border border-stone-800 rounded-2xl p-6 text-lg text-white placeholder-stone-600 focus:outline-none focus:border-amber-350/50 focus:ring-1 focus:ring-amber-350/20 transition-all resize-none shadow-xl font-serif leading-relaxed relative z-10",autoFocus:!0}),h.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-stone-600 z-20 pointer-events-none",children:"CMD + Enter to submit"})]}),n.length>0&&n.length<10&&h.jsxs("div",{className:"mt-4 flex items-center gap-2 text-amber-500/80 text-xs animate-fade-in",children:[h.jsx(zl,{size:12}),h.jsx("span",{children:"Give the Muse a bit more to work with..."})]}),h.jsx("div",{className:"mt-8 w-full flex justify-center",children:h.jsxs("button",{onClick:r,disabled:n.trim().length===0,className:"group relative px-10 py-4 bg-stone-100 text-stone-950 rounded-full font-serif font-bold text-lg tracking-wide hover:bg-amber-350 disabled:opacity-50 disabled:hover:bg-stone-100 transition-all duration-300 flex items-center gap-3 shadow-lg hover:scale-105 hover:shadow-amber-900/20",children:[h.jsx(Lo,{className:"w-5 h-5 text-amber-600 group-hover:text-stone-900 transition-colors"}),h.jsx("span",{children:"Invent Recipe"})]})})]})]})};var Y=(e=>(e.LANDING="LANDING",e.ABOUT="ABOUT",e.COOKBOOK="COOKBOOK",e.IDLE="IDLE",e.RECORDING="RECORDING",e.PROCESSING="PROCESSING",e.RECIPE_VIEW="RECIPE_VIEW",e.INGREDIENTS_INPUT="INGREDIENTS_INPUT",e.ERROR="ERROR",e))(Y||{});const zi=["Tasting the air...","Consulting Grandma's secret stash...","Chopping onions (virtually)...","Checking the spice rack...","Inventing a new flavor...","Asking the stars for salt...","Simmering ideas...","Pairing flavors..."],cS=()=>{const[e,t]=U.useState(Y.LANDING),[n,o]=U.useState(null),[r,i]=U.useState([]),[l,u]=U.useState(null),[d,c]=U.useState(null),[f,p]=U.useState(null),[m,g]=U.useState(zi[0]),[E,T]=U.useState(!1),[w,v]=U.useState([]),[y,C]=U.useState(null),[S,x]=U.useState(void 0);U.useEffect(()=>{try{const F=localStorage.getItem("chefMuseHistory");F&&i(JSON.parse(F))}catch(F){console.error("Failed to load history",F)}},[]),U.useEffect(()=>{let F;if(e===Y.PROCESSING){let G=0;F=setInterval(()=>{G=(G+1)%zi.length,g(zi[G])},2500)}return()=>clearInterval(F)},[e]);const _=F=>{p(F),setTimeout(()=>p(null),3e3)},N=F=>{if(r.some(L=>L.id===F.id))return;const G=[F,...r];i(G),localStorage.setItem("chefMuseHistory",JSON.stringify(G)),T(!0),_("Recipe saved to Cookbook")},P=(F,G)=>{G&&G.stopPropagation();const L=r.filter(O=>O.id!==F);i(L),localStorage.setItem("chefMuseHistory",JSON.stringify(L)),_("Recipe removed")},A=async F=>{t(Y.PROCESSING),u(null),c(null),v(F.images),C(F.audio),x(void 0);try{const G=await Hi(F.images,F.audio,F.audioMimeType,void 0,F.constraints||[]);o(G),T(!1),t(Y.RECIPE_VIEW)}catch(G){J(G)}},I=async F=>{t(Y.PROCESSING),u(null),c(null),v([]),C(null),x(F);try{const G=await Hi([],null,void 0,F);o(G),T(!1),t(Y.RECIPE_VIEW)}catch(G){J(G)}},H=async F=>{t(Y.PROCESSING),u(null);try{const G=await Hi(w,y,void 0,S,F);o(G),T(!1),t(Y.RECIPE_VIEW)}catch(G){J(G)}},J=F=>{console.error("App Error:",F);let G="The Muse was silent.",L="We couldn't generate a recipe. Please try again.";const O=F.message||"";O.includes("API Key")?(G="Configuration Error",L="The API Key is missing. Please check the environment configuration."):O.includes("No response generated")||O.includes("Candidate was blocked")?(G="Inspiration blocked",L="The Muse couldn't understand the request or it was flagged. Try different wording."):O.includes("fetch")||O.includes("network")?(G="Connection Lost",L="Please check your internet connection and try again."):O.includes("JSON")&&(G="Creative Confusion",L="The Muse hallucinated an invalid format. Trying again usually fixes this."),u(G),c(L),t(Y.ERROR)},z=()=>{t(Y.IDLE),o(null),u(null)},ne=()=>{t(Y.IDLE)},Be=()=>{t(Y.ABOUT)},X=()=>{t(Y.COOKBOOK)},Te=()=>{t(Y.INGREDIENTS_INPUT)},M=F=>{o(F),T(!0),v([]),C(null),x(void 0),t(Y.RECIPE_VIEW)},V=()=>{t(Y.LANDING)},q=()=>{t(E?Y.COOKBOOK:Y.LANDING)};return h.jsx("div",{className:"h-screen w-full bg-stone-950 text-stone-100 flex flex-col overflow-hidden",children:h.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[e===Y.LANDING&&h.jsx("div",{className:"absolute inset-0 z-50 animate-fade-in",children:h.jsx(iS,{onStart:ne,onAbout:Be,onCookbook:X,onIngredientsInput:Te})}),e===Y.ABOUT&&h.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:h.jsx(sS,{onBack:V})}),e===Y.COOKBOOK&&h.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:h.jsx(uS,{recipes:r,onSelectRecipe:M,onBack:V,onGenerateFromText:I,onDeleteRecipe:P})}),e===Y.INGREDIENTS_INPUT&&h.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:h.jsx(dS,{onBack:V,onSubmit:I})}),(e===Y.IDLE||e===Y.RECORDING||e===Y.PROCESSING||e===Y.ERROR)&&h.jsx("div",{className:"absolute inset-0 transition-opacity duration-500 opacity-100",children:e===Y.ERROR?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center space-y-6 bg-stone-900 animate-fade-in",children:[h.jsx("div",{className:"p-4 bg-stone-800 rounded-full text-amber-350/50",children:h.jsx(zl,{size:48})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h2",{className:"text-2xl font-serif text-white",children:l}),h.jsx("p",{className:"text-stone-400 max-w-xs mx-auto text-sm leading-relaxed",children:d})]}),h.jsx("button",{onClick:z,className:"px-8 py-3 bg-stone-100 text-stone-900 font-bold rounded-full hover:bg-amber-350 transition-colors",children:"Try Again"})]}):h.jsxs(h.Fragment,{children:[h.jsx(_g,{onCapture:A,onBack:V,isProcessing:e===Y.PROCESSING}),e===Y.PROCESSING&&h.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center z-50 animate-fade-in",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-amber-350 blur-xl opacity-20 animate-pulse"}),h.jsx(hg,{className:"w-16 h-16 text-amber-350 animate-spin mb-6 relative z-10"})]}),h.jsxs("p",{className:"text-amber-350/90 font-serif italic text-xl animate-float min-h-[2rem] text-center px-4",children:['"',m,'"']})]})]})}),e===Y.RECIPE_VIEW&&n&&h.jsx("div",{className:"absolute inset-0 bg-stone-900 z-40 animate-fade-in",children:h.jsx(rS,{recipe:n,onBack:q,onSave:N,onRemix:H,isSaved:E})}),f&&h.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-[60] animate-slide-down",children:h.jsxs("div",{className:"bg-stone-800 text-stone-200 px-6 py-3 rounded-full shadow-xl border border-stone-700 flex items-center gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-350 animate-pulse"}),h.jsx("span",{className:"text-sm font-medium",children:f})]})})]})})},Ap=document.getElementById("root");if(!Ap)throw new Error("Could not find root element to mount to");const fS=Bi.createRoot(Ap);fS.render(h.jsx(Wp.StrictMode,{children:h.jsx(cS,{})}));
