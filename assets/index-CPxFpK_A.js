var dm=Object.defineProperty;var fm=(e,t,n)=>t in e?dm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ht=(e,t,n)=>fm(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fd={exports:{}},ui={},pd={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),pm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),vm=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Em=Symbol.for("react.memo"),Sm=Symbol.for("react.lazy"),Ea=Symbol.iterator;function xm(e){return e===null||typeof e!="object"?null:(e=Ea&&e[Ea]||e["@@iterator"],typeof e=="function"?e:null)}var md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hd=Object.assign,gd={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=gd,this.updater=n||md}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yd(){}yd.prototype=Yn.prototype;function yl(e,t,n){this.props=e,this.context=t,this.refs=gd,this.updater=n||md}var vl=yl.prototype=new yd;vl.constructor=yl;hd(vl,Yn.prototype);vl.isPureReactComponent=!0;var Sa=Array.isArray,vd=Object.prototype.hasOwnProperty,Tl={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function Cd(e,t,n){var o,r={},i=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)vd.call(t,o)&&!Td.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Ko,type:e,key:i,ref:l,props:r,_owner:Tl.current}}function _m(e,t){return{$$typeof:Ko,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ko}function Im(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xa=/\/+/g;function Pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Im(""+e.key):t.toString(36)}function yr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ko:case pm:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+Pi(l,0):o,Sa(r)?(n="",e!=null&&(n=e.replace(xa,"$&/")+"/"),yr(r,t,n,"",function(d){return d})):r!=null&&(Cl(r)&&(r=_m(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(xa,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",Sa(e))for(var u=0;u<e.length;u++){i=e[u];var c=o+Pi(i,u);l+=yr(i,t,n,c,r)}else if(c=xm(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=o+Pi(i,u++),l+=yr(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Zo(e,t,n){if(e==null)return e;var o=[],r=0;return yr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},vr={transition:null},Am={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:vr,ReactCurrentOwner:Tl};function Ed(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Zo,forEach:function(e,t,n){Zo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zo(e,function(){t++}),t},toArray:function(e){return Zo(e,function(t){return t})||[]},only:function(e){if(!Cl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Yn;z.Fragment=mm;z.Profiler=gm;z.PureComponent=yl;z.StrictMode=hm;z.Suspense=Cm;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;z.act=Ed;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=hd({},e.props),r=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Tl.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)vd.call(t,c)&&!Td.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Ko,type:e.type,key:r,ref:i,props:o,_owner:l}};z.createContext=function(e){return e={$$typeof:vm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ym,_context:e},e.Consumer=e};z.createElement=Cd;z.createFactory=function(e){var t=Cd.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:Tm,render:e}};z.isValidElement=Cl;z.lazy=function(e){return{$$typeof:Sm,_payload:{_status:-1,_result:e},_init:wm}};z.memo=function(e,t){return{$$typeof:Em,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=vr.transition;vr.transition={};try{e()}finally{vr.transition=t}};z.unstable_act=Ed;z.useCallback=function(e,t){return ke.current.useCallback(e,t)};z.useContext=function(e){return ke.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};z.useEffect=function(e,t){return ke.current.useEffect(e,t)};z.useId=function(){return ke.current.useId()};z.useImperativeHandle=function(e,t,n){return ke.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return ke.current.useMemo(e,t)};z.useReducer=function(e,t,n){return ke.current.useReducer(e,t,n)};z.useRef=function(e){return ke.current.useRef(e)};z.useState=function(e){return ke.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return ke.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return ke.current.useTransition()};z.version="18.3.1";pd.exports=z;var U=pd.exports;const vt=ai(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=U,Rm=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),km=Object.prototype.hasOwnProperty,Mm=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dm={key:!0,ref:!0,__self:!0,__source:!0};function Sd(e,t,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)km.call(t,o)&&!Dm.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:Rm,type:e,key:i,ref:l,props:r,_owner:Mm.current}}ui.Fragment=Pm;ui.jsx=Sd;ui.jsxs=Sd;fd.exports=ui;var h=fd.exports,as={},xd={exports:{}},Be={},_d={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,H){var q=M.length;M.push(H);e:for(;0<q;){var j=q-1>>>1,F=M[j];if(0<r(F,H))M[j]=H,M[q]=F,q=j;else break e}}function n(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var H=M[0],q=M.pop();if(q!==H){M[0]=q;e:for(var j=0,F=M.length,$=F>>>1;j<$;){var D=2*(j+1)-1,Y=M[D],b=D+1,B=M[b];if(0>r(Y,q))b<F&&0>r(B,Y)?(M[j]=B,M[b]=q,j=b):(M[j]=Y,M[D]=q,j=D);else if(b<F&&0>r(B,q))M[j]=B,M[b]=q,j=b;else break e}}return H}function r(M,H){var q=M.sortIndex-H.sortIndex;return q!==0?q:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,p=null,m=3,g=!1,C=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var H=n(d);H!==null;){if(H.callback===null)o(d);else if(H.startTime<=M)o(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(d)}}function S(M){if(E=!1,T(M),!C)if(n(c)!==null)C=!0,Z(x);else{var H=n(d);H!==null&&Ee(S,H.startTime-M)}}function x(M,H){C=!1,E&&(E=!1,v(P),P=-1),g=!0;var q=m;try{for(T(H),p=n(c);p!==null&&(!(p.expirationTime>H)||M&&!V());){var j=p.callback;if(typeof j=="function"){p.callback=null,m=p.priorityLevel;var F=j(p.expirationTime<=H);H=e.unstable_now(),typeof F=="function"?p.callback=F:p===n(c)&&o(c),T(H)}else o(c);p=n(c)}if(p!==null)var $=!0;else{var D=n(d);D!==null&&Ee(S,D.startTime-H),$=!1}return $}finally{p=null,m=q,g=!1}}var I=!1,w=null,P=-1,N=5,A=-1;function V(){return!(e.unstable_now()-A<N)}function X(){if(w!==null){var M=e.unstable_now();A=M;var H=!0;try{H=w(!0,M)}finally{H?G():(I=!1,w=null)}}else I=!1}var G;if(typeof y=="function")G=function(){y(X)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Je=re.port2;re.port1.onmessage=X,G=function(){Je.postMessage(null)}}else G=function(){_(X,0)};function Z(M){w=M,I||(I=!0,G())}function Ee(M,H){P=_(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){C||g||(C=!0,Z(x))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var q=m;m=H;try{return M()}finally{m=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=m;m=M;try{return H()}finally{m=q}},e.unstable_scheduleCallback=function(M,H,q){var j=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?j+q:j):q=j,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,M={id:f++,callback:H,priorityLevel:M,startTime:q,expirationTime:F,sortIndex:-1},q>j?(M.sortIndex=q,t(d,M),n(c)===null&&M===n(d)&&(E?(v(P),P=-1):E=!0,Ee(S,q-j))):(M.sortIndex=F,t(c,M),C||g||(C=!0,Z(x))),M},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(M){var H=m;return function(){var q=m;m=H;try{return M.apply(this,arguments)}finally{m=q}}}})(Id);_d.exports=Id;var Lm=_d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=U,ze=Lm;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wd=new Set,No={};function fn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(No[e]=t,e=0;e<t.length;e++)wd.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=Object.prototype.hasOwnProperty,Fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a={},Ia={};function Vm(e){return us.call(Ia,e)?!0:us.call(_a,e)?!1:Fm.test(e)?Ia[e]=!0:(_a[e]=!0,!1)}function Gm(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hm(e,t,n,o){if(t===null||typeof t>"u"||Gm(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,o,r,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(El,Sl);Ce[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(El,Sl);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(El,Sl);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function xl(e,t,n,o){var r=Ce.hasOwnProperty(t)?Ce[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hm(t,n,r,o)&&(n=null),o||r===null?Vm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var At=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),cs=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),Il=Symbol.for("react.forward_ref"),ds=Symbol.for("react.suspense"),fs=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),wa=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=wa&&e[wa]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,ki;function po(e){if(ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ki=t&&t[1]||""}return`
`+ki+e}var Mi=!1;function Di(e,t){if(!e||Mi)return"";Mi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var o=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){o=d}e.call(t.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Mi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?po(e):""}function qm(e){switch(e.tag){case 5:return po(e.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return e=Di(e.type,!1),e;case 11:return e=Di(e.type.render,!1),e;case 1:return e=Di(e.type,!0),e;default:return""}}function ps(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vn:return"Fragment";case yn:return"Portal";case cs:return"Profiler";case _l:return"StrictMode";case ds:return"Suspense";case fs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nd:return(e.displayName||"Context")+".Consumer";case Ad:return(e._context.displayName||"Context")+".Provider";case Il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wl:return t=e.displayName||null,t!==null?t:ps(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return ps(e(t))}catch{}}return null}function zm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ps(t);case 8:return t===_l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bm(e){var t=Pd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function er(e){e._valueTracker||(e._valueTracker=Bm(e))}function kd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Pd(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ms(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Aa(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=Ot(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Md(e,t){t=t.checked,t!=null&&xl(e,"checked",t,!1)}function hs(e,t){Md(e,t);var n=Ot(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gs(e,t.type,n):t.hasOwnProperty("defaultValue")&&gs(e,t.type,Ot(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Na(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gs(e,t,n){(t!=="number"||Dr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mo=Array.isArray;function Pn(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Ot(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ys(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(mo(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ot(n)}}function Dd(e,t){var n=Ot(t.value),o=Ot(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Pa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ld(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ld(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tr,Ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$m=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(e){$m.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yo[t]=yo[e]})});function Fd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yo.hasOwnProperty(e)&&yo[e]?(""+t).trim():t+"px"}function Vd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Fd(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var Jm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ts(e,t){if(t){if(Jm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Cs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function Al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,kn=null,Mn=null;function ka(e){if(e=Qo(e)){if(typeof Ss!="function")throw Error(R(280));var t=e.stateNode;t&&(t=mi(t),Ss(e.stateNode,e.type,t))}}function Gd(e){kn?Mn?Mn.push(e):Mn=[e]:kn=e}function Hd(){if(kn){var e=kn,t=Mn;if(Mn=kn=null,ka(e),t)for(e=0;e<t.length;e++)ka(t[e])}}function qd(e,t){return e(t)}function zd(){}var Li=!1;function Bd(e,t,n){if(Li)return e(t,n);Li=!0;try{return qd(e,t,n)}finally{Li=!1,(kn!==null||Mn!==null)&&(zd(),Hd())}}function Po(e,t){var n=e.stateNode;if(n===null)return null;var o=mi(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var xs=!1;if(St)try{var no={};Object.defineProperty(no,"passive",{get:function(){xs=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{xs=!1}function Om(e,t,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var vo=!1,Lr=null,Ur=!1,_s=null,Wm={onError:function(e){vo=!0,Lr=e}};function Km(e,t,n,o,r,i,l,u,c){vo=!1,Lr=null,Om.apply(Wm,arguments)}function Ym(e,t,n,o,r,i,l,u,c){if(Km.apply(this,arguments),vo){if(vo){var d=Lr;vo=!1,Lr=null}else throw Error(R(198));Ur||(Ur=!0,_s=d)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ma(e){if(pn(e)!==e)throw Error(R(188))}function bm(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ma(r),e;if(i===o)return Ma(r),t;i=i.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Jd(e){return e=bm(e),e!==null?Od(e):null}function Od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Od(e);if(t!==null)return t;e=e.sibling}return null}var Wd=ze.unstable_scheduleCallback,Da=ze.unstable_cancelCallback,Qm=ze.unstable_shouldYield,Xm=ze.unstable_requestPaint,de=ze.unstable_now,Zm=ze.unstable_getCurrentPriorityLevel,Nl=ze.unstable_ImmediatePriority,Kd=ze.unstable_UserBlockingPriority,Fr=ze.unstable_NormalPriority,jm=ze.unstable_LowPriority,Yd=ze.unstable_IdlePriority,ci=null,ft=null;function eh(e){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ci,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:oh,th=Math.log,nh=Math.LN2;function oh(e){return e>>>=0,e===0?32:31-(th(e)/nh|0)|0}var nr=64,or=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vr(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=ho(u):(i&=l,i!==0&&(o=ho(i)))}else l=n&~r,l!==0?o=ho(l):i!==0&&(o=ho(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-rt(t),r=1<<n,o|=e[n],t&=~r;return o}function rh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-rt(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=rh(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bd(){var e=nr;return nr<<=1,!(nr&4194240)&&(nr=64),e}function Ui(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function sh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-rt(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function Rl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-rt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var Q=0;function Qd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xd,Pl,Zd,jd,ef,ws=!1,rr=[],Vt=null,Gt=null,Ht=null,ko=new Map,Mo=new Map,Dt=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(t.pointerId)}}function oo(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Qo(t),t!==null&&Pl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ah(e,t,n,o,r){switch(t){case"focusin":return Vt=oo(Vt,e,t,n,o,r),!0;case"dragenter":return Gt=oo(Gt,e,t,n,o,r),!0;case"mouseover":return Ht=oo(Ht,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return ko.set(i,oo(ko.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Mo.set(i,oo(Mo.get(i)||null,e,t,n,o,r)),!0}return!1}function tf(e){var t=jt(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=$d(n),t!==null){e.blockedOn=t,ef(e.priority,function(){Zd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=As(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Es=o,n.target.dispatchEvent(o),Es=null}else return t=Qo(n),t!==null&&Pl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ua(e,t,n){Tr(e)&&n.delete(t)}function uh(){ws=!1,Vt!==null&&Tr(Vt)&&(Vt=null),Gt!==null&&Tr(Gt)&&(Gt=null),Ht!==null&&Tr(Ht)&&(Ht=null),ko.forEach(Ua),Mo.forEach(Ua)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,ws||(ws=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,uh)))}function Do(e){function t(r){return ro(r,e)}if(0<rr.length){ro(rr[0],e);for(var n=1;n<rr.length;n++){var o=rr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Vt!==null&&ro(Vt,e),Gt!==null&&ro(Gt,e),Ht!==null&&ro(Ht,e),ko.forEach(t),Mo.forEach(t),n=0;n<Dt.length;n++)o=Dt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)tf(n),n.blockedOn===null&&Dt.shift()}var Dn=At.ReactCurrentBatchConfig,Gr=!0;function ch(e,t,n,o){var r=Q,i=Dn.transition;Dn.transition=null;try{Q=1,kl(e,t,n,o)}finally{Q=r,Dn.transition=i}}function dh(e,t,n,o){var r=Q,i=Dn.transition;Dn.transition=null;try{Q=4,kl(e,t,n,o)}finally{Q=r,Dn.transition=i}}function kl(e,t,n,o){if(Gr){var r=As(e,t,n,o);if(r===null)Oi(e,t,o,Hr,n),La(e,o);else if(ah(r,e,t,n,o))o.stopPropagation();else if(La(e,o),t&4&&-1<lh.indexOf(e)){for(;r!==null;){var i=Qo(r);if(i!==null&&Xd(i),i=As(e,t,n,o),i===null&&Oi(e,t,o,Hr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Oi(e,t,o,null,n)}}var Hr=null;function As(e,t,n,o){if(Hr=null,e=Al(o),e=jt(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hr=e,null}function nf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case Nl:return 1;case Kd:return 4;case Fr:case jm:return 16;case Yd:return 536870912;default:return 16}default:return 16}}var Ut=null,Ml=null,Cr=null;function of(){if(Cr)return Cr;var e,t=Ml,n=t.length,o,r="value"in Ut?Ut.value:Ut.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[i-o];o++);return Cr=r.slice(e,1<o?1-o:void 0)}function Er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ir(){return!0}function Fa(){return!1}function $e(e){function t(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ir:Fa,this.isPropagationStopped=Fa,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=$e(bn),bo=ue({},bn,{view:0,detail:0}),fh=$e(bo),Fi,Vi,io,di=ue({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==io&&(io&&e.type==="mousemove"?(Fi=e.screenX-io.screenX,Vi=e.screenY-io.screenY):Vi=Fi=0,io=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Vi}}),Va=$e(di),ph=ue({},di,{dataTransfer:0}),mh=$e(ph),hh=ue({},bo,{relatedTarget:0}),Gi=$e(hh),gh=ue({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),yh=$e(gh),vh=ue({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Th=$e(vh),Ch=ue({},bn,{data:0}),Ga=$e(Ch),Eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xh[e])?!!t[e]:!1}function Ll(){return _h}var Ih=ue({},bo,{key:function(e){if(e.key){var t=Eh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wh=$e(Ih),Ah=ue({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=$e(Ah),Nh=ue({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Rh=$e(Nh),Ph=ue({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=$e(Ph),Mh=ue({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dh=$e(Mh),Lh=[9,13,27,32],Ul=St&&"CompositionEvent"in window,To=null;St&&"documentMode"in document&&(To=document.documentMode);var Uh=St&&"TextEvent"in window&&!To,rf=St&&(!Ul||To&&8<To&&11>=To),qa=" ",za=!1;function sf(e,t){switch(e){case"keyup":return Lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function Fh(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(za=!0,qa);case"textInput":return e=t.data,e===qa&&za?null:e;default:return null}}function Vh(e,t){if(Tn)return e==="compositionend"||!Ul&&sf(e,t)?(e=of(),Cr=Ml=Ut=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var Gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gh[e.type]:t==="textarea"}function af(e,t,n,o){Gd(o),t=qr(t,"onChange"),0<t.length&&(n=new Dl("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Co=null,Lo=null;function Hh(e){Tf(e,0)}function fi(e){var t=Sn(e);if(kd(t))return e}function qh(e,t){if(e==="change")return t}var uf=!1;if(St){var Hi;if(St){var qi="oninput"in document;if(!qi){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),qi=typeof $a.oninput=="function"}Hi=qi}else Hi=!1;uf=Hi&&(!document.documentMode||9<document.documentMode)}function Ja(){Co&&(Co.detachEvent("onpropertychange",cf),Lo=Co=null)}function cf(e){if(e.propertyName==="value"&&fi(Lo)){var t=[];af(t,Lo,e,Al(e)),Bd(Hh,t)}}function zh(e,t,n){e==="focusin"?(Ja(),Co=t,Lo=n,Co.attachEvent("onpropertychange",cf)):e==="focusout"&&Ja()}function Bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(Lo)}function $h(e,t){if(e==="click")return fi(t)}function Jh(e,t){if(e==="input"||e==="change")return fi(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Oh;function Uo(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!us.call(t,r)||!st(e[r],t[r]))return!1}return!0}function Oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wa(e,t){var n=Oa(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oa(n)}}function df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Dr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dr(e.document)}return t}function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wh(e){var t=ff(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&df(n.ownerDocument.documentElement,n)){if(o!==null&&Fl(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=Wa(n,i);var l=Wa(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kh=St&&"documentMode"in document&&11>=document.documentMode,Cn=null,Ns=null,Eo=null,Rs=!1;function Ka(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rs||Cn==null||Cn!==Dr(o)||(o=Cn,"selectionStart"in o&&Fl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Eo&&Uo(Eo,o)||(Eo=o,o=qr(Ns,"onSelect"),0<o.length&&(t=new Dl("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Cn)))}function sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var En={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionend:sr("Transition","TransitionEnd")},zi={},pf={};St&&(pf=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function pi(e){if(zi[e])return zi[e];if(!En[e])return e;var t=En[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pf)return zi[e]=t[n];return e}var mf=pi("animationend"),hf=pi("animationiteration"),gf=pi("animationstart"),yf=pi("transitionend"),vf=new Map,Ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){vf.set(e,t),fn(t,[e])}for(var Bi=0;Bi<Ya.length;Bi++){var $i=Ya[Bi],Yh=$i.toLowerCase(),bh=$i[0].toUpperCase()+$i.slice(1);Kt(Yh,"on"+bh)}Kt(mf,"onAnimationEnd");Kt(hf,"onAnimationIteration");Kt(gf,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(yf,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function ba(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Ym(o,t,void 0,e),e.currentTarget=null}function Tf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;ba(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;ba(r,u,d),i=c}}}if(Ur)throw e=_s,Ur=!1,_s=null,e}function te(e,t){var n=t[Ls];n===void 0&&(n=t[Ls]=new Set);var o=e+"__bubble";n.has(o)||(Cf(t,e,2,!1),n.add(o))}function Ji(e,t,n){var o=0;t&&(o|=4),Cf(n,e,o,t)}var lr="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[lr]){e[lr]=!0,wd.forEach(function(n){n!=="selectionchange"&&(Qh.has(n)||Ji(n,!1,e),Ji(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lr]||(t[lr]=!0,Ji("selectionchange",!1,t))}}function Cf(e,t,n,o){switch(nf(t)){case 1:var r=ch;break;case 4:r=dh;break;default:r=kl}n=r.bind(null,t,n,e),r=void 0,!xs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Oi(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=jt(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}Bd(function(){var d=i,f=Al(n),p=[];e:{var m=vf.get(e);if(m!==void 0){var g=Dl,C=e;switch(e){case"keypress":if(Er(n)===0)break e;case"keydown":case"keyup":g=wh;break;case"focusin":C="focus",g=Gi;break;case"focusout":C="blur",g=Gi;break;case"beforeblur":case"afterblur":g=Gi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Rh;break;case mf:case hf:case gf:g=yh;break;case yf:g=kh;break;case"scroll":g=fh;break;case"wheel":g=Dh;break;case"copy":case"cut":case"paste":g=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ha}var E=(t&4)!==0,_=!E&&e==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var y=d,T;y!==null;){T=y;var S=T.stateNode;if(T.tag===5&&S!==null&&(T=S,v!==null&&(S=Po(y,v),S!=null&&E.push(Vo(y,S,T)))),_)break;y=y.return}0<E.length&&(m=new g(m,C,null,n,f),p.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Es&&(C=n.relatedTarget||n.fromElement)&&(jt(C)||C[xt]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=d,C=C?jt(C):null,C!==null&&(_=pn(C),C!==_||C.tag!==5&&C.tag!==6)&&(C=null)):(g=null,C=d),g!==C)){if(E=Va,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=Ha,S="onPointerLeave",v="onPointerEnter",y="pointer"),_=g==null?m:Sn(g),T=C==null?m:Sn(C),m=new E(S,y+"leave",g,n,f),m.target=_,m.relatedTarget=T,S=null,jt(f)===d&&(E=new E(v,y+"enter",C,n,f),E.target=T,E.relatedTarget=_,S=E),_=S,g&&C)t:{for(E=g,v=C,y=0,T=E;T;T=hn(T))y++;for(T=0,S=v;S;S=hn(S))T++;for(;0<y-T;)E=hn(E),y--;for(;0<T-y;)v=hn(v),T--;for(;y--;){if(E===v||v!==null&&E===v.alternate)break t;E=hn(E),v=hn(v)}E=null}else E=null;g!==null&&Qa(p,m,g,E,!1),C!==null&&_!==null&&Qa(p,_,C,E,!0)}}e:{if(m=d?Sn(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var x=qh;else if(Ba(m))if(uf)x=Jh;else{x=Bh;var I=zh}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=$h);if(x&&(x=x(e,d))){af(p,x,n,f);break e}I&&I(e,m,d),e==="focusout"&&(I=m._wrapperState)&&I.controlled&&m.type==="number"&&gs(m,"number",m.value)}switch(I=d?Sn(d):window,e){case"focusin":(Ba(I)||I.contentEditable==="true")&&(Cn=I,Ns=d,Eo=null);break;case"focusout":Eo=Ns=Cn=null;break;case"mousedown":Rs=!0;break;case"contextmenu":case"mouseup":case"dragend":Rs=!1,Ka(p,n,f);break;case"selectionchange":if(Kh)break;case"keydown":case"keyup":Ka(p,n,f)}var w;if(Ul)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Tn?sf(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(rf&&n.locale!=="ko"&&(Tn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Tn&&(w=of()):(Ut=f,Ml="value"in Ut?Ut.value:Ut.textContent,Tn=!0)),I=qr(d,P),0<I.length&&(P=new Ga(P,e,null,n,f),p.push({event:P,listeners:I}),w?P.data=w:(w=lf(n),w!==null&&(P.data=w)))),(w=Uh?Fh(e,n):Vh(e,n))&&(d=qr(d,"onBeforeInput"),0<d.length&&(f=new Ga("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=w))}Tf(p,t)})}function Vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Po(e,n),i!=null&&o.unshift(Vo(e,i,r)),i=Po(e,t),i!=null&&o.push(Vo(e,i,r))),e=e.return}return o}function hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qa(e,t,n,o,r){for(var i=t._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=Po(n,i),c!=null&&l.unshift(Vo(n,c,u))):r||(c=Po(n,i),c!=null&&l.push(Vo(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Xh=/\r\n?/g,Zh=/\u0000|\uFFFD/g;function Xa(e){return(typeof e=="string"?e:""+e).replace(Xh,`
`).replace(Zh,"")}function ar(e,t,n){if(t=Xa(t),Xa(e)!==t&&n)throw Error(R(425))}function zr(){}var Ps=null,ks=null;function Ms(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ds=typeof setTimeout=="function"?setTimeout:void 0,jh=typeof clearTimeout=="function"?clearTimeout:void 0,Za=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Za<"u"?function(e){return Za.resolve(null).then(e).catch(tg)}:Ds;function tg(e){setTimeout(function(){throw e})}function Wi(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Do(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Do(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ja(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Qn,Go="__reactProps$"+Qn,xt="__reactContainer$"+Qn,Ls="__reactEvents$"+Qn,ng="__reactListeners$"+Qn,og="__reactHandles$"+Qn;function jt(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ja(e);e!==null;){if(n=e[dt])return n;e=ja(e)}return t}e=n,n=e.parentNode}return null}function Qo(e){return e=e[dt]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function mi(e){return e[Go]||null}var Us=[],xn=-1;function Yt(e){return{current:e}}function oe(e){0>xn||(e.current=Us[xn],Us[xn]=null,xn--)}function ee(e,t){xn++,Us[xn]=e.current,e.current=t}var Wt={},Ne=Yt(Wt),Ue=Yt(!1),sn=Wt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Wt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Fe(e){return e=e.childContextTypes,e!=null}function Br(){oe(Ue),oe(Ne)}function eu(e,t,n){if(Ne.current!==Wt)throw Error(R(168));ee(Ne,t),ee(Ue,n)}function Ef(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(R(108,zm(e)||"Unknown",r));return ue({},n,o)}function $r(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wt,sn=Ne.current,ee(Ne,e),ee(Ue,Ue.current),!0}function tu(e,t,n){var o=e.stateNode;if(!o)throw Error(R(169));n?(e=Ef(e,t,sn),o.__reactInternalMemoizedMergedChildContext=e,oe(Ue),oe(Ne),ee(Ne,e)):oe(Ue),ee(Ue,n)}var yt=null,hi=!1,Ki=!1;function Sf(e){yt===null?yt=[e]:yt.push(e)}function rg(e){hi=!0,Sf(e)}function bt(){if(!Ki&&yt!==null){Ki=!0;var e=0,t=Q;try{var n=yt;for(Q=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}yt=null,hi=!1}catch(r){throw yt!==null&&(yt=yt.slice(e+1)),Wd(Nl,bt),r}finally{Q=t,Ki=!1}}return null}var _n=[],In=0,Jr=null,Or=0,We=[],Ke=0,ln=null,Tt=1,Ct="";function Xt(e,t){_n[In++]=Or,_n[In++]=Jr,Jr=e,Or=t}function xf(e,t,n){We[Ke++]=Tt,We[Ke++]=Ct,We[Ke++]=ln,ln=e;var o=Tt;e=Ct;var r=32-rt(o)-1;o&=~(1<<r),n+=1;var i=32-rt(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Tt=1<<32-rt(t)+r|n<<r|o,Ct=i+e}else Tt=1<<i|n<<r|o,Ct=e}function Vl(e){e.return!==null&&(Xt(e,1),xf(e,1,0))}function Gl(e){for(;e===Jr;)Jr=_n[--In],_n[In]=null,Or=_n[--In],_n[In]=null;for(;e===ln;)ln=We[--Ke],We[Ke]=null,Ct=We[--Ke],We[Ke]=null,Tt=We[--Ke],We[Ke]=null}var qe=null,He=null,ie=!1,nt=null;function _f(e,t){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,He=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ln!==null?{id:Tt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,He=null,!0):!1;default:return!1}}function Fs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vs(e){if(ie){var t=He;if(t){var n=t;if(!nu(e,t)){if(Fs(e))throw Error(R(418));t=qt(n.nextSibling);var o=qe;t&&nu(e,t)?_f(o,n):(e.flags=e.flags&-4097|2,ie=!1,qe=e)}}else{if(Fs(e))throw Error(R(418));e.flags=e.flags&-4097|2,ie=!1,qe=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function ur(e){if(e!==qe)return!1;if(!ie)return ou(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ms(e.type,e.memoizedProps)),t&&(t=He)){if(Fs(e))throw If(),Error(R(418));for(;t;)_f(e,t),t=qt(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=qe?qt(e.stateNode.nextSibling):null;return!0}function If(){for(var e=He;e;)e=qt(e.nextSibling)}function $n(){He=qe=null,ie=!1}function Hl(e){nt===null?nt=[e]:nt.push(e)}var ig=At.ReactCurrentBatchConfig;function so(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function cr(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function wf(e){function t(v,y){if(e){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Jt(v,y),v.index=0,v.sibling=null,v}function i(v,y,T){return v.index=T,e?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=2,y):T):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,y,T,S){return y===null||y.tag!==6?(y=es(T,v.mode,S),y.return=v,y):(y=r(y,T),y.return=v,y)}function c(v,y,T,S){var x=T.type;return x===vn?f(v,y,T.props.children,S,T.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===kt&&ru(x)===y.type)?(S=r(y,T.props),S.ref=so(v,y,T),S.return=v,S):(S=Nr(T.type,T.key,T.props,null,v.mode,S),S.ref=so(v,y,T),S.return=v,S)}function d(v,y,T,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=ts(T,v.mode,S),y.return=v,y):(y=r(y,T.children||[]),y.return=v,y)}function f(v,y,T,S,x){return y===null||y.tag!==7?(y=rn(T,v.mode,S,x),y.return=v,y):(y=r(y,T),y.return=v,y)}function p(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=es(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:return T=Nr(y.type,y.key,y.props,null,v.mode,T),T.ref=so(v,null,y),T.return=v,T;case yn:return y=ts(y,v.mode,T),y.return=v,y;case kt:var S=y._init;return p(v,S(y._payload),T)}if(mo(y)||to(y))return y=rn(y,v.mode,T,null),y.return=v,y;cr(v,y)}return null}function m(v,y,T,S){var x=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return x!==null?null:u(v,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jo:return T.key===x?c(v,y,T,S):null;case yn:return T.key===x?d(v,y,T,S):null;case kt:return x=T._init,m(v,y,x(T._payload),S)}if(mo(T)||to(T))return x!==null?null:f(v,y,T,S,null);cr(v,T)}return null}function g(v,y,T,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(T)||null,u(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jo:return v=v.get(S.key===null?T:S.key)||null,c(y,v,S,x);case yn:return v=v.get(S.key===null?T:S.key)||null,d(y,v,S,x);case kt:var I=S._init;return g(v,y,T,I(S._payload),x)}if(mo(S)||to(S))return v=v.get(T)||null,f(y,v,S,x,null);cr(y,S)}return null}function C(v,y,T,S){for(var x=null,I=null,w=y,P=y=0,N=null;w!==null&&P<T.length;P++){w.index>P?(N=w,w=null):N=w.sibling;var A=m(v,w,T[P],S);if(A===null){w===null&&(w=N);break}e&&w&&A.alternate===null&&t(v,w),y=i(A,y,P),I===null?x=A:I.sibling=A,I=A,w=N}if(P===T.length)return n(v,w),ie&&Xt(v,P),x;if(w===null){for(;P<T.length;P++)w=p(v,T[P],S),w!==null&&(y=i(w,y,P),I===null?x=w:I.sibling=w,I=w);return ie&&Xt(v,P),x}for(w=o(v,w);P<T.length;P++)N=g(w,v,P,T[P],S),N!==null&&(e&&N.alternate!==null&&w.delete(N.key===null?P:N.key),y=i(N,y,P),I===null?x=N:I.sibling=N,I=N);return e&&w.forEach(function(V){return t(v,V)}),ie&&Xt(v,P),x}function E(v,y,T,S){var x=to(T);if(typeof x!="function")throw Error(R(150));if(T=x.call(T),T==null)throw Error(R(151));for(var I=x=null,w=y,P=y=0,N=null,A=T.next();w!==null&&!A.done;P++,A=T.next()){w.index>P?(N=w,w=null):N=w.sibling;var V=m(v,w,A.value,S);if(V===null){w===null&&(w=N);break}e&&w&&V.alternate===null&&t(v,w),y=i(V,y,P),I===null?x=V:I.sibling=V,I=V,w=N}if(A.done)return n(v,w),ie&&Xt(v,P),x;if(w===null){for(;!A.done;P++,A=T.next())A=p(v,A.value,S),A!==null&&(y=i(A,y,P),I===null?x=A:I.sibling=A,I=A);return ie&&Xt(v,P),x}for(w=o(v,w);!A.done;P++,A=T.next())A=g(w,v,P,A.value,S),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?P:A.key),y=i(A,y,P),I===null?x=A:I.sibling=A,I=A);return e&&w.forEach(function(X){return t(v,X)}),ie&&Xt(v,P),x}function _(v,y,T,S){if(typeof T=="object"&&T!==null&&T.type===vn&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case jo:e:{for(var x=T.key,I=y;I!==null;){if(I.key===x){if(x=T.type,x===vn){if(I.tag===7){n(v,I.sibling),y=r(I,T.props.children),y.return=v,v=y;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===kt&&ru(x)===I.type){n(v,I.sibling),y=r(I,T.props),y.ref=so(v,I,T),y.return=v,v=y;break e}n(v,I);break}else t(v,I);I=I.sibling}T.type===vn?(y=rn(T.props.children,v.mode,S,T.key),y.return=v,v=y):(S=Nr(T.type,T.key,T.props,null,v.mode,S),S.ref=so(v,y,T),S.return=v,v=S)}return l(v);case yn:e:{for(I=T.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),y=r(y,T.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=ts(T,v.mode,S),y.return=v,v=y}return l(v);case kt:return I=T._init,_(v,y,I(T._payload),S)}if(mo(T))return C(v,y,T,S);if(to(T))return E(v,y,T,S);cr(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,T),y.return=v,v=y):(n(v,y),y=es(T,v.mode,S),y.return=v,v=y),l(v)):n(v,y)}return _}var Jn=wf(!0),Af=wf(!1),Wr=Yt(null),Kr=null,wn=null,ql=null;function zl(){ql=wn=Kr=null}function Bl(e){var t=Wr.current;oe(Wr),e._currentValue=t}function Gs(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Ln(e,t){Kr=e,ql=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(Kr===null)throw Error(R(308));wn=e,Kr.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var en=null;function $l(e){en===null?en=[e]:en.push(e)}function Nf(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,$l(t)):(n.next=r.next,r.next=n),t.interleaved=n,_t(e,o)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mt=!1;function Jl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,W&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,_t(e,n)}return r=o.interleaved,r===null?(t.next=t,$l(o)):(t.next=r.next,r.next=t),o.interleaved=t,_t(e,n)}function Sr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Rl(e,n)}}function iu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yr(e,t,n,o){var r=e.updateQueue;Mt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var p=r.baseState;l=0,f=d=c=null,u=i;do{var m=u.lane,g=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=e,E=u;switch(m=t,g=n,E.tag){case 1:if(C=E.payload,typeof C=="function"){p=C.call(g,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=E.payload,m=typeof C=="function"?C.call(g,p,m):C,m==null)break e;p=ue({},p,m);break e;case 2:Mt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[u]:m.push(u))}else g={eventTime:g,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=g,c=p):f=f.next=g,l|=m;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;m=u,u=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(f===null&&(c=p),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);un|=l,e.lanes=l,e.memoizedState=p}}function su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var Xo={},pt=Yt(Xo),Ho=Yt(Xo),qo=Yt(Xo);function tn(e){if(e===Xo)throw Error(R(174));return e}function Ol(e,t){switch(ee(qo,t),ee(Ho,e),ee(pt,Xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vs(t,e)}oe(pt),ee(pt,t)}function On(){oe(pt),oe(Ho),oe(qo)}function Pf(e){tn(qo.current);var t=tn(pt.current),n=vs(t,e.type);t!==n&&(ee(Ho,e),ee(pt,n))}function Wl(e){Ho.current===e&&(oe(pt),oe(Ho))}var le=Yt(0);function br(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yi=[];function Kl(){for(var e=0;e<Yi.length;e++)Yi[e]._workInProgressVersionPrimary=null;Yi.length=0}var xr=At.ReactCurrentDispatcher,bi=At.ReactCurrentBatchConfig,an=0,ae=null,me=null,ge=null,Qr=!1,So=!1,zo=0,sg=0;function _e(){throw Error(R(321))}function Yl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function bl(e,t,n,o,r,i){if(an=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=e===null||e.memoizedState===null?cg:dg,e=n(o,r),So){i=0;do{if(So=!1,zo=0,25<=i)throw Error(R(301));i+=1,ge=me=null,t.updateQueue=null,xr.current=fg,e=n(o,r)}while(So)}if(xr.current=Xr,t=me!==null&&me.next!==null,an=0,ge=me=ae=null,Qr=!1,t)throw Error(R(300));return e}function Ql(){var e=zo!==0;return zo=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ae.memoizedState=ge=e:ge=ge.next=e,ge}function Ze(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ge===null?ae.memoizedState:ge.next;if(t!==null)ge=t,me=e;else{if(e===null)throw Error(R(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ge===null?ae.memoizedState=ge=e:ge=ge.next=e}return ge}function Bo(e,t){return typeof t=="function"?t(e):t}function Qi(e){var t=Ze(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=me,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((an&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,l=o):c=c.next=p,ae.lanes|=f,un|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,st(o,t.memoizedState)||(Le=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,ae.lanes|=i,un|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xi(e){var t=Ze(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);st(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function kf(){}function Mf(e,t){var n=ae,o=Ze(),r=t(),i=!st(o.memoizedState,r);if(i&&(o.memoizedState=r,Le=!0),o=o.queue,Xl(Uf.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,$o(9,Lf.bind(null,n,o,r,t),void 0,null),ye===null)throw Error(R(349));an&30||Df(n,t,r)}return r}function Df(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lf(e,t,n,o){t.value=n,t.getSnapshot=o,Ff(t)&&Vf(e)}function Uf(e,t,n){return n(function(){Ff(t)&&Vf(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!st(e,n)}catch{return!0}}function Vf(e){var t=_t(e,1);t!==null&&it(t,e,1,-1)}function lu(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:e},t.queue=e,e=e.dispatch=ug.bind(null,ae,e),[t.memoizedState,e]}function $o(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Gf(){return Ze().memoizedState}function _r(e,t,n,o){var r=ct();ae.flags|=e,r.memoizedState=$o(1|t,n,void 0,o===void 0?null:o)}function gi(e,t,n,o){var r=Ze();o=o===void 0?null:o;var i=void 0;if(me!==null){var l=me.memoizedState;if(i=l.destroy,o!==null&&Yl(o,l.deps)){r.memoizedState=$o(t,n,i,o);return}}ae.flags|=e,r.memoizedState=$o(1|t,n,i,o)}function au(e,t){return _r(8390656,8,e,t)}function Xl(e,t){return gi(2048,8,e,t)}function Hf(e,t){return gi(4,2,e,t)}function qf(e,t){return gi(4,4,e,t)}function zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bf(e,t,n){return n=n!=null?n.concat([e]):null,gi(4,4,zf.bind(null,t,e),n)}function Zl(){}function $f(e,t){var n=Ze();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Yl(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Jf(e,t){var n=Ze();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Yl(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Of(e,t,n){return an&21?(st(n,t)||(n=bd(),ae.lanes|=n,un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function lg(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var o=bi.transition;bi.transition={};try{e(!1),t()}finally{Q=n,bi.transition=o}}function Wf(){return Ze().memoizedState}function ag(e,t,n){var o=$t(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Kf(e))Yf(t,n);else if(n=Nf(e,t,n,o),n!==null){var r=Pe();it(n,e,o,r),bf(n,t,o)}}function ug(e,t,n){var o=$t(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kf(e))Yf(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,st(u,l)){var c=t.interleaved;c===null?(r.next=r,$l(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Nf(e,t,r,o),n!==null&&(r=Pe(),it(n,e,o,r),bf(n,t,o))}}function Kf(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Yf(e,t){So=Qr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bf(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Rl(e,n)}}var Xr={readContext:Xe,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},cg={readContext:Xe,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:au,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_r(4194308,4,zf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _r(4194308,4,e,t)},useInsertionEffect:function(e,t){return _r(4,2,e,t)},useMemo:function(e,t){var n=ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=ct();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ag.bind(null,ae,e),[o.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:lu,useDebugValue:Zl,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=lu(!1),t=e[0];return e=lg.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ae,r=ct();if(ie){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ye===null)throw Error(R(349));an&30||Df(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,au(Uf.bind(null,o,i,e),[e]),o.flags|=2048,$o(9,Lf.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=ct(),t=ye.identifierPrefix;if(ie){var n=Ct,o=Tt;n=(o&~(1<<32-rt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=zo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dg={readContext:Xe,useCallback:$f,useContext:Xe,useEffect:Xl,useImperativeHandle:Bf,useInsertionEffect:Hf,useLayoutEffect:qf,useMemo:Jf,useReducer:Qi,useRef:Gf,useState:function(){return Qi(Bo)},useDebugValue:Zl,useDeferredValue:function(e){var t=Ze();return Of(t,me.memoizedState,e)},useTransition:function(){var e=Qi(Bo)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:kf,useSyncExternalStore:Mf,useId:Wf,unstable_isNewReconciler:!1},fg={readContext:Xe,useCallback:$f,useContext:Xe,useEffect:Xl,useImperativeHandle:Bf,useInsertionEffect:Hf,useLayoutEffect:qf,useMemo:Jf,useReducer:Xi,useRef:Gf,useState:function(){return Xi(Bo)},useDebugValue:Zl,useDeferredValue:function(e){var t=Ze();return me===null?t.memoizedState=e:Of(t,me.memoizedState,e)},useTransition:function(){var e=Xi(Bo)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:kf,useSyncExternalStore:Mf,useId:Wf,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hs(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yi={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Pe(),r=$t(e),i=Et(o,r);i.payload=t,n!=null&&(i.callback=n),t=zt(e,i,r),t!==null&&(it(t,e,r,o),Sr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Pe(),r=$t(e),i=Et(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zt(e,i,r),t!==null&&(it(t,e,r,o),Sr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),o=$t(e),r=Et(n,o);r.tag=2,t!=null&&(r.callback=t),t=zt(e,r,o),t!==null&&(it(t,e,o,n),Sr(t,e,o))}};function uu(e,t,n,o,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!Uo(n,o)||!Uo(r,i):!0}function Qf(e,t,n){var o=!1,r=Wt,i=t.contextType;return typeof i=="object"&&i!==null?i=Xe(i):(r=Fe(t)?sn:Ne.current,o=t.contextTypes,i=(o=o!=null)?Bn(e,r):Wt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function cu(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Jl(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Xe(i):(i=Fe(t)?sn:Ne.current,r.context=Bn(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hs(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&yi.enqueueReplaceState(r,r.state,null),Yr(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",o=t;do n+=qm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function Zi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pg=typeof WeakMap=="function"?WeakMap:Map;function Xf(e,t,n){n=Et(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){jr||(jr=!0,Xs=o),zs(e,t)},n}function Zf(e,t,n){n=Et(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){zs(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zs(e,t),typeof o!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function du(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new pg;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Ag.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pu(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Et(-1,1),t.tag=2,zt(n,t,1))),n.lanes|=1),e)}var mg=At.ReactCurrentOwner,Le=!1;function Re(e,t,n,o){t.child=e===null?Af(t,null,n,o):Jn(t,e.child,n,o)}function mu(e,t,n,o,r){n=n.render;var i=t.ref;return Ln(t,r),o=bl(e,t,n,o,i,r),n=Ql(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,It(e,t,r)):(ie&&n&&Vl(t),t.flags|=1,Re(e,t,o,r),t.child)}function hu(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!sa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jf(e,t,i,o,r)):(e=Nr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Uo,n(l,o)&&e.ref===t.ref)return It(e,t,r)}return t.flags|=1,e=Jt(i,o),e.ref=t.ref,e.return=t,t.child=e}function jf(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Uo(i,o)&&e.ref===t.ref)if(Le=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,It(e,t,r)}return Bs(e,t,n,o,r)}function ep(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Nn,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Nn,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,ee(Nn,Ge),Ge|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,ee(Nn,Ge),Ge|=o;return Re(e,t,r,n),t.child}function tp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bs(e,t,n,o,r){var i=Fe(n)?sn:Ne.current;return i=Bn(t,i),Ln(t,r),n=bl(e,t,n,o,i,r),o=Ql(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,It(e,t,r)):(ie&&o&&Vl(t),t.flags|=1,Re(e,t,n,r),t.child)}function gu(e,t,n,o,r){if(Fe(n)){var i=!0;$r(t)}else i=!1;if(Ln(t,r),t.stateNode===null)Ir(e,t),Qf(t,n,o),qs(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Xe(d):(d=Fe(n)?sn:Ne.current,d=Bn(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&cu(t,l,o,d),Mt=!1;var m=t.memoizedState;l.state=m,Yr(t,o,l,r),c=t.memoizedState,u!==o||m!==c||Ue.current||Mt?(typeof f=="function"&&(Hs(t,n,f,o),c=t.memoizedState),(u=Mt||uu(t,n,u,o,m,c,d))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,Rf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:et(t.type,u),l.props=d,p=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=Fe(n)?sn:Ne.current,c=Bn(t,c));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==c)&&cu(t,l,o,c),Mt=!1,m=t.memoizedState,l.state=m,Yr(t,o,l,r);var C=t.memoizedState;u!==p||m!==C||Ue.current||Mt?(typeof g=="function"&&(Hs(t,n,g,o),C=t.memoizedState),(d=Mt||uu(t,n,d,o,m,C,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,C,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,C,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=C),l.props=o,l.state=C,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),o=!1)}return $s(e,t,n,o,i,r)}function $s(e,t,n,o,r,i){tp(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&tu(t,n,!1),It(e,t,i);o=t.stateNode,mg.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=Jn(t,e.child,null,i),t.child=Jn(t,null,u,i)):Re(e,t,u,i),t.memoizedState=o.state,r&&tu(t,n,!0),t.child}function np(e){var t=e.stateNode;t.pendingContext?eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eu(e,t.context,!1),Ol(e,t.containerInfo)}function yu(e,t,n,o,r){return $n(),Hl(r),t.flags|=256,Re(e,t,n,o),t.child}var Js={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function op(e,t,n){var o=t.pendingProps,r=le.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ee(le,r&1),e===null)return Vs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ci(l,o,0,null),e=rn(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Os(n),t.memoizedState=Js,e):jl(t,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return hg(e,t,l,o,u,r,n);if(i){i=o.fallback,l=t.mode,r=e.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=Jt(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Jt(u,i):(i=rn(i,l,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=e.child.memoizedState,l=l===null?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Js,o}return i=e.child,e=i.sibling,o=Jt(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function jl(e,t){return t=Ci({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dr(e,t,n,o){return o!==null&&Hl(o),Jn(t,e.child,null,n),e=jl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hg(e,t,n,o,r,i,l){if(n)return t.flags&256?(t.flags&=-257,o=Zi(Error(R(422))),dr(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Ci({mode:"visible",children:o.children},r,0,null),i=rn(i,r,l,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&Jn(t,e.child,null,l),t.child.memoizedState=Os(l),t.memoizedState=Js,i);if(!(t.mode&1))return dr(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(R(419)),o=Zi(i,o,void 0),dr(e,t,l,o)}if(u=(l&e.childLanes)!==0,Le||u){if(o=ye,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,_t(e,r),it(o,e,r,-1))}return ia(),o=Zi(Error(R(421))),dr(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Ng.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,He=qt(r.nextSibling),qe=t,ie=!0,nt=null,e!==null&&(We[Ke++]=Tt,We[Ke++]=Ct,We[Ke++]=ln,Tt=e.id,Ct=e.overflow,ln=t),t=jl(t,o.children),t.flags|=4096,t)}function vu(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Gs(e.return,t,n)}function ji(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function rp(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(Re(e,t,o.children,n),o=le.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,n,t);else if(e.tag===19)vu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ee(le,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&br(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ji(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&br(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ji(t,!0,n,null,i);break;case"together":ji(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ir(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gg(e,t,n){switch(t.tag){case 3:np(t),$n();break;case 5:Pf(t);break;case 1:Fe(t.type)&&$r(t);break;case 4:Ol(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;ee(Wr,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ee(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?op(e,t,n):(ee(le,le.current&1),e=It(e,t,n),e!==null?e.sibling:null);ee(le,le.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return rp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ee(le,le.current),o)break;return null;case 22:case 23:return t.lanes=0,ep(e,t,n)}return It(e,t,n)}var ip,Ws,sp,lp;ip=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ws=function(){};sp=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,tn(pt.current);var i=null;switch(n){case"input":r=ms(e,r),o=ms(e,o),i=[];break;case"select":r=ue({},r,{value:void 0}),o=ue({},o,{value:void 0}),i=[];break;case"textarea":r=ys(e,r),o=ys(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=zr)}Ts(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(No.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(No.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&te("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};lp=function(e,t,n,o){n!==o&&(t.flags|=4)};function lo(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function yg(e,t,n){var o=t.pendingProps;switch(Gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Fe(t.type)&&Br(),Ie(t),null;case 3:return o=t.stateNode,On(),oe(Ue),oe(Ne),Kl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ur(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(el(nt),nt=null))),Ws(e,t),Ie(t),null;case 5:Wl(t);var r=tn(qo.current);if(n=t.type,e!==null&&t.stateNode!=null)sp(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return Ie(t),null}if(e=tn(pt.current),ur(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[dt]=t,o[Go]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",o),te("close",o);break;case"iframe":case"object":case"embed":te("load",o);break;case"video":case"audio":for(r=0;r<go.length;r++)te(go[r],o);break;case"source":te("error",o);break;case"img":case"image":case"link":te("error",o),te("load",o);break;case"details":te("toggle",o);break;case"input":Aa(o,i),te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},te("invalid",o);break;case"textarea":Ra(o,i),te("invalid",o)}Ts(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&ar(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&ar(o.textContent,u,e),r=["children",""+u]):No.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&te("scroll",o)}switch(n){case"input":er(o),Na(o,i,!0);break;case"textarea":er(o),Pa(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=zr)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ld(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[dt]=t,e[Go]=o,ip(e,t,!1,!1),t.stateNode=e;e:{switch(l=Cs(n,o),n){case"dialog":te("cancel",e),te("close",e),r=o;break;case"iframe":case"object":case"embed":te("load",e),r=o;break;case"video":case"audio":for(r=0;r<go.length;r++)te(go[r],e);r=o;break;case"source":te("error",e),r=o;break;case"img":case"image":case"link":te("error",e),te("load",e),r=o;break;case"details":te("toggle",e),r=o;break;case"input":Aa(e,o),r=ms(e,o),te("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ue({},o,{value:void 0}),te("invalid",e);break;case"textarea":Ra(e,o),r=ys(e,o),te("invalid",e);break;default:r=o}Ts(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Vd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ud(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ro(e,c):typeof c=="number"&&Ro(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(No.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",e):c!=null&&xl(e,i,c,l))}switch(n){case"input":er(e),Na(e,o,!1);break;case"textarea":er(e),Pa(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Ot(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?Pn(e,!!o.multiple,i,!1):o.defaultValue!=null&&Pn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=zr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)lp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(n=tn(qo.current),tn(pt.current),ur(t)){if(o=t.stateNode,n=t.memoizedProps,o[dt]=t,(i=o.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:ar(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ar(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[dt]=t,t.stateNode=o}return Ie(t),null;case 13:if(oe(le),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&He!==null&&t.mode&1&&!(t.flags&128))If(),$n(),t.flags|=98560,i=!1;else if(i=ur(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[dt]=t}else $n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),i=!1}else nt!==null&&(el(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?he===0&&(he=3):ia())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return On(),Ws(e,t),e===null&&Fo(t.stateNode.containerInfo),Ie(t),null;case 10:return Bl(t.type._context),Ie(t),null;case 17:return Fe(t.type)&&Br(),Ie(t),null;case 19:if(oe(le),i=t.memoizedState,i===null)return Ie(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)lo(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=br(e),l!==null){for(t.flags|=128,lo(i,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>Kn&&(t.flags|=128,o=!0,lo(i,!1),t.lanes=4194304)}else{if(!o)if(e=br(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ie)return Ie(t),null}else 2*de()-i.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,o=!0,lo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,n=le.current,ee(le,o?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return ra(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ge&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function vg(e,t){switch(Gl(t),t.tag){case 1:return Fe(t.type)&&Br(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return On(),oe(Ue),oe(Ne),Kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wl(t),null;case 13:if(oe(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(le),null;case 4:return On(),null;case 10:return Bl(t.type._context),null;case 22:case 23:return ra(),null;case 24:return null;default:return null}}var fr=!1,we=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,L=null;function An(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ce(e,t,o)}else n.current=null}function Ks(e,t,n){try{n()}catch(o){ce(e,t,o)}}var Tu=!1;function Cg(e,t){if(Ps=Gr,e=ff(),Fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,p=e,m=null;t:for(;;){for(var g;p!==n||r!==0&&p.nodeType!==3||(u=l+r),p!==i||o!==0&&p.nodeType!==3||(c=l+o),p.nodeType===3&&(l+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break t;if(m===n&&++d===r&&(u=l),m===i&&++f===o&&(c=l),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ks={focusedElem:e,selectionRange:n},Gr=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var E=C.memoizedProps,_=C.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?E:et(t.type,E),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){ce(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return C=Tu,Tu=!1,C}function xo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ks(t,n,i)}r=r.next}while(r!==o)}}function vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Ys(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[Go],delete t[Ls],delete t[ng],delete t[og])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function up(e){return e.tag===5||e.tag===3||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bs(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zr));else if(o!==4&&(e=e.child,e!==null))for(bs(e,t,n),e=e.sibling;e!==null;)bs(e,t,n),e=e.sibling}function Qs(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Qs(e,t,n),e=e.sibling;e!==null;)Qs(e,t,n),e=e.sibling}var ve=null,tt=!1;function Pt(e,t,n){for(n=n.child;n!==null;)cp(e,t,n),n=n.sibling}function cp(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ci,n)}catch{}switch(n.tag){case 5:we||An(n,t);case 6:var o=ve,r=tt;ve=null,Pt(e,t,n),ve=o,tt=r,ve!==null&&(tt?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(tt?(e=ve,n=n.stateNode,e.nodeType===8?Wi(e.parentNode,n):e.nodeType===1&&Wi(e,n),Do(e)):Wi(ve,n.stateNode));break;case 4:o=ve,r=tt,ve=n.stateNode.containerInfo,tt=!0,Pt(e,t,n),ve=o,tt=r;break;case 0:case 11:case 14:case 15:if(!we&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ks(n,t,l),r=r.next}while(r!==o)}Pt(e,t,n);break;case 1:if(!we&&(An(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){ce(n,t,u)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(we=(o=we)||n.memoizedState!==null,Pt(e,t,n),we=o):Pt(e,t,n);break;default:Pt(e,t,n)}}function Eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tg),t.forEach(function(o){var r=Rg.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function je(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:ve=u.stateNode,tt=!1;break e;case 3:ve=u.stateNode.containerInfo,tt=!0;break e;case 4:ve=u.stateNode.containerInfo,tt=!0;break e}u=u.return}if(ve===null)throw Error(R(160));cp(i,l,r),ve=null,tt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){ce(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}function dp(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(je(t,e),ut(e),o&4){try{xo(3,e,e.return),vi(3,e)}catch(E){ce(e,e.return,E)}try{xo(5,e,e.return)}catch(E){ce(e,e.return,E)}}break;case 1:je(t,e),ut(e),o&512&&n!==null&&An(n,n.return);break;case 5:if(je(t,e),ut(e),o&512&&n!==null&&An(n,n.return),e.flags&32){var r=e.stateNode;try{Ro(r,"")}catch(E){ce(e,e.return,E)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Md(r,i),Cs(u,l);var d=Cs(u,i);for(l=0;l<c.length;l+=2){var f=c[l],p=c[l+1];f==="style"?Vd(r,p):f==="dangerouslySetInnerHTML"?Ud(r,p):f==="children"?Ro(r,p):xl(r,f,p,d)}switch(u){case"input":hs(r,i);break;case"textarea":Dd(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Pn(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pn(r,!!i.multiple,i.defaultValue,!0):Pn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Go]=i}catch(E){ce(e,e.return,E)}}break;case 6:if(je(t,e),ut(e),o&4){if(e.stateNode===null)throw Error(R(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(E){ce(e,e.return,E)}}break;case 3:if(je(t,e),ut(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(t.containerInfo)}catch(E){ce(e,e.return,E)}break;case 4:je(t,e),ut(e);break;case 13:je(t,e),ut(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(na=de())),o&4&&Eu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(we=(d=we)||f,je(t,e),we=d):je(t,e),ut(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(L=e,f=e.child;f!==null;){for(p=L=f;L!==null;){switch(m=L,g=m.child,m.tag){case 0:case 11:case 14:case 15:xo(4,m,m.return);break;case 1:An(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){o=m,n=m.return;try{t=o,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(E){ce(o,n,E)}}break;case 5:An(m,m.return);break;case 22:if(m.memoizedState!==null){xu(p);continue}}g!==null?(g.return=m,L=g):xu(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Fd("display",l))}catch(E){ce(e,e.return,E)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(E){ce(e,e.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:je(t,e),ut(e),o&4&&Eu(e);break;case 21:break;default:je(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(up(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Ro(r,""),o.flags&=-33);var i=Cu(e);Qs(e,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Cu(e);bs(e,u,l);break;default:throw Error(R(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eg(e,t,n){L=e,fp(e)}function fp(e,t,n){for(var o=(e.mode&1)!==0;L!==null;){var r=L,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||fr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||we;u=fr;var d=we;if(fr=l,(we=c)&&!d)for(L=r;L!==null;)l=L,c=l.child,l.tag===22&&l.memoizedState!==null?_u(r):c!==null?(c.return=l,L=c):_u(r);for(;i!==null;)L=i,fp(i),i=i.sibling;L=r,fr=u,we=d}Su(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,L=i):Su(e)}}function Su(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||vi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!we)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&su(t,i,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}su(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Do(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}we||t.flags&512&&Ys(t)}catch(m){ce(t,t.return,m)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function xu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function _u(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vi(4,t)}catch(c){ce(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(c){ce(t,r,c)}}var i=t.return;try{Ys(t)}catch(c){ce(t,i,c)}break;case 5:var l=t.return;try{Ys(t)}catch(c){ce(t,l,c)}}}catch(c){ce(t,t.return,c)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var Sg=Math.ceil,Zr=At.ReactCurrentDispatcher,ea=At.ReactCurrentOwner,be=At.ReactCurrentBatchConfig,W=0,ye=null,fe=null,Te=0,Ge=0,Nn=Yt(0),he=0,Jo=null,un=0,Ti=0,ta=0,_o=null,De=null,na=0,Kn=1/0,gt=null,jr=!1,Xs=null,Bt=null,pr=!1,Ft=null,ei=0,Io=0,Zs=null,wr=-1,Ar=0;function Pe(){return W&6?de():wr!==-1?wr:wr=de()}function $t(e){return e.mode&1?W&2&&Te!==0?Te&-Te:ig.transition!==null?(Ar===0&&(Ar=bd()),Ar):(e=Q,e!==0||(e=window.event,e=e===void 0?16:nf(e.type)),e):1}function it(e,t,n,o){if(50<Io)throw Io=0,Zs=null,Error(R(185));Yo(e,n,o),(!(W&2)||e!==ye)&&(e===ye&&(!(W&2)&&(Ti|=n),he===4&&Lt(e,Te)),Ve(e,o),n===1&&W===0&&!(t.mode&1)&&(Kn=de()+500,hi&&bt()))}function Ve(e,t){var n=e.callbackNode;ih(e,t);var o=Vr(e,e===ye?Te:0);if(o===0)n!==null&&Da(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Da(n),t===1)e.tag===0?rg(Iu.bind(null,e)):Sf(Iu.bind(null,e)),eg(function(){!(W&6)&&bt()}),n=null;else{switch(Qd(o)){case 1:n=Nl;break;case 4:n=Kd;break;case 16:n=Fr;break;case 536870912:n=Yd;break;default:n=Fr}n=Cp(n,pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pp(e,t){if(wr=-1,Ar=0,W&6)throw Error(R(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var o=Vr(e,e===ye?Te:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ti(e,o);else{t=o;var r=W;W|=2;var i=hp();(ye!==e||Te!==t)&&(gt=null,Kn=de()+500,on(e,t));do try{Ig();break}catch(u){mp(e,u)}while(!0);zl(),Zr.current=i,W=r,fe!==null?t=0:(ye=null,Te=0,t=he)}if(t!==0){if(t===2&&(r=Is(e),r!==0&&(o=r,t=js(e,r))),t===1)throw n=Jo,on(e,0),Lt(e,o),Ve(e,de()),n;if(t===6)Lt(e,o);else{if(r=e.current.alternate,!(o&30)&&!xg(r)&&(t=ti(e,o),t===2&&(i=Is(e),i!==0&&(o=i,t=js(e,i))),t===1))throw n=Jo,on(e,0),Lt(e,o),Ve(e,de()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:Zt(e,De,gt);break;case 3:if(Lt(e,o),(o&130023424)===o&&(t=na+500-de(),10<t)){if(Vr(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Pe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Ds(Zt.bind(null,e,De,gt),t);break}Zt(e,De,gt);break;case 4:if(Lt(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-rt(o);i=1<<l,l=t[l],l>r&&(r=l),o&=~i}if(o=r,o=de()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sg(o/1960))-o,10<o){e.timeoutHandle=Ds(Zt.bind(null,e,De,gt),o);break}Zt(e,De,gt);break;case 5:Zt(e,De,gt);break;default:throw Error(R(329))}}}return Ve(e,de()),e.callbackNode===n?pp.bind(null,e):null}function js(e,t){var n=_o;return e.current.memoizedState.isDehydrated&&(on(e,t).flags|=256),e=ti(e,t),e!==2&&(t=De,De=n,t!==null&&el(t)),e}function el(e){De===null?De=e:De.push.apply(De,e)}function xg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!st(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~ta,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),o=1<<n;e[n]=-1,t&=~o}}function Iu(e){if(W&6)throw Error(R(327));Un();var t=Vr(e,0);if(!(t&1))return Ve(e,de()),null;var n=ti(e,t);if(e.tag!==0&&n===2){var o=Is(e);o!==0&&(t=o,n=js(e,o))}if(n===1)throw n=Jo,on(e,0),Lt(e,t),Ve(e,de()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zt(e,De,gt),Ve(e,de()),null}function oa(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Kn=de()+500,hi&&bt())}}function cn(e){Ft!==null&&Ft.tag===0&&!(W&6)&&Un();var t=W;W|=1;var n=be.transition,o=Q;try{if(be.transition=null,Q=1,e)return e()}finally{Q=o,be.transition=n,W=t,!(W&6)&&bt()}}function ra(){Ge=Nn.current,oe(Nn)}function on(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jh(n)),fe!==null)for(n=fe.return;n!==null;){var o=n;switch(Gl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Br();break;case 3:On(),oe(Ue),oe(Ne),Kl();break;case 5:Wl(o);break;case 4:On();break;case 13:oe(le);break;case 19:oe(le);break;case 10:Bl(o.type._context);break;case 22:case 23:ra()}n=n.return}if(ye=e,fe=e=Jt(e.current,null),Te=Ge=t,he=0,Jo=null,ta=Ti=un=0,De=_o=null,en!==null){for(t=0;t<en.length;t++)if(n=en[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}en=null}return e}function mp(e,t){do{var n=fe;try{if(zl(),xr.current=Xr,Qr){for(var o=ae.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Qr=!1}if(an=0,ge=me=ae=null,So=!1,zo=0,ea.current=null,n===null||n.return===null){he=1,Jo=t,fe=null;break}e:{var i=e,l=n.return,u=n,c=t;if(t=Te,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=fu(l);if(g!==null){g.flags&=-257,pu(g,l,u,i,t),g.mode&1&&du(i,d,t),t=g,c=d;var C=t.updateQueue;if(C===null){var E=new Set;E.add(c),t.updateQueue=E}else C.add(c);break e}else{if(!(t&1)){du(i,d,t),ia();break e}c=Error(R(426))}}else if(ie&&u.mode&1){var _=fu(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),pu(_,l,u,i,t),Hl(Wn(c,u));break e}}i=c=Wn(c,u),he!==4&&(he=2),_o===null?_o=[i]:_o.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Xf(i,c,t);iu(i,v);break e;case 1:u=c;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Bt===null||!Bt.has(T)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Zf(i,u,t);iu(i,S);break e}}i=i.return}while(i!==null)}yp(n)}catch(x){t=x,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function hp(){var e=Zr.current;return Zr.current=Xr,e===null?Xr:e}function ia(){(he===0||he===3||he===2)&&(he=4),ye===null||!(un&268435455)&&!(Ti&268435455)||Lt(ye,Te)}function ti(e,t){var n=W;W|=2;var o=hp();(ye!==e||Te!==t)&&(gt=null,on(e,t));do try{_g();break}catch(r){mp(e,r)}while(!0);if(zl(),W=n,Zr.current=o,fe!==null)throw Error(R(261));return ye=null,Te=0,he}function _g(){for(;fe!==null;)gp(fe)}function Ig(){for(;fe!==null&&!Qm();)gp(fe)}function gp(e){var t=Tp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?yp(e):fe=t,ea.current=null}function yp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vg(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,fe=null;return}}else if(n=yg(n,t,Ge),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);he===0&&(he=5)}function Zt(e,t,n){var o=Q,r=be.transition;try{be.transition=null,Q=1,wg(e,t,n,o)}finally{be.transition=r,Q=o}return null}function wg(e,t,n,o){do Un();while(Ft!==null);if(W&6)throw Error(R(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(sh(e,i),e===ye&&(fe=ye=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pr||(pr=!0,Cp(Fr,function(){return Un(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=be.transition,be.transition=null;var l=Q;Q=1;var u=W;W|=4,ea.current=null,Cg(e,n),dp(n,e),Wh(ks),Gr=!!Ps,ks=Ps=null,e.current=n,Eg(n),Xm(),W=u,Q=l,be.transition=i}else e.current=n;if(pr&&(pr=!1,Ft=e,ei=r),i=e.pendingLanes,i===0&&(Bt=null),eh(n.stateNode),Ve(e,de()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(jr)throw jr=!1,e=Xs,Xs=null,e;return ei&1&&e.tag!==0&&Un(),i=e.pendingLanes,i&1?e===Zs?Io++:(Io=0,Zs=e):Io=0,bt(),null}function Un(){if(Ft!==null){var e=Qd(ei),t=be.transition,n=Q;try{if(be.transition=null,Q=16>e?16:e,Ft===null)var o=!1;else{if(e=Ft,Ft=null,ei=0,W&6)throw Error(R(331));var r=W;for(W|=4,L=e.current;L!==null;){var i=L,l=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:xo(8,f,i)}var p=f.child;if(p!==null)p.return=f,L=p;else for(;L!==null;){f=L;var m=f.sibling,g=f.return;if(ap(f),f===d){L=null;break}if(m!==null){m.return=g,L=m;break}L=g}}}var C=i.alternate;if(C!==null){var E=C.child;if(E!==null){C.child=null;do{var _=E.sibling;E.sibling=null,E=_}while(E!==null)}}L=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,L=l;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,L=v;break e}L=i.return}}var y=e.current;for(L=y;L!==null;){l=L;var T=l.child;if(l.subtreeFlags&2064&&T!==null)T.return=l,L=T;else e:for(l=y;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:vi(9,u)}}catch(x){ce(u,u.return,x)}if(u===l){L=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,L=S;break e}L=u.return}}if(W=r,bt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ci,e)}catch{}o=!0}return o}finally{Q=n,be.transition=t}}return!1}function wu(e,t,n){t=Wn(n,t),t=Xf(e,t,1),e=zt(e,t,1),t=Pe(),e!==null&&(Yo(e,1,t),Ve(e,t))}function ce(e,t,n){if(e.tag===3)wu(e,e,n);else for(;t!==null;){if(t.tag===3){wu(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bt===null||!Bt.has(o))){e=Wn(n,e),e=Zf(t,e,1),t=zt(t,e,1),e=Pe(),t!==null&&(Yo(t,1,e),Ve(t,e));break}}t=t.return}}function Ag(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(Te&n)===n&&(he===4||he===3&&(Te&130023424)===Te&&500>de()-na?on(e,0):ta|=n),Ve(e,t)}function vp(e,t){t===0&&(e.mode&1?(t=or,or<<=1,!(or&130023424)&&(or=4194304)):t=1);var n=Pe();e=_t(e,t),e!==null&&(Yo(e,t,n),Ve(e,n))}function Ng(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vp(e,n)}function Rg(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),vp(e,n)}var Tp;Tp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,gg(e,t,n);Le=!!(e.flags&131072)}else Le=!1,ie&&t.flags&1048576&&xf(t,Or,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ir(e,t),e=t.pendingProps;var r=Bn(t,Ne.current);Ln(t,n),r=bl(null,t,o,e,r,n);var i=Ql();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(o)?(i=!0,$r(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Jl(t),r.updater=yi,t.stateNode=r,r._reactInternals=t,qs(t,o,e,n),t=$s(null,t,o,!0,i,n)):(t.tag=0,ie&&i&&Vl(t),Re(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Ir(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=kg(o),e=et(o,e),r){case 0:t=Bs(null,t,o,e,n);break e;case 1:t=gu(null,t,o,e,n);break e;case 11:t=mu(null,t,o,e,n);break e;case 14:t=hu(null,t,o,et(o.type,e),n);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:et(o,r),Bs(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:et(o,r),gu(e,t,o,r,n);case 3:e:{if(np(t),e===null)throw Error(R(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Rf(e,t),Yr(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Wn(Error(R(423)),t),t=yu(e,t,o,n,r);break e}else if(o!==r){r=Wn(Error(R(424)),t),t=yu(e,t,o,n,r);break e}else for(He=qt(t.stateNode.containerInfo.firstChild),qe=t,ie=!0,nt=null,n=Af(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($n(),o===r){t=It(e,t,n);break e}Re(e,t,o,n)}t=t.child}return t;case 5:return Pf(t),e===null&&Vs(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,Ms(o,r)?l=null:i!==null&&Ms(o,i)&&(t.flags|=32),tp(e,t),Re(e,t,l,n),t.child;case 6:return e===null&&Vs(t),null;case 13:return op(e,t,n);case 4:return Ol(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Jn(t,null,o,n):Re(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:et(o,r),mu(e,t,o,r,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,ee(Wr,o._currentValue),o._currentValue=l,i!==null)if(st(i.value,l)){if(i.children===r.children&&!Ue.current){t=It(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=Et(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Gs(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(R(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Gs(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Re(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Ln(t,n),r=Xe(r),o=o(r),t.flags|=1,Re(e,t,o,n),t.child;case 14:return o=t.type,r=et(o,t.pendingProps),r=et(o.type,r),hu(e,t,o,r,n);case 15:return jf(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:et(o,r),Ir(e,t),t.tag=1,Fe(o)?(e=!0,$r(t)):e=!1,Ln(t,n),Qf(t,o,r),qs(t,o,r,n),$s(null,t,o,!0,e,n);case 19:return rp(e,t,n);case 22:return ep(e,t,n)}throw Error(R(156,t.tag))};function Cp(e,t){return Wd(e,t)}function Pg(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,o){return new Pg(e,t,n,o)}function sa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kg(e){if(typeof e=="function")return sa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Il)return 11;if(e===wl)return 14}return 2}function Jt(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nr(e,t,n,o,r,i){var l=2;if(o=e,typeof e=="function")sa(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case vn:return rn(n.children,r,i,t);case _l:l=8,r|=8;break;case cs:return e=Ye(12,n,t,r|2),e.elementType=cs,e.lanes=i,e;case ds:return e=Ye(13,n,t,r),e.elementType=ds,e.lanes=i,e;case fs:return e=Ye(19,n,t,r),e.elementType=fs,e.lanes=i,e;case Rd:return Ci(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ad:l=10;break e;case Nd:l=9;break e;case Il:l=11;break e;case wl:l=14;break e;case kt:l=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Ye(l,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function rn(e,t,n,o){return e=Ye(7,e,o,t),e.lanes=n,e}function Ci(e,t,n,o){return e=Ye(22,e,o,t),e.elementType=Rd,e.lanes=n,e.stateNode={isHidden:!1},e}function es(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function ts(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mg(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function la(e,t,n,o,r,i,l,u,c){return e=new Mg(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ye(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(i),e}function Dg(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Ep(e){if(!e)return Wt;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Fe(n))return Ef(e,n,t)}return t}function Sp(e,t,n,o,r,i,l,u,c){return e=la(n,o,!0,e,r,i,l,u,c),e.context=Ep(null),n=e.current,o=Pe(),r=$t(n),i=Et(o,r),i.callback=t??null,zt(n,i,r),e.current.lanes=r,Yo(e,r,o),Ve(e,o),e}function Ei(e,t,n,o){var r=t.current,i=Pe(),l=$t(r);return n=Ep(n),t.context===null?t.context=n:t.pendingContext=n,t=Et(i,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=zt(r,t,l),e!==null&&(it(e,r,l,i),Sr(e,r,l)),l}function ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Au(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function aa(e,t){Au(e,t),(e=e.alternate)&&Au(e,t)}function Lg(){return null}var xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function ua(e){this._internalRoot=e}Si.prototype.render=ua.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ei(e,t,null,null)};Si.prototype.unmount=ua.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cn(function(){Ei(null,e,null,null)}),t[xt]=null}};function Si(e){this._internalRoot=e}Si.prototype.unstable_scheduleHydration=function(e){if(e){var t=jd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&tf(e)}};function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function Ug(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=ni(l);i.call(d)}}var l=Sp(t,o,e,0,null,!1,!1,"",Nu);return e._reactRootContainer=l,e[xt]=l.current,Fo(e.nodeType===8?e.parentNode:e),cn(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=ni(c);u.call(d)}}var c=la(e,0,!1,null,null,!1,!1,"",Nu);return e._reactRootContainer=c,e[xt]=c.current,Fo(e.nodeType===8?e.parentNode:e),cn(function(){Ei(t,c,n,o)}),c}function _i(e,t,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=ni(l);u.call(c)}}Ei(t,l,e,r)}else l=Ug(n,t,e,r,o);return ni(l)}Xd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(Rl(t,n|1),Ve(t,de()),!(W&6)&&(Kn=de()+500,bt()))}break;case 13:cn(function(){var o=_t(e,1);if(o!==null){var r=Pe();it(o,e,1,r)}}),aa(e,1)}};Pl=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Pe();it(t,e,134217728,n)}aa(e,134217728)}};Zd=function(e){if(e.tag===13){var t=$t(e),n=_t(e,t);if(n!==null){var o=Pe();it(n,e,t,o)}aa(e,t)}};jd=function(){return Q};ef=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Ss=function(e,t,n){switch(t){case"input":if(hs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=mi(o);if(!r)throw Error(R(90));kd(o),hs(o,r)}}}break;case"textarea":Dd(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};qd=oa;zd=cn;var Fg={usingClientEntryPoint:!1,Events:[Qo,Sn,mi,Gd,Hd,oa]},ao={findFiberByHostInstance:jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vg={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jd(e),e===null?null:e.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||Lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mr.isDisabled&&mr.supportsFiber)try{ci=mr.inject(Vg),ft=mr}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fg;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ca(t))throw Error(R(200));return Dg(e,t,null,n)};Be.createRoot=function(e,t){if(!ca(e))throw Error(R(299));var n=!1,o="",r=xp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=la(e,1,!1,null,null,n,!1,o,r),e[xt]=t.current,Fo(e.nodeType===8?e.parentNode:e),new ua(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Jd(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return cn(e)};Be.hydrate=function(e,t,n){if(!xi(t))throw Error(R(200));return _i(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!ca(e))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=xp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Sp(t,null,e,1,n??null,r,!1,i,l),e[xt]=t.current,Fo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Si(t)};Be.render=function(e,t,n){if(!xi(t))throw Error(R(200));return _i(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!xi(e))throw Error(R(40));return e._reactRootContainer?(cn(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Be.unstable_batchedUpdates=oa;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!xi(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return _i(e,t,n,!1,o)};Be.version="18.3.1-next-f1338f8080-20240426";function _p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_p)}catch(e){console.error(e)}}_p(),xd.exports=Be;var Gg=xd.exports,Ru=Gg;as.createRoot=Ru.createRoot,as.hydrateRoot=Ru.hydrateRoot;var Hg=typeof Element<"u",qg=typeof Map=="function",zg=typeof Set=="function",Bg=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Rr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,o,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!Rr(e[o],t[o]))return!1;return!0}var i;if(qg&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(o=i.next()).done;)if(!t.has(o.value[0]))return!1;for(i=e.entries();!(o=i.next()).done;)if(!Rr(o.value[1],t.get(o.value[0])))return!1;return!0}if(zg&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(o=i.next()).done;)if(!t.has(o.value[0]))return!1;return!0}if(Bg&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(o=n;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;if(Hg&&e instanceof Element)return!1;for(o=n;o--!==0;)if(!((r[o]==="_owner"||r[o]==="__v"||r[o]==="__o")&&e.$$typeof)&&!Rr(e[r[o]],t[r[o]]))return!1;return!0}return e!==e&&t!==t}var $g=function(t,n){try{return Rr(t,n)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};const Jg=ai($g);var Og=function(e,t,n,o,r,i,l,u){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,o,r,i,l,u],f=0;c=new Error(t.replace(/%s/g,function(){return d[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Wg=Og;const Pu=ai(Wg);var Kg=function(t,n,o,r){var i=o?o.call(r,t,n):void 0;if(i!==void 0)return!!i;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var l=Object.keys(t),u=Object.keys(n);if(l.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),d=0;d<l.length;d++){var f=l[d];if(!c(f))return!1;var p=t[f],m=n[f];if(i=o?o.call(r,p,m,f):void 0,i===!1||i===void 0&&p!==m)return!1}return!0};const Yg=ai(Kg);var Ip=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Ip||{}),ns={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},ku=Object.values(Ip),da={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},bg=Object.entries(da).reduce((e,[t,n])=>(e[n]=t,e),{}),ot="data-rh",Fn={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Vn=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const o=e[n];if(Object.prototype.hasOwnProperty.call(o,t))return o[t]}return null},Qg=e=>{let t=Vn(e,"title");const n=Vn(e,Fn.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const o=Vn(e,Fn.DEFAULT_TITLE);return t||o||void 0},Xg=e=>Vn(e,Fn.ON_CHANGE_CLIENT_STATE)||(()=>{}),os=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,o)=>({...n,...o}),{}),Zg=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,o)=>{if(!n.length){const r=Object.keys(o);for(let i=0;i<r.length;i+=1){const u=r[i].toLowerCase();if(e.indexOf(u)!==-1&&o[u])return n.concat(o)}}return n},[]),jg=e=>console&&typeof console.warn=="function"&&console.warn(e),uo=(e,t,n)=>{const o={};return n.filter(r=>Array.isArray(r[e])?!0:(typeof r[e]<"u"&&jg(`Helmet: ${e} should be of type "Array". Instead found type "${typeof r[e]}"`),!1)).map(r=>r[e]).reverse().reduce((r,i)=>{const l={};i.filter(c=>{let d;const f=Object.keys(c);for(let m=0;m<f.length;m+=1){const g=f[m],C=g.toLowerCase();t.indexOf(C)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(C==="rel"&&c[C].toLowerCase()==="stylesheet")&&(d=C),t.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(d=g)}if(!d||!c[d])return!1;const p=c[d].toLowerCase();return o[d]||(o[d]={}),l[d]||(l[d]={}),o[d][p]?!1:(l[d][p]=!0,!0)}).reverse().forEach(c=>r.push(c));const u=Object.keys(l);for(let c=0;c<u.length;c+=1){const d=u[c],f={...o[d],...l[d]};o[d]=f}return r},[]).reverse()},ey=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},ty=e=>({baseTag:Zg(["href"],e),bodyAttributes:os("bodyAttributes",e),defer:Vn(e,Fn.DEFER),encode:Vn(e,Fn.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:os("htmlAttributes",e),linkTags:uo("link",["rel","href"],e),metaTags:uo("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:uo("noscript",["innerHTML"],e),onChangeClientState:Xg(e),scriptTags:uo("script",["src","innerHTML"],e),styleTags:uo("style",["cssText"],e),title:Qg(e),titleAttributes:os("titleAttributes",e),prioritizeSeoTags:ey(e,Fn.PRIORITIZE_SEO_TAGS)}),wp=e=>Array.isArray(e)?e.join(""):e,ny=(e,t)=>{const n=Object.keys(e);for(let o=0;o<n.length;o+=1)if(t[n[o]]&&t[n[o]].includes(e[n[o]]))return!0;return!1},rs=(e,t)=>Array.isArray(e)?e.reduce((n,o)=>(ny(o,t)?n.priority.push(o):n.default.push(o),n),{priority:[],default:[]}):{default:e,priority:[]},Mu=(e,t)=>({...e,[t]:void 0}),oy=["noscript","script","style"],tl=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ap=e=>Object.keys(e).reduce((t,n)=>{const o=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${o}`:o},""),ry=(e,t,n,o)=>{const r=Ap(n),i=wp(t);return r?`<${e} ${ot}="true" ${r}>${tl(i,o)}</${e}>`:`<${e} ${ot}="true">${tl(i,o)}</${e}>`},iy=(e,t,n=!0)=>t.reduce((o,r)=>{const i=r,l=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const p=typeof i[f]>"u"?f:`${f}="${tl(i[f],n)}"`;return d?`${d} ${p}`:p},""),u=i.innerHTML||i.cssText||"",c=oy.indexOf(e)===-1;return`${o}<${e} ${ot}="true" ${l}${c?"/>":`>${u}</${e}>`}`},""),Np=(e,t={})=>Object.keys(e).reduce((n,o)=>{const r=da[o];return n[r||o]=e[o],n},t),sy=(e,t,n)=>{const o={key:t,[ot]:!0},r=Np(n,o);return[vt.createElement("title",r,t)]},Pr=(e,t)=>t.map((n,o)=>{const r={key:o,[ot]:!0};return Object.keys(n).forEach(i=>{const u=da[i]||i;if(u==="innerHTML"||u==="cssText"){const c=n.innerHTML||n.cssText;r.dangerouslySetInnerHTML={__html:c}}else r[u]=n[i]}),vt.createElement(e,r)}),Oe=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>sy(e,t.title,t.titleAttributes),toString:()=>ry(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Np(t),toString:()=>Ap(t)};default:return{toComponent:()=>Pr(e,t),toString:()=>iy(e,t,n)}}},ly=({metaTags:e,linkTags:t,scriptTags:n,encode:o})=>{const r=rs(e,ns.meta),i=rs(t,ns.link),l=rs(n,ns.script);return{priorityMethods:{toComponent:()=>[...Pr("meta",r.priority),...Pr("link",i.priority),...Pr("script",l.priority)],toString:()=>`${Oe("meta",r.priority,o)} ${Oe("link",i.priority,o)} ${Oe("script",l.priority,o)}`},metaTags:r.default,linkTags:i.default,scriptTags:l.default}},ay=e=>{const{baseTag:t,bodyAttributes:n,encode:o=!0,htmlAttributes:r,noscriptTags:i,styleTags:l,title:u="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:f,metaTags:p,scriptTags:m}=e,g={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:g,linkTags:f,metaTags:p,scriptTags:m}=ly(e)),{priority:g,base:Oe("base",t,o),bodyAttributes:Oe("bodyAttributes",n,o),htmlAttributes:Oe("htmlAttributes",r,o),link:Oe("link",f,o),meta:Oe("meta",p,o),noscript:Oe("noscript",i,o),script:Oe("script",m,o),style:Oe("style",l,o),title:Oe("title",{title:u,titleAttributes:c},o)}},nl=ay,hr=[],Rp=!!(typeof window<"u"&&window.document&&window.document.createElement),ol=class{constructor(e,t){ht(this,"instances",[]);ht(this,"canUseDOM",Rp);ht(this,"context");ht(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?hr:this.instances,add:e=>{(this.canUseDOM?hr:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?hr:this.instances).indexOf(e);(this.canUseDOM?hr:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=nl({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},uy={},Pp=vt.createContext(uy),nn,kp=(nn=class extends U.Component{constructor(n){super(n);ht(this,"helmetData");this.helmetData=new ol(this.props.context||{},nn.canUseDOM)}render(){return vt.createElement(Pp.Provider,{value:this.helmetData.value},this.props.children)}},ht(nn,"canUseDOM",Rp),nn),gn=(e,t)=>{const n=document.head||document.querySelector("head"),o=n.querySelectorAll(`${e}[${ot}]`),r=[].slice.call(o),i=[];let l;return t&&t.length&&t.forEach(u=>{const c=document.createElement(e);for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d))if(d==="innerHTML")c.innerHTML=u.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{const f=d,p=typeof u[f]>"u"?"":u[f];c.setAttribute(d,p)}c.setAttribute(ot,"true"),r.some((d,f)=>(l=f,c.isEqualNode(d)))?r.splice(l,1):i.push(c)}),r.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)}),i.forEach(u=>n.appendChild(u)),{oldTags:r,newTags:i}},rl=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const o=n.getAttribute(ot),r=o?o.split(","):[],i=[...r],l=Object.keys(t);for(const u of l){const c=t[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),r.indexOf(u)===-1&&r.push(u);const d=i.indexOf(u);d!==-1&&i.splice(d,1)}for(let u=i.length-1;u>=0;u-=1)n.removeAttribute(i[u]);r.length===i.length?n.removeAttribute(ot):n.getAttribute(ot)!==l.join(",")&&n.setAttribute(ot,l.join(","))},cy=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=wp(e)),rl("title",t)},Du=(e,t)=>{const{baseTag:n,bodyAttributes:o,htmlAttributes:r,linkTags:i,metaTags:l,noscriptTags:u,onChangeClientState:c,scriptTags:d,styleTags:f,title:p,titleAttributes:m}=e;rl("body",o),rl("html",r),cy(p,m);const g={baseTag:gn("base",n),linkTags:gn("link",i),metaTags:gn("meta",l),noscriptTags:gn("noscript",u),scriptTags:gn("script",d),styleTags:gn("style",f)},C={},E={};Object.keys(g).forEach(_=>{const{newTags:v,oldTags:y}=g[_];v.length&&(C[_]=v),y.length&&(E[_]=g[_].oldTags)}),t&&t(),c(e,C,E)},co=null,dy=e=>{co&&cancelAnimationFrame(co),e.defer?co=requestAnimationFrame(()=>{Du(e,()=>{co=null})}):(Du(e),co=null)},fy=dy,Lu=class extends U.Component{constructor(){super(...arguments);ht(this,"rendered",!1)}shouldComponentUpdate(t){return!Yg(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let o=null;const r=ty(t.get().map(i=>{const l={...i.props};return delete l.context,l}));kp.canUseDOM?fy(r):nl&&(o=nl(r)),n(o)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},ls,py=(ls=class extends U.Component{shouldComponentUpdate(e){return!Jg(Mu(this.props,"helmetData"),Mu(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,o){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,o)}]}}mapObjectTypeChildren(e,t,n,o){switch(e.type){case"title":return{...t,[e.type]:o,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(o=>{n={...n,[o]:e[o]}}),n}warnOnInvalidChildren(e,t){return Pu(ku.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ku.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Pu(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return vt.Children.forEach(e,o=>{if(!o||!o.props)return;const{children:r,...i}=o.props,l=Object.keys(i).reduce((c,d)=>(c[bg[d]||d]=i[d],c),{});let{type:u}=o;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(o,r),u){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(o,n,l,r);break;default:t=this.mapObjectTypeChildren(o,t,l,r);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:o}=t;if(e&&(n=this.mapChildrenToProps(e,n)),o&&!(o instanceof ol)){const r=o;o=new ol(r.context,!0),delete n.helmetData}return o?vt.createElement(Lu,{...n,context:o.value}):vt.createElement(Pp.Consumer,null,r=>vt.createElement(Lu,{...n,context:r}))}},ht(ls,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ls);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mp=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:l,...u},c)=>U.createElement("svg",{ref:c,...hy,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:Mp("lucide",r),...u},[...l.map(([d,f])=>U.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=U.forwardRef(({className:o,...r},i)=>U.createElement(gy,{ref:i,iconNode:t,className:Mp(`lucide-${my(e)}`,o),...r}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=J("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=J("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=J("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=J("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=J("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=J("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=J("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=J("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=J("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=J("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=J("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=J("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ly=["Vegetarian","Vegan","No Stove","Microwave Only","Under 15m","One Pot","High Protein","Low Carb"],Uy=({onCapture:e,onBack:t,isProcessing:n})=>{const o=U.useRef(null),r=U.useRef(null),i=U.useRef(null),l=U.useRef([]),u=U.useRef(null),[c,d]=U.useState(!1),[f,p]=U.useState(null),[m,g]=U.useState("GENERIC"),[C,E]=U.useState(0),[_,v]=U.useState([]),[y,T]=U.useState(!1);U.useEffect(()=>((async()=>{p(null);try{const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!0});u.current=A,o.current&&(o.current.srcObject=A)}catch(A){console.error("Error accessing media devices:",A),A.name==="NotAllowedError"||A.name==="PermissionDeniedError"?(p("Access Denied. Please enable camera and microphone permissions in your browser settings."),g("PERMISSION")):A.name==="NotFoundError"||A.name==="DevicesNotFoundError"?(p("No camera or microphone detected on this device."),g("HARDWARE")):A.name==="NotReadableError"||A.name==="TrackStartError"?(p("Hardware in use. Please close other apps using the camera/mic."),g("HARDWARE")):(p(`Unable to access media devices: ${A.message}`),g("GENERIC"))}})(),()=>{u.current&&u.current.getTracks().forEach(A=>A.stop())}),[]),U.useEffect(()=>{let N;return c?N=window.setInterval(()=>{E(A=>A+1)},1e3):E(0),()=>clearInterval(N)},[c]);const S=U.useCallback(()=>{if(o.current&&r.current){const N=r.current.getContext("2d");if(N)return r.current.width=o.current.videoWidth,r.current.height=o.current.videoHeight,N.drawImage(o.current,0,0),r.current.toDataURL("image/jpeg",.8).split(",")[1]}return null},[]),x=N=>{v(A=>A.includes(N)?A.filter(V=>V!==N):[...A,N])},I=()=>{if(!u.current||n)return;const N=u.current.getAudioTracks();if(N.length===0){p("Microphone not active. Please check input settings."),g("HARDWARE");return}d(!0),l.current=[];const A=[],V=S();V&&A.push(V);let X="audio/webm";MediaRecorder.isTypeSupported("audio/mp4")?X="audio/mp4":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")&&(X="audio/webm;codecs=opus");try{const G=new MediaStream([N[0]]),re=new MediaRecorder(G,{mimeType:X});i.current=re,re.ondataavailable=Z=>{Z.data.size>0&&l.current.push(Z.data)};const Je=setInterval(()=>{const Z=S();Z&&A.push(Z)},1e3);re.onstop=async()=>{clearInterval(Je);const Z=new Blob(l.current,{type:X});Z.size===0&&console.warn("Audio recording empty");const Ee=new FileReader;Ee.readAsDataURL(Z),Ee.onloadend=()=>{const M=Ee.result.split(",")[1];e({images:A,audio:M,audioMimeType:X,constraints:_})}},re.start()}catch(G){console.error("MediaRecorder error",G),p(`Failed to start recording: ${G.message}`),g("GENERIC"),d(!1)}},w=()=>{if(i.current&&c){try{i.current.stop()}catch(N){console.error("Error stopping recorder:",N)}d(!1)}},P=N=>{const A=Math.floor(N/60),V=N%60;return`${A}:${V.toString().padStart(2,"0")}`};return f?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center bg-stone-900 p-8 space-y-6",children:[h.jsx("div",{className:"p-4 bg-red-900/20 rounded-full text-red-400 border border-red-900/50 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:h.jsx(ky,{size:48,strokeWidth:1.5})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-2xl font-serif text-white",children:m==="PERMISSION"?"Permission Required":m==="HARDWARE"?"Device Error":"Connection Error"}),h.jsx("p",{className:"text-stone-400 max-w-xs mx-auto text-sm leading-relaxed",children:f})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:t,className:"px-6 py-3 border border-stone-700 text-stone-300 rounded-full hover:bg-stone-800 transition-colors",children:"Cancel"}),h.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-6 py-3 bg-stone-800 hover:bg-stone-700 text-white rounded-full transition-all text-sm font-medium tracking-wide uppercase",children:[h.jsx(sl,{size:16}),"Reload"]})]})]}):h.jsxs("div",{className:"relative h-full w-full bg-black overflow-hidden flex flex-col",children:[h.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover opacity-80"}),h.jsx("canvas",{ref:r,className:"hidden"}),h.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/80 flex flex-col justify-between p-6",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsx("button",{onClick:t,className:"p-3 bg-black/40 backdrop-blur-md rounded-full text-white/80 hover:bg-black/60 transition-colors",children:h.jsx(ll,{size:20})}),h.jsxs("div",{className:"text-right pt-2",children:[h.jsx("h2",{className:"text-stone-300 text-[10px] font-medium tracking-widest uppercase mb-1",children:"The Chef's Muse"}),h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),h.jsx("span",{className:"text-stone-400 text-xs",children:"Live Vision"})]})]})]}),!c&&h.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center w-full max-w-xs pointer-events-none",children:[h.jsx("h1",{className:"text-white font-serif text-3xl italic drop-shadow-lg mb-2",children:"What's in your fridge?"}),h.jsx("p",{className:"text-white/70 text-xs drop-shadow-md",children:"Pan over ingredients & speak your cravings."})]}),h.jsxs("div",{className:"flex flex-col items-center gap-6 mb-8",children:[!c&&h.jsxs("div",{className:"w-full",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsxs("button",{onClick:()=>T(!y),className:`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-medium transition-all ${_.length>0||y?"bg-amber-350 text-stone-900":"bg-black/40 text-stone-300 backdrop-blur-md"}`,children:[h.jsx(Lp,{size:14}),_.length>0?`${_.length} Filter${_.length>1?"s":""}`:"Kitchen Constraints"]})}),h.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out ${y?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:h.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-sm mx-auto p-2",children:Ly.map(N=>h.jsx("button",{onClick:()=>x(N),className:`px-3 py-1 rounded-full text-[10px] uppercase tracking-wider border transition-all ${_.includes(N)?"bg-amber-350 border-amber-350 text-stone-900 font-bold":"bg-black/60 border-stone-600 text-stone-400 hover:border-amber-350/50"}`,children:N},N))})})]}),c&&h.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm px-4 py-1 rounded-full border border-red-500/50 flex items-center gap-2 animate-pulse",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),h.jsx("span",{className:"text-red-100 font-mono text-sm",children:P(C)})]}),h.jsxs("button",{onMouseDown:I,onMouseUp:w,onTouchStart:I,onTouchEnd:w,disabled:n,className:`
              relative w-20 h-20 rounded-full border-4 flex items-center justify-center transition-all duration-300 shadow-xl
              ${c?"border-red-500 bg-red-500/20 scale-110 shadow-[0_0_30px_rgba(239,68,68,0.4)]":"border-white/80 hover:border-amber-350 hover:bg-white/10"}
              ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
            `,children:[c?h.jsx(Ry,{className:"w-6 h-6 text-red-500 fill-current"}):h.jsx(oi,{className:"w-8 h-8 text-white"}),!c&&!n&&h.jsx("span",{className:"absolute -bottom-8 whitespace-nowrap text-stone-400 text-[10px] tracking-widest uppercase",children:"Hold to Speak"})]})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fy,Vy;function Gy(){return{geminiUrl:Fy,vertexUrl:Vy}}function Hy(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const l=Gy();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nt{}function k(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,t.slice(i+1),n[d])}else for(const d of c)a(d,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function qy(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}al(e,r,i,0,l)}}function al(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])al(c,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const p=[];for(const m of n.slice(o))m==="*"?p.push(d):p.push(m);a(l,p,f)}for(const d of u)delete l[d]}}else{const l=e;i in l&&al(l[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pa(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zy(e){const t={},n=s(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=s(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function By(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Jy(l)),t}function $y(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Oy(l)),t}function Jy(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Wy(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Oy(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Ky(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Wy(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],jy(n)),t}function Ky(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],ev(n)),t}function Yy(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function by(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Qy(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Xy(l)),t}function Xy(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Up(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Zy(l)),t}function Zy(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function jy(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],pa(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function ev(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],pa(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zu||(zu={}));var Bu;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Bu||(Bu={}));var $u;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})($u||($u={}));var se;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(se||(se={}));var Ju;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ju||(Ju={}));var Ou;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ou||(Ou={}));var Wu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Wu||(Wu={}));var Ku;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ku||(Ku={}));var Yu;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Yu||(Yu={}));var bu;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(bu||(bu={}));var Qu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qu||(Qu={}));var Xu;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Xu||(Xu={}));var Zu;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Zu||(Zu={}));var ju;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(ju||(ju={}));var ec;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ec||(ec={}));var tc;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tc||(tc={}));var nc;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nc||(nc={}));var oc;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(oc||(oc={}));var rc;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rc||(rc={}));var Wo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Wo||(Wo={}));var ic;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ic||(ic={}));var sc;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sc||(sc={}));var lc;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lc||(lc={}));var ul;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ul||(ul={}));var ac;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ac||(ac={}));var uc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uc||(uc={}));var cc;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(cc||(cc={}));var dc;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(dc||(dc={}));var fc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(fc||(fc={}));var pc;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pc||(pc={}));var mc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(mc||(mc={}));var hc;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(hc||(hc={}));var gc;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(gc||(gc={}));var yc;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(yc||(yc={}));var vc;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vc||(vc={}));var Tc;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Tc||(Tc={}));var Cc;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cc||(Cc={}));var Ec;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ec||(Ec={}));var Sc;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Sc||(Sc={}));var xc;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(xc||(xc={}));var _c;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(_c||(_c={}));var Ic;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Ic||(Ic={}));var wc;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(wc||(wc={}));var Ac;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Ac||(Ac={}));var Nc;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Nc||(Nc={}));var Rc;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Rc||(Rc={}));var Pc;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Pc||(Pc={}));var kc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(kc||(kc={}));var Mc;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mc||(Mc={}));var Dc;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dc||(Dc={}));var Lc;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Lc||(Lc={}));var Uc;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Uc||(Uc={}));var Fc;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fc||(Fc={}));var Vc;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Vc||(Vc={}));var Rn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Rn||(Rn={}));class cl{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class fo{get text(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const m of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,C]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(C!==null||C!==void 0)&&p.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,g]of Object.entries(p))m!=="inlineData"&&(g!==null||g!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Gc{}class Hc{}class tv{}class nv{}class ov{}class rv{}class qc{}class zc{}class Bc{}class iv{}class ri{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ri;let r;const i=t;return n?r=$y(i):r=By(i),Object.assign(o,r),o}}class $c{}class Jc{}class Oc{}class Wc{}class sv{}class lv{}class av{}class ma{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ma,i=Qy(t);return Object.assign(o,i),o}}class uv{}class cv{}class dv{}class Kc{}class fv{get text(){var t,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const l of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class pv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ha{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new ha,i=Up(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Fp(e,t){const n=K(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Vp(e){return Array.isArray(e)?e.map(t=>ii(t)):[ii(e)]}function ii(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Gp(e){const t=ii(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Hp(e){const t=ii(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Yc(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function qp(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Yc(t)):[Yc(e)]}function dl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function bc(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Qc(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ae(e){if(e==null)throw new Error("ContentUnion is required");return dl(e)?e:{role:"user",parts:qp(e)}}function ga(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Ae(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Ae(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ae(n)):[Ae(t)]}function Qe(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(bc(e)||Qc(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ae(e)]}const t=[],n=[],o=dl(e[0]);for(const r of e){const i=dl(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(bc(r)||Qc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:qp(n)}),t}function mv(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(se).includes(n[0].toUpperCase())?n[0].toUpperCase():se.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(se).includes(o.toUpperCase())?o.toUpperCase():se.TYPE_UNSPECIFIED})}}function Gn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&mv(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(se).includes(u.toUpperCase())?u.toUpperCase():se.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Gn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(Gn(d))}t[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Gn(f);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function ya(e){return Gn(e)}function va(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ta(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Xn(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Gn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Gn(t.response));return e}function Zn(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function hv(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function Rt(e,t){if(typeof t!="string")throw new Error("name must be a string");return hv(e,t,"cachedContents")}function zp(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Qt(e){return pa(e)}function gv(e){return e!=null&&typeof e=="object"&&"name"in e}function yv(e){return e!=null&&typeof e=="object"&&"video"in e}function vv(e){return e!=null&&typeof e=="object"&&"uri"in e}function Bp(e){var t;let n;if(gv(e)&&(n=e.name),!(vv(e)&&(n=e.uri,n===void 0))&&!(yv(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $p(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Jp(e){for(const t of["models","tunedModels","publisherModels"])if(Tv(e,t))return e[t];return[]}function Tv(e,t){return e!==null&&typeof e=="object"&&t in e}function Cv(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function Ev(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=Cv(r,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Op(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Sv(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Wp(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function jn(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Kp(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xv(e){const t={},n=s(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>o0(l))),a(t,["inlinedResponses"],i)}const r=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["inlinedEmbedContentResponses"],i)}return t}function _v(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function Iv(e){const t={},n=s(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function kr(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["metadata","state"]);r!=null&&a(t,["state"],Kp(r));const i=s(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=s(e,["metadata","model"]);c!=null&&a(t,["model"],c);const d=s(e,["metadata","output"]);return d!=null&&a(t,["dest"],xv(Wp(d))),t}function fl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],Kp(r));const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(t,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=s(e,["model"]);f!=null&&a(t,["model"],f);const p=s(e,["inputConfig"]);p!=null&&a(t,["src"],wv(p));const m=s(e,["outputConfig"]);m!=null&&a(t,["dest"],_v(Wp(m)));const g=s(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function wv(e){const t={},n=s(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function Av(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>n0(e,l))),a(n,["requests","requests"],i)}return n}function Nv(e){const t={},n=s(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Rv(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Pv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],jn(e,o)),n}function kv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],jn(e,o)),n}function Mv(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],Dv(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(t,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function Dv(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function Yp(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>c0(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function Lv(e,t){const n={},o=s(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Uv(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],Iv(Sv(r))),n}function Xc(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Av(e,Op(e,r)));const i=s(t,["config"]);return i!=null&&Lv(i,n),n}function Fv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],K(e,o));const r=s(t,["src"]);r!=null&&a(n,["inputConfig"],Nv(Op(e,r)));const i=s(t,["config"]);return i!=null&&Uv(i,n),n}function Vv(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function Gv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Ov(e,r));const i=s(t,["config"]);return i!=null&&Vv(i,n),n}function Hv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],jn(e,o)),n}function qv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],jn(e,o)),n}function zv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function Bv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function $v(e,t){const n={},o=s(t,["contents"]);if(o!=null){let i=ga(e,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(t,["config"]);return r!=null&&(a(n,["_self"],Jv(r,n)),qy(n,{"requests[].*":"requests[].request.*"})),n}function Jv(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ov(e,t){const n={},o=s(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],$v(e,r)),n}function Wv(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Kv(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Yv(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bv(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Yp(Ae(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const C=s(t,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const E=s(t,["seed"]);E!=null&&a(o,["seed"],E);const _=s(t,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],ya(v));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=s(t,["safetySettings"]);if(n!==void 0&&T!=null){let G=T;Array.isArray(G)&&(G=G.map(re=>d0(re))),a(n,["safetySettings"],G)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let G=Zn(S);Array.isArray(G)&&(G=G.map(re=>p0(Xn(re)))),a(n,["tools"],G)}const x=s(t,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],f0(x)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Rt(e,I));const w=s(t,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const P=s(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const N=s(t,["speechConfig"]);if(N!=null&&a(o,["speechConfig"],va(N)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=s(t,["thinkingConfig"]);A!=null&&a(o,["thinkingConfig"],A);const V=s(t,["imageConfig"]);V!=null&&a(o,["imageConfig"],t0(V));const X=s(t,["enableEnhancedCivicAnswers"]);return X!=null&&a(o,["enableEnhancedCivicAnswers"],X),o}function Qv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Mv(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Xv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],jn(e,o)),n}function Zv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],jn(e,o)),n}function jv(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function e0(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function t0(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function n0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["request","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let u=Qe(r);Array.isArray(u)&&(u=u.map(c=>Yp(c))),a(n,["request","contents"],u)}const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["config"]);return l!=null&&a(n,["request","generationConfig"],bv(e,l,s(n,["request"],{}))),n}function o0(e){const t={},n=s(e,["response"]);n!=null&&a(t,["response"],Qv(n));const o=s(e,["error"]);return o!=null&&a(t,["error"],o),t}function r0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function i0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=s(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function s0(e){const t={},n=s(e,["config"]);return n!=null&&r0(n,t),t}function l0(e){const t={},n=s(e,["config"]);return n!=null&&i0(n,t),t}function a0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>kr(l))),a(t,["batchJobs"],i)}return t}function u0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>fl(l))),a(t,["batchJobs"],i)}return t}function c0(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],Wv(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],Kv(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Rv(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function d0(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function f0(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Yv(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function p0(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],jv(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],e0(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(wt||(wt={}));class mn{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m0 extends Nt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mn(wt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Xc(this.apiClient,t),o=n._url,r=k("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=m,p.request=g}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Fv(this.apiClient,t);return u=k("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>fl(f))}else{const d=Xc(this.apiClient,t);return u=k("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>kr(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gv(this.apiClient,t);return i=k("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>kr(c))}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Zv(this.apiClient,t);return u=k("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>fl(f))}else{const d=Xv(this.apiClient,t);return u=k("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>kr(f))}}async cancel(t){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=kv(this.apiClient,t);l=k("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Pv(this.apiClient,t);l=k("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l0(t);return u=k("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=u0(f),m=new Kc;return Object.assign(m,p),m})}else{const d=s0(t);return u=k("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=a0(f),m=new Kc;return Object.assign(m,p),m})}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=qv(this.apiClient,t);return u=k("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Bv(f))}else{const d=Hv(this.apiClient,t);return u=k("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>zv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h0(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Zc(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>G0(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function g0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let f=Qe(l);Array.isArray(f)&&(f=f.map(p=>Zc(p))),a(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Zc(Ae(u)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>q0(p))),a(t,["tools"],f)}const d=s(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],H0(d)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function y0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let p=Qe(l);Array.isArray(p)&&(p=p.map(m=>m)),a(t,["contents"],p)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Ae(u));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>z0(m))),a(t,["tools"],p)}const d=s(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],d);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function v0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],Fp(e,o));const r=s(t,["config"]);return r!=null&&g0(r,n),n}function T0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],Fp(e,o));const r=s(t,["config"]);return r!=null&&y0(r,n),n}function C0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Rt(e,o)),n}function E0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Rt(e,o)),n}function S0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function x0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function _0(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function I0(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function w0(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function A0(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function N0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Rt(e,o)),n}function R0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],Rt(e,o)),n}function P0(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function k0(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function M0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function D0(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function L0(e){const t={},n=s(e,["config"]);return n!=null&&M0(n,t),t}function U0(e){const t={},n=s(e,["config"]);return n!=null&&D0(n,t),t}function F0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function V0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function G0(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],_0(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],I0(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],h0(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function H0(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],w0(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function q0(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],P0(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],k0(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function z0(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>A0(m))),a(t,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function B0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function $0(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function J0(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],Rt(e,o));const r=s(t,["config"]);return r!=null&&B0(r,n),n}function O0(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],Rt(e,o));const r=s(t,["config"]);return r!=null&&$0(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W0 extends Nt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mn(wt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=T0(this.apiClient,t);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=v0(this.apiClient,t);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=R0(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=N0(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=E0(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=x0(f),m=new Oc;return Object.assign(m,p),m})}else{const d=C0(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=S0(f),m=new Oc;return Object.assign(m,p),m})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=O0(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=J0(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=U0(t);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=V0(f),m=new Wc;return Object.assign(m,p),m})}else{const d=L0(t);return u=k("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=F0(f),m=new Wc;return Object.assign(m,p),m})}}}function jc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(e){return this instanceof ne?(this.v=e,this):new ne(e)}function Hn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(g){return function(C){return Promise.resolve(C).then(g,p)}}function u(g,C){o[g]&&(r[g]=function(E){return new Promise(function(_,v){i.push([g,E,_,v])>1||c(g,E)})},C&&(r[g]=C(r[g])))}function c(g,C){try{d(o[g](C))}catch(E){m(i[0][3],E)}}function d(g){g.value instanceof ne?Promise.resolve(g.value.v).then(f,p):m(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function m(g,C){g(C),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ao(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof jc=="function"?jc(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(l){return new Promise(function(u,c){l=e[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K0(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:bp(n)}function bp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Y0(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function ed(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!bp(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class b0{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Q0(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Q0{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),Y0(i)}async sendMessage(t){var n;await this.sendPromise;const o=Ae(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const g=d?[d]:[];this.recordHistory(o,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=Ae(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?ed(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Hn(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var p=!0,m=Ao(t),g;g=yield ne(m.next()),r=g.done,!r;p=!0){u=g.value,p=!1;const C=u;if(K0(C)){const E=(d=(c=C.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;E!==void 0&&f.push(E)}yield yield ne(C)}}catch(C){i={error:C}}finally{try{!p&&!r&&(l=m.return)&&(yield ne(l.call(m)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...ed(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,wi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(e){const t={},n=s(e,["file"]);return n!=null&&a(t,["file"],n),t}function Z0(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function j0(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],Bp(n)),t}function eT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function tT(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],Bp(n)),t}function nT(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function oT(e){const t={},n=s(e,["config"]);return n!=null&&nT(n,t),t}function rT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends Nt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mn(wt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=oT(t);return i=k("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=rT(c),f=new uv;return Object.assign(f,d),f})}}async createInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=X0(t);return i=k("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Z0(c),f=new cv;return Object.assign(f,d),f})}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tT(t);return i=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j0(t);return i=k("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=eT(c),f=new dv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mr(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function sT(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ST(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function lT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function aT(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uT(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function cT(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const g=s(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const C=s(e,["responseModalities"]);C!=null&&a(t,["responseModalities"],C);const E=s(e,["responseSchema"]);E!=null&&a(t,["responseSchema"],E);const _=s(e,["routingConfig"]);_!=null&&a(t,["routingConfig"],_);const v=s(e,["seed"]);v!=null&&a(t,["seed"],v);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],Qp(y));const T=s(e,["stopSequences"]);T!=null&&a(t,["stopSequences"],T);const S=s(e,["temperature"]);S!=null&&a(t,["temperature"],S);const x=s(e,["thinkingConfig"]);x!=null&&a(t,["thinkingConfig"],x);const I=s(e,["topK"]);I!=null&&a(t,["topK"],I);const w=s(e,["topP"]);if(w!=null&&a(t,["topP"],w),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function dT(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function fT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function pT(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],Ta(p));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&a(t,["setup","systemInstruction"],sT(Ae(C)));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let I=Zn(E);Array.isArray(I)&&(I=I.map(w=>_T(Xn(w)))),a(t,["setup","tools"],I)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&a(t,["setup","sessionResumption"],xT(_));const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const T=s(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&a(t,["setup","realtimeInputConfig"],T);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&a(t,["setup","proactivity"],x),n}function mT(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],cT(o));const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],Qp(Ta(p)));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&a(t,["setup","systemInstruction"],Ae(C));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let I=Zn(E);Array.isArray(I)&&(I=I.map(w=>IT(Xn(w)))),a(t,["setup","tools"],I)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&a(t,["setup","sessionResumption"],_);const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const T=s(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&a(t,["setup","realtimeInputConfig"],T);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&a(t,["setup","proactivity"],x),n}function hT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],pT(r,n)),n}function gT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],mT(r,n)),n}function yT(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function vT(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function TT(e){const t={},n=s(e,["media"]);if(n!=null){let d=Vp(n);Array.isArray(d)&&(d=d.map(f=>Mr(f))),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],Mr(Hp(o)));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],Mr(Gp(i)));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function CT(e){const t={},n=s(e,["media"]);if(n!=null){let d=Vp(n);Array.isArray(d)&&(d=d.map(f=>f)),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],Hp(o));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],Gp(i));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function ET(e){const t={},n=s(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=s(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=s(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],wT(l));const u=s(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=s(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],c),t}function ST(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],lT(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],aT(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Mr(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function xT(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Qp(e){const t={},n=s(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],n);const o=s(e,["languageCode"]);if(o!=null&&a(t,["languageCode"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function _T(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],dT(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],fT(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function IT(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>uT(m))),a(t,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function wT(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=s(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=s(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=s(e,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(C=>C)),a(t,["promptTokensDetails"],g)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(C=>C)),a(t,["cacheTokensDetails"],g)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(C=>C)),a(t,["responseTokensDetails"],g)}const p=s(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(C=>C)),a(t,["toolUsePromptTokensDetails"],g)}const m=s(e,["trafficType"]);return m!=null&&a(t,["trafficType"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function NT(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],RT(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),a(t,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(t,["urlContextMetadata"],p),t}function RT(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function PT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let i=Qe(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function kT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["tokensInfo"],r)}return t}function MT(e){const t={},n=s(e,["values"]);n!=null&&a(t,["values"],n);const o=s(e,["statistics"]);return o!=null&&a(t,["statistics"],DT(o)),t}function DT(e){const t={},n=s(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=s(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function Ai(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BC(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function LT(e){const t={},n=s(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=s(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function UT(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function FT(e,t){const n={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Ae(o));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>tm(u))),a(t,["tools"],l)}const i=s(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],AC(i)),n}function VT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Qe(r);Array.isArray(l)&&(l=l.map(u=>Ai(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&UT(i),n}function GT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Qe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&FT(i,n),n}function HT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(t,["cachedContentTokenCount"],r),t}function qT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function zT(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function BT(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function $T(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function JT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function OT(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const g=s(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const C=s(e,["outputMimeType"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","mimeType"],C);const E=s(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","compressionQuality"],E);const _=s(e,["addWatermark"]);t!==void 0&&_!=null&&a(t,["parameters","addWatermark"],_);const v=s(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const y=s(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const T=s(e,["baseSteps"]);return t!==void 0&&T!=null&&a(t,["parameters","editConfig","baseSteps"],T),n}function WT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>YC(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(t,["config"]);return l!=null&&OT(l,n),n}function KT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ni(i))),a(t,["generatedImages"],r)}return t}function YT(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bT(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const i=s(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function QT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let u=ga(e,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(t,["config"]);i!=null&&YT(i,n);const l=s(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],K(e,l)),n}function XT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=ga(e,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(t,["config"]);return i!=null&&bT(i,n),n}function ZT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function jT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>MT(l))),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function eC(e){const t={},n=s(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=s(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function tC(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function nC(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function oC(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rC(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function iC(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ai(Ae(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const C=s(t,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const E=s(t,["seed"]);E!=null&&a(o,["seed"],E);const _=s(t,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],ya(v));const y=s(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=s(t,["safetySettings"]);if(n!==void 0&&T!=null){let G=T;Array.isArray(G)&&(G=G.map(re=>bC(re))),a(n,["safetySettings"],G)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let G=Zn(S);Array.isArray(G)&&(G=G.map(re=>nE(Xn(re)))),a(n,["tools"],G)}const x=s(t,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],tE(x)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Rt(e,I));const w=s(t,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const P=s(t,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const N=s(t,["speechConfig"]);if(N!=null&&a(o,["speechConfig"],va(N)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=s(t,["thinkingConfig"]);A!=null&&a(o,["thinkingConfig"],A);const V=s(t,["imageConfig"]);V!=null&&a(o,["imageConfig"],MC(V));const X=s(t,["enableEnhancedCivicAnswers"]);return X!=null&&a(o,["enableEnhancedCivicAnswers"],X),o}function sC(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ae(r));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(t,["logprobs"]);m!=null&&a(o,["logprobs"],m);const g=s(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const C=s(t,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const E=s(t,["seed"]);E!=null&&a(o,["seed"],E);const _=s(t,["responseMimeType"]);_!=null&&a(o,["responseMimeType"],_);const v=s(t,["responseSchema"]);v!=null&&a(o,["responseSchema"],ya(v));const y=s(t,["responseJsonSchema"]);y!=null&&a(o,["responseJsonSchema"],y);const T=s(t,["routingConfig"]);T!=null&&a(o,["routingConfig"],T);const S=s(t,["modelSelectionConfig"]);S!=null&&a(o,["modelConfig"],S);const x=s(t,["safetySettings"]);if(n!==void 0&&x!=null){let Z=x;Array.isArray(Z)&&(Z=Z.map(Ee=>Ee)),a(n,["safetySettings"],Z)}const I=s(t,["tools"]);if(n!==void 0&&I!=null){let Z=Zn(I);Array.isArray(Z)&&(Z=Z.map(Ee=>tm(Xn(Ee)))),a(n,["tools"],Z)}const w=s(t,["toolConfig"]);n!==void 0&&w!=null&&a(n,["toolConfig"],w);const P=s(t,["labels"]);n!==void 0&&P!=null&&a(n,["labels"],P);const N=s(t,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],Rt(e,N));const A=s(t,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const V=s(t,["mediaResolution"]);V!=null&&a(o,["mediaResolution"],V);const X=s(t,["speechConfig"]);X!=null&&a(o,["speechConfig"],em(va(X)));const G=s(t,["audioTimestamp"]);G!=null&&a(o,["audioTimestamp"],G);const re=s(t,["thinkingConfig"]);re!=null&&a(o,["thinkingConfig"],re);const Je=s(t,["imageConfig"]);if(Je!=null&&a(o,["imageConfig"],DC(Je)),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function td(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Qe(r);Array.isArray(l)&&(l=l.map(u=>Ai(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],iC(e,i,n)),n}function nd(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["contents"]);if(r!=null){let l=Qe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],sC(e,i,n)),n}function od(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>NT(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function rd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(t,["candidates"],d)}const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(t,["responseId"],u);const c=s(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function lC(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const i=s(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const d=s(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const f=s(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const p=s(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const m=s(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function aC(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);t!==void 0&&m!=null&&a(t,["parameters","includeRaiReason"],m);const g=s(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const C=s(e,["outputMimeType"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","mimeType"],C);const E=s(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","compressionQuality"],E);const _=s(e,["addWatermark"]);t!==void 0&&_!=null&&a(t,["parameters","addWatermark"],_);const v=s(e,["labels"]);t!==void 0&&v!=null&&a(t,["labels"],v);const y=s(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const T=s(e,["enhancePrompt"]);return t!==void 0&&T!=null&&a(t,["parameters","enhancePrompt"],T),n}function uC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&lC(i,n),n}function cC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&aC(i,n),n}function dC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>xC(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],Zp(r)),t}function fC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ni(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],jp(r)),t}function pC(e,t){const n={},o=s(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);t!==void 0&&c!=null&&a(t,["parameters","negativePrompt"],c);const d=s(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&a(t,["parameters","enhancePrompt"],d),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],Ri(f));const p=s(e,["referenceImages"]);if(t!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(g=>hE(g))),a(t,["instances[0]","referenceImages"],m)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function mC(e,t){const n={},o=s(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=s(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const l=s(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=s(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const d=s(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const p=s(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const m=s(e,["negativePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","negativePrompt"],m);const g=s(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const C=s(e,["generateAudio"]);t!==void 0&&C!=null&&a(t,["parameters","generateAudio"],C);const E=s(e,["lastFrame"]);t!==void 0&&E!=null&&a(t,["instances[0]","lastFrame"],lt(E));const _=s(e,["referenceImages"]);if(t!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(S=>gE(S))),a(t,["instances[0]","referenceImages"],T)}const v=s(e,["mask"]);t!==void 0&&v!=null&&a(t,["instances[0]","mask"],mE(v));const y=s(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function hC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],TC(l)),t}function gC(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],CC(l)),t}function yC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],Ri(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],nm(l));const u=s(t,["source"]);u!=null&&EC(u,n);const c=s(t,["config"]);return c!=null&&pC(c,n),n}function vC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],lt(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],om(l));const u=s(t,["source"]);u!=null&&SC(u,n);const c=s(t,["config"]);return c!=null&&mC(c,n),n}function TC(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>IC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function CC(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>wC(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function EC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],Ri(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],nm(i)),n}function SC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],lt(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],om(i)),n}function xC(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],LC(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],Zp(r)),t}function Ni(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],Xp(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);r!=null&&a(t,["safetyAttributes"],jp(r));const i=s(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function _C(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["mask"],Xp(n));const o=s(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["labels"],r)}return t}function IC(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],fE(n)),t}function wC(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],pE(n)),t}function AC(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(t,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(t,["responseLogprobs"],m);const g=s(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const C=s(e,["responseModalities"]);C!=null&&a(t,["responseModalities"],C);const E=s(e,["responseSchema"]);E!=null&&a(t,["responseSchema"],E);const _=s(e,["routingConfig"]);_!=null&&a(t,["routingConfig"],_);const v=s(e,["seed"]);v!=null&&a(t,["seed"],v);const y=s(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],em(y));const T=s(e,["stopSequences"]);T!=null&&a(t,["stopSequences"],T);const S=s(e,["temperature"]);S!=null&&a(t,["temperature"],S);const x=s(e,["thinkingConfig"]);x!=null&&a(t,["thinkingConfig"],x);const I=s(e,["topK"]);I!=null&&a(t,["topK"],I);const w=s(e,["topP"]);if(w!=null&&a(t,["topP"],w),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function NC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function RC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],K(e,o)),n}function PC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function kC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function MC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function DC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const r=s(e,["outputMimeType"]);r!=null&&a(t,["imageOutputOptions","mimeType"],r);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function LC(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],Qt(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Xp(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],Qt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Ri(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],Qt(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function lt(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],Qt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function UC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$p(e,u)),o}function FC(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$p(e,u)),o}function VC(e,t){const n={},o=s(t,["config"]);return o!=null&&UC(e,o,n),n}function GC(e,t){const n={},o=s(t,["config"]);return o!=null&&FC(e,o,n),n}function HC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=Jp(r);Array.isArray(i)&&(i=i.map(l=>pl(l))),a(t,["models"],i)}return t}function qC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=Jp(r);Array.isArray(i)&&(i=i.map(l=>ml(l))),a(t,["models"],i)}return t}function zC(e){const t={},n=s(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=s(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const r=s(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function pl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["version"]);i!=null&&a(t,["version"],i);const l=s(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],oE(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const c=s(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const d=s(e,["supportedGenerationMethods"]);d!=null&&a(t,["supportedActions"],d);const f=s(e,["temperature"]);f!=null&&a(t,["temperature"],f);const p=s(e,["maxTemperature"]);p!=null&&a(t,["maxTemperature"],p);const m=s(e,["topP"]);m!=null&&a(t,["topP"],m);const g=s(e,["topK"]);g!=null&&a(t,["topK"],g);const C=s(e,["thinking"]);return C!=null&&a(t,["thinking"],C),t}function ml(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["versionId"]);i!=null&&a(t,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>eC(m))),a(t,["endpoints"],p)}const u=s(e,["labels"]);u!=null&&a(t,["labels"],u);const c=s(e,["_self"]);c!=null&&a(t,["tunedModelInfo"],rE(c));const d=s(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const f=s(e,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["checkpoints"],p)}return t}function BC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],tC(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],nC(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],AT(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function $C(e){const t={},n=s(e,["productImage"]);return n!=null&&a(t,["image"],lt(n)),t}function JC(e,t){const n={},o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const l=s(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const d=s(e,["addWatermark"]);t!==void 0&&d!=null&&a(t,["parameters","addWatermark"],d);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const p=s(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const m=s(e,["enhancePrompt"]);t!==void 0&&m!=null&&a(t,["parameters","enhancePrompt"],m);const g=s(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function OC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["source"]);r!=null&&KC(r,n);const i=s(t,["config"]);return i!=null&&JC(i,n),n}function WC(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ni(r))),a(t,["generatedImages"],o)}return t}function KC(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],lt(r));const i=s(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>$C(u))),a(t,["instances[0]","productImages"],l)}return n}function YC(e){const t={},n=s(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],lt(n));const o=s(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const r=s(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const i=s(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],zC(i));const l=s(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],LT(l));const u=s(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const c=s(e,["subjectImageConfig"]);return c!=null&&a(t,["subjectImageConfig"],c),t}function Zp(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function jp(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function bC(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function QC(e){const t={},n=s(e,["image"]);return n!=null&&a(t,["image"],lt(n)),t}function XC(e,t){const n={},o=s(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const r=s(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const i=s(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const c=s(e,["labels"]);return t!==void 0&&c!=null&&a(t,["labels"],c),n}function ZC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["source"]);r!=null&&eE(r,n);const i=s(t,["config"]);return i!=null&&XC(i,n),n}function jC(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>_C(r))),a(t,["generatedMasks"],o)}return t}function eE(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],lt(r));const i=s(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],QC(i)),n}function em(e){const t={},n=s(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],n);const o=s(e,["languageCode"]);if(o!=null&&a(t,["languageCode"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function tE(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],oC(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function nE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],PC(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],kC(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function tm(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>rC(m))),a(t,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function oE(e){const t={},n=s(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function rE(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function iE(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function sE(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function lE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","name"],K(e,o));const r=s(t,["config"]);return r!=null&&iE(r,n),n}function aE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["config"]);return r!=null&&sE(r,n),n}function uE(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const i=s(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const c=s(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","compressionQuality"],c);const d=s(e,["enhanceInputImage"]);t!==void 0&&d!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const m=s(e,["numberOfImages"]);t!==void 0&&m!=null&&a(t,["parameters","sampleCount"],m);const g=s(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function cE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],K(e,o));const r=s(t,["image"]);r!=null&&a(n,["instances[0]","image"],lt(r));const i=s(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(t,["config"]);return l!=null&&uE(l,n),n}function dE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ni(i))),a(t,["generatedImages"],r)}return t}function fE(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],Qt(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function pE(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Qt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function mE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["_self"],lt(n));const o=s(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function hE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],Ri(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function gE(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],lt(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function nm(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],Qt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["encoding"],r),t}function om(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],Qt(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function vE(e){const t={},n=s(e,["config"]);return n!=null&&yE(n,t),t}function TE(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function CE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&TE(o,t),t}function EE(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function SE(e,t){const n={},o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["customMetadata"],i)}const r=s(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function xE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],IE(l)),t}function _E(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["config"]);return r!=null&&SE(r,t),t}function IE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function wE(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function AE(e){const t={},n=s(e,["config"]);return n!=null&&wE(n,t),t}function NE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["fileSearchStores"],i)}return t}function rm(e,t){const n={},o=s(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function RE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["config"]);return o!=null&&rm(o,t),t}function PE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kE="Content-Type",ME="X-Server-Timeout",DE="User-Agent",hl="x-goog-api-client",LE="1.32.0",UE=`google-genai-sdk/${LE}`,FE="v1beta1",VE="v1beta";class GE{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:FE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:VE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))r.searchParams.append(l,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=l}return n&&n.extraBody!==null&&HE(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await id(r),new cl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await id(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Hn(this,arguments,function*(){var o;const r=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield ne(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=i.decode(f,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const E=JSON.parse(JSON.stringify(C.error)),_=E.status,v=E.code,y=`got status: ${_}. ${JSON.stringify(C)}`;if(v>=400&&v<600)throw new wi({message:y,status:v})}}catch(C){if(C.name==="ApiError")throw C}l+=p;let m=-1,g=0;for(;;){m=-1,g=0;for(const _ of c){const v=l.indexOf(_);v!==-1&&(m===-1||v<m)&&(m=v,g=_.length)}if(m===-1)break;const C=l.substring(0,m);l=l.substring(m+g);const E=C.trim();if(E.startsWith(u)){const _=E.substring(u.length).trim();try{const v=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ne(new cl(v))}catch(v){throw new Error(`exception parsing stream chunk ${_}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=UE+" "+this.clientOptions.userAgentExtra;return t[DE]=n,t[hl]=n,t[kE]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(ME,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(t),f=k("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&rm(o,p);const m=await this.fetchUploadUrl(d,u,c,f,p,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function id(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new wi({message:r,status:n}):new Error(r)}}function HE(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE="mcp_used/unknown";let zE=!1;function im(e){for(const t of e)if(BE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return zE}function sm(e){var t;const n=(t=e[hl])!==null&&t!==void 0?t:"";e[hl]=(n+` ${qE}`).trimStart()}function BE(e){return e!==null&&typeof e=="object"&&e instanceof Ca}function $E(e){return Hn(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield ne(n.listTools({cursor:r}));for(const u of l.tools)yield yield ne(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class Ca{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ca(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Ao($E(f))),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const p=r;l.push(p);const m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){n={error:p}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Ev(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JE(e,t,n){const o=new pv;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class OE{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=YE(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(T=>{d=T}),p=t.callbacks,m=function(){d({})},g=this.apiClient,C={onopen:m,onmessage:T=>{JE(g,p.onmessage,T)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(T){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(T){}},E=this.webSocketFactory.create(c,KE(l),C);E.connect(),await f;const y={setup:{model:K(this.apiClient,t.model)}};return E.send(JSON.stringify(y)),new WE(E,this.apiClient)}}class WE{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=vT(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=yT(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Rn.PLAY)}pause(){this.sendPlaybackControl(Rn.PAUSE)}stop(){this.sendPlaybackControl(Rn.STOP)}resetContext(){this.sendPlaybackControl(Rn.RESET_CONTEXT)}close(){this.conn.close()}}function KE(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function YE(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function QE(e,t,n){const o=new fv;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const l=ET(i);Object.assign(o,l)}else Object.assign(o,i);t(o)}class XE{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new OE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&im(t.config.tools)&&sm(p);const m=tS(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const N=this.apiClient.getApiKey();let A="BidiGenerateContent",V="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),A="BidiGenerateContentConstrained",V="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${A}?${V}=${N}`}let g=()=>{};const C=new Promise(N=>{g=N}),E=t.callbacks,_=function(){var N;(N=E==null?void 0:E.onopen)===null||N===void 0||N.call(E),g({})},v=this.apiClient,y={onopen:_,onmessage:N=>{QE(v,E.onmessage,N)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(N){}},T=this.webSocketFactory.create(f,eS(m),y);T.connect(),await C;let S=K(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const N=this.apiClient.getProject(),A=this.apiClient.getLocation();S=`projects/${N}/locations/${A}/`+S}let x={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Wo.AUDIO]}:t.config.responseModalities=[Wo.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],w=[];for(const N of I)if(this.isCallableTool(N)){const A=N;w.push(await A.tool())}else w.push(N);w.length>0&&(t.config.tools=w);const P={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?x=gT(this.apiClient,P):x=hT(this.apiClient,P),delete x.config,T.send(JSON.stringify(x)),new jE(T,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ZE={turnComplete:!0};class jE{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Qe(n.turns),t.isVertexAI()||(o=o.map(r=>Ai(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(bE)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},ZE),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:CT(t)}:n={realtimeInput:TT(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function eS(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function tS(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sd=10;function ld(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(qn(l)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function qn(e){return"callTool"in e&&typeof e.callTool=="function"}function nS(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>qn(r)))!==null&&o!==void 0?o:!1}function ad(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(qn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function ud(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oS extends Nt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!nS(n)||ld(n.config))return await this.generateContentInternal(c);const d=ad(n);if(d.length>0){const E=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,p;const m=Qe(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:sd;let C=0;for(;C<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,_=[];for(const v of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(qn(v)){const T=await v.callTool(f.functionCalls);_.push(...T)}C++,p={role:"user",parts:_},c.contents=Qe(c.contents),c.contents.push(E),c.contents.push(p),ud(c.config)&&(m.push(E),m.push(p))}return ud(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),ld(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=ad(n);if(c.length>0){const p=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new mn(wt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async c=>qn(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&im(t.config.tools)){const c=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),sm(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const l of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(qn(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:sd;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return function(d,f,p){return Hn(this,arguments,function*(){for(var m,g,C,E,_,v;u<i;){l&&(u++,l=!1);const x=yield ne(d.processParamsMaybeAddMcpUsage(p)),I=yield ne(d.generateContentStreamInternal(x)),w=[],P=[];try{for(var y=!0,T=(g=void 0,Ao(I)),S;S=yield ne(T.next()),m=S.done,!m;y=!0){E=S.value,y=!1;const N=E;if(yield yield ne(N),N.candidates&&(!((_=N.candidates[0])===null||_===void 0)&&_.content)){P.push(N.candidates[0].content);for(const A of(v=N.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&A.functionCall){if(!A.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(A.functionCall.name)){const V=yield ne(f.get(A.functionCall.name).callTool([A.functionCall]));w.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${A.functionCall.name}`)}}}}catch(N){g={error:N}}finally{try{!y&&!m&&(C=T.return)&&(yield ne(C.call(T)))}finally{if(g)throw g.error}}if(w.length>0){l=!0;const N=new fo;N.candidates=[{content:{role:"user",parts:w}}],yield yield ne(N);const A=[];A.push(...P),A.push({role:"user",parts:w});const V=Qe(p.contents).concat(A);p.contents=V}else break}})}(this,c,t)}async generateContentInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=nd(this.apiClient,t);return u=k("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=rd(f),m=new fo;return Object.assign(m,p),m})}else{const d=td(this.apiClient,t);return u=k("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=od(f),m=new fo;return Object.assign(m,p),m})}}async generateContentStreamInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=nd(this.apiClient,t);return u=k("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Hn(this,arguments,function*(){var m,g,C,E;try{for(var _=!0,v=Ao(p),y;y=yield ne(v.next()),m=y.done,!m;_=!0){E=y.value,_=!1;const T=E,S=rd(yield ne(T.json()));S.sdkHttpResponse={headers:T.headers};const x=new fo;Object.assign(x,S),yield yield ne(x)}}catch(T){g={error:T}}finally{try{!_&&!m&&(C=v.return)&&(yield ne(C.call(v)))}finally{if(g)throw g.error}}})})}else{const d=td(this.apiClient,t);return u=k("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Hn(this,arguments,function*(){var m,g,C,E;try{for(var _=!0,v=Ao(p),y;y=yield ne(v.next()),m=y.done,!m;_=!0){E=y.value,_=!1;const T=E,S=od(yield ne(T.json()));S.sdkHttpResponse={headers:T.headers};const x=new fo;Object.assign(x,S),yield yield ne(x)}}catch(T){g={error:T}}finally{try{!_&&!m&&(C=v.return)&&(yield ne(C.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=XT(this.apiClient,t);return u=k("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=jT(f),m=new Gc;return Object.assign(m,p),m})}else{const d=QT(this.apiClient,t);return u=k("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=ZT(f),m=new Gc;return Object.assign(m,p),m})}}async generateImagesInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=cC(this.apiClient,t);return u=k("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=fC(f),m=new Hc;return Object.assign(m,p),m})}else{const d=uC(this.apiClient,t);return u=k("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=dC(f),m=new Hc;return Object.assign(m,p),m})}}async editImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=WT(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=KT(c),f=new tv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=cE(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=dE(c),f=new nv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=OC(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=WC(c),f=new ov;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=ZC(this.apiClient,t);return i=k("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=jC(c),f=new rv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=RC(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>ml(f))}else{const d=NC(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>pl(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=GC(this.apiClient,t);return u=k("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=qC(f),m=new qc;return Object.assign(m,p),m})}else{const d=VC(this.apiClient,t);return u=k("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=HC(f),m=new qc;return Object.assign(m,p),m})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=aE(this.apiClient,t);return u=k("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>ml(f))}else{const d=lE(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>pl(f))}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=BT(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=JT(f),m=new zc;return Object.assign(m,p),m})}else{const d=zT(this.apiClient,t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=$T(f),m=new zc;return Object.assign(m,p),m})}}async countTokens(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=GT(this.apiClient,t);return u=k("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=qT(f),m=new Bc;return Object.assign(m,p),m})}else{const d=VT(this.apiClient,t);return u=k("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=HT(f),m=new Bc;return Object.assign(m,p),m})}}async computeTokens(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=PT(this.apiClient,t);return i=k("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=kT(c),f=new iv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vC(this.apiClient,t);return u=k("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=gC(f),m=new ri;return Object.assign(m,p),m})}else{const d=yC(this.apiClient,t);return u=k("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=hC(f),m=new ri;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rS extends Nt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=by(t);return u=k("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=Yy(t);return u=k("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=zy(t);return i=k("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iS(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function sS(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hS(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function lS(e,t,n){const o={},r=s(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],mS(e,u));const c=s(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function aS(e,t){const n={},o=s(t,["config"]);return o!=null&&a(n,["config"],lS(e,o,n)),n}function uS(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function cS(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function dS(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function fS(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function pS(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],Ta(p));const m=s(e,["thinkingConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","thinkingConfig"],m);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=s(e,["systemInstruction"]);t!==void 0&&C!=null&&a(t,["setup","systemInstruction"],sS(Ae(C)));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let I=Zn(E);Array.isArray(I)&&(I=I.map(w=>yS(Xn(w)))),a(t,["setup","tools"],I)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&a(t,["setup","sessionResumption"],gS(_));const v=s(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","inputAudioTranscription"],v);const y=s(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const T=s(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&a(t,["setup","realtimeInputConfig"],T);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&a(t,["setup","proactivity"],x),n}function mS(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],K(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],pS(r,n)),n}function hS(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],uS(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],cS(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],iS(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(t,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(t,["videoMetadata"],m),t}function gS(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],dS(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],fS(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vS(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function TS(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=vS(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class CS extends Nt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=aS(this.apiClient,t);i=k("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=TS(u,t.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function SS(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&ES(o,t),t}function xS(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function _S(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function IS(e){const t={},n=s(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=s(e,["config"]);return o!=null&&_S(o,t),t}function wS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends Nt{constructor(t){super(),this.apiClient=t,this.list=async n=>new mn(wt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xS(t);return i=k("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SS(t);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IS(t);return i=k("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=wS(c),f=new sv;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NS extends Nt{constructor(t,n=new AS(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new mn(wt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vE(t);return i=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=EE(t);return i=k("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=CE(t);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AE(t);return i=k("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=NE(c),f=new lv;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RE(t);return i=k("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=PE(c),f=new av;return Object.assign(f,d),f})}}async importFile(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_E(t);return i=k("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=xE(c),f=new ma;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function PS(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function kS(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function MS(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function DS(e,t,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function LS(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],cd(g))}else if(r==="PREFERENCE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],cd(g))}const i=s(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(e,["labels"]);t!==void 0&&p!=null&&a(t,["labels"],p);const m=s(e,["beta"]);return t!==void 0&&m!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function US(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&WS(i);const l=s(e,["config"]);return l!=null&&DS(l,n),n}function FS(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&KS(i,n,t);const l=s(e,["config"]);return l!=null&&LS(l,n,t),n}function VS(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function GS(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function HS(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function qS(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function zS(e,t){const n={},o=s(e,["config"]);return o!=null&&HS(o,n),n}function BS(e,t){const n={},o=s(e,["config"]);return o!=null&&qS(o,n),n}function $S(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>lm(u))),a(n,["tuningJobs"],l)}return n}function JS(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>gl(u))),a(n,["tuningJobs"],l)}return n}function OS(e,t){const n={},o=s(e,["name"]);o!=null&&a(n,["model"],o);const r=s(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function WS(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function KS(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function lm(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],zp(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=s(e,["_self"]);return m!=null&&a(n,["tunedModel"],OS(m)),n}function gl(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],zp(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const p=s(e,["description"]);p!=null&&a(n,["description"],p);const m=s(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const g=s(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const C=s(e,["preTunedModel"]);C!=null&&a(n,["preTunedModel"],C);const E=s(e,["supervisedTuningSpec"]);E!=null&&a(n,["supervisedTuningSpec"],E);const _=s(e,["preferenceOptimizationSpec"]);_!=null&&a(n,["preferenceOptimizationSpec"],_);const v=s(e,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const y=s(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const T=s(e,["partnerModelTuningSpec"]);T!=null&&a(n,["partnerModelTuningSpec"],T);const S=s(e,["customBaseModel"]);S!=null&&a(n,["customBaseModel"],S);const x=s(e,["experiment"]);x!=null&&a(n,["experiment"],x);const I=s(e,["labels"]);I!=null&&a(n,["labels"],I);const w=s(e,["outputUri"]);w!=null&&a(n,["outputUri"],w);const P=s(e,["pipelineJob"]);P!=null&&a(n,["pipelineJob"],P);const N=s(e,["serviceAccount"]);N!=null&&a(n,["serviceAccount"],N);const A=s(e,["tunedModelDisplayName"]);A!=null&&a(n,["tunedModelDisplayName"],A);const V=s(e,["veoTuningSpec"]);return V!=null&&a(n,["veoTuningSpec"],V),n}function YS(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const u=s(e,["error"]);return u!=null&&a(n,["error"],u),n}function cd(e,t){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bS extends Nt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mn(wt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:ul.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=GS(t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>gl(f))}else{const d=VS(t);return u=k("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>lm(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=BS(t);return u=k("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=JS(f),m=new $c;return Object.assign(m,p),m})}else{const d=zS(t);return u=k("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=$S(f),m=new $c;return Object.assign(m,p),m})}}async cancel(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=PS(t);return u=k("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=MS(f),m=new Jc;return Object.assign(m,p),m})}else{const d=RS(t);return u=k("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=kS(f),m=new Jc;return Object.assign(m,p),m})}}async tuneInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=FS(t,t);return i=k("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>gl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=US(t);return i=k("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>YS(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XS=1024*1024*8,ZS=3,jS=1e3,ex=2,si="x-goog-upload-status";async function tx(e,t,n){var o;const r=await am(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[si])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function nx(e,t,n){var o;const r=await am(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[si])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Up(i),u=new ha;return Object.assign(u,l),u}async function am(e,t,n){var o,r;let i=0,l=0,u=new cl(new Response),c="upload";for(i=e.size;l<i;){const d=Math.min(XS,i-l),f=e.slice(l,l+d);l+d>=i&&(c+=", finalize");let p=0,m=jS;for(;p<ZS&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[si]));)p++,await rx(m),m=m*ex;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[si])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function ox(e){return{size:e.size,type:e.type}}function rx(e){return new Promise(t=>setTimeout(t,e))}class ix{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await tx(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await nx(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ox(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sx{create(t,n,o){return new lx(t,n,o)}}class lx{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dd="x-goog-api-key";class ax{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(dd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(dd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ux="gl-node/";class um{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=Hy(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new ax(this.apiKey);this.apiClient=new GE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ux+"web",uploader:new ix,downloader:new QS}),this.models=new oS(this.apiClient),this.live=new XE(this.apiClient,r,new sx),this.batches=new m0(this.apiClient),this.chats=new b0(this.models,this.apiClient),this.caches=new W0(this.apiClient),this.files=new iT(this.apiClient),this.operations=new rS(this.apiClient),this.authTokens=new CS(this.apiClient),this.tunings=new bS(this.apiClient),this.fileSearchStores=new NS(this.apiClient)}}const cx=`
You are "The Chef's Muse", a world-class culinary creative engine. 
Your goal is to invent a unique, delicious, and practical recipe based STRICTLY on the visual ingredients provided by the user and their audio/text request.

Rules:
1. Identify the ingredients visible in the video frames. If no video is provided, treat the user's text input as the list of available ingredients/cravings.
2. Listen to the user's audio or read the text input for constraints (e.g., "spicy", "20 mins", "vegetarian").
3. Assume basic pantry staples (oil, salt, pepper, basic spices) are available, but list them.
4. If the inputs are vague, improvise a "Chef's Special" that fits the vibe.
5. NEVER suggest ordering takeout. You must cook with what is there.
6. The recipe title should be evocative and artistic.
7. The description should be like a headnote in a gourmet cookbooksetting the mood.
8. Structure the output strictly as JSON.

Response format:
{
  "title": "String",
  "description": "String",
  "cuisineStyle": "String (e.g., Modern Rustic, Spicy Fusion)",
  "difficulty": "Easy" | "Medium" | "Hard" | "Expert",
  "totalTime": "String (e.g. 25 mins)",
  "ingredientsFound": ["String"],
  "pantryItemsNeeded": ["String"],
  "steps": [
    { "instruction": "String", "tip": "String (optional chef's secret)", "duration": "String (optional)" }
  ]
}
`,dx={};var fx={};const li=()=>typeof import.meta<"u"&&dx?"AIzaSyCeDbxO9WCHckgXQI5BuRvRu5IGqK1xh7U":fx.VITE_GEMINI_API_KEY||"",px={type:se.OBJECT,properties:{title:{type:se.STRING},description:{type:se.STRING},cuisineStyle:{type:se.STRING},difficulty:{type:se.STRING,enum:["Easy","Medium","Hard","Expert"]},totalTime:{type:se.STRING},ingredientsFound:{type:se.ARRAY,items:{type:se.STRING}},pantryItemsNeeded:{type:se.ARRAY,items:{type:se.STRING}},steps:{type:se.ARRAY,items:{type:se.OBJECT,properties:{instruction:{type:se.STRING},tip:{type:se.STRING},duration:{type:se.STRING}},required:["instruction"]}}},required:["title","description","difficulty","ingredientsFound","steps"]},gr=async(e,t,n,o,r=[])=>{var c,d,f,p,m;if(!li())throw new Error("API Key missing");const i=new um({apiKey:li()}),l=[];e.forEach(g=>{l.push({inlineData:{mimeType:"image/jpeg",data:g}})}),t&&l.push({inlineData:{mimeType:n||"audio/wav",data:t}});const u=r.length>0?`CRITICAL CONSTRAINTS: The user has the following limitations: ${r.join(", ")}. 
      
      IMPORTANT: If a constraint says "Exclude ingredients:", you MUST NOT under any circumstances use those ingredients in the recipe steps, ingredient list, or garnish. Find substitutes or omit them entirely.
      
      You MUST strictly adhere to these. Do not use equipment that is restricted (e.g. if 'No Stove', use microwave, oven, or raw prep only).`:"";o?l.push({text:`User text request: "${o}". ${u} Create a recipe based on this.`}):t?l.push({text:u}):l.push({text:`I have these ingredients. ${u} Make me something delicious.`}),l.push({text:"Analyze the ingredients and the user request. Create a recipe."});try{const C=(m=(p=(f=(d=(c=(await i.models.generateContent({model:"gemini-flash-latest",contents:{parts:l},config:{systemInstruction:cx,responseMimeType:"application/json",responseSchema:px}})).candidates)==null?void 0:c[0])==null?void 0:d.content)==null?void 0:f.parts)==null?void 0:p[0])==null?void 0:m.text;if(!C)throw new Error("No response generated");return{...JSON.parse(C),id:crypto.randomUUID?crypto.randomUUID():Date.now().toString(),createdAt:Date.now(),constraints:r}}catch(g){throw console.error("Recipe Generation Error:",g),g}},mx=async(e,t)=>{const n=`professional food photography, ${e}, ${t.split(".")[0]}`.slice(0,300),o=encodeURIComponent(n),r=Math.floor(Math.random()*1e3);return`https://image.pollinations.ai/prompt/${o}?nologo=true&seed=${r}&width=1024&height=1024&model=flux`},hx=async e=>{var n,o,r,i,l,u;if(!li())throw new Error("API Key missing");const t=new um({apiKey:li()});try{const d=(u=(l=(i=(r=(o=(n=(await t.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:[Wo.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:n[0])==null?void 0:o.content)==null?void 0:r.parts)==null?void 0:i[0])==null?void 0:l.inlineData)==null?void 0:u.data;if(!d)throw new Error("No audio generated");return d}catch(c){throw console.error("TTS Error:",c),c}},gx=["No Stove","Vegetarian","Vegan","Microwave Only","Under 15m","One Pot","High Protein"],yx=({recipe:e,onBack:t,onSave:n,onRemix:o,onRefine:r,isSaved:i})=>{const[l,u]=U.useState(-1),[c,d]=U.useState(null),[f,p]=U.useState(!1),[m,g]=U.useState(!1),[C,E]=U.useState(!1),[_,v]=U.useState(!1),[y,T]=U.useState(null),[S,x]=U.useState(new Set),[I,w]=U.useState(!1),[P,N]=U.useState(e.constraints||[]),A=U.useRef(l),V=U.useRef(null),X=U.useRef(null),G=U.useRef(null);U.useEffect(()=>()=>{re(),V.current&&V.current.close(),G.current&&G.current.stop()},[]),U.useEffect(()=>{A.current=l,re()},[l]),U.useEffect(()=>{let D=!0;return(async()=>{if(!c&&!m&&e){g(!0);try{const b=await mx(e.title,e.description);D&&d(b)}catch(b){console.error("Auto visualization failed",b),D&&p(!0)}finally{D&&g(!1)}}})(),()=>{D=!1}},[e.id]),U.useEffect(()=>{if(!_){G.current&&(G.current.stop(),G.current=null);return}const{webkitSpeechRecognition:D,SpeechRecognition:Y}=window,b=Y||D;if(!b){console.warn("Speech recognition not supported in this browser.");return}const B=new b;return B.continuous=!0,B.lang="en-US",B.interimResults=!1,B.maxAlternatives=1,B.onresult=Se=>{const pe=Se.results[Se.results.length-1][0].transcript.toLowerCase().trim();if(T(pe),setTimeout(()=>T(null),2e3),pe.includes("next"))A.current<e.steps.length-1&&u(at=>at+1);else if(pe.includes("previous")||pe.includes("back"))A.current>0&&u(at=>at-1);else if(pe.includes("exit")||pe.includes("stop"))v(!1);else if(pe.includes("read")||pe.includes("speak")){const at=e.steps[A.current];at&&Je(at.instruction+(at.tip?`. Tip: ${at.tip}`:""))}},B.onerror=Se=>{console.error("Speech recognition error",Se.error)},B.onend=()=>{if(_&&G.current)try{B.start()}catch{}},G.current=B,B.start(),()=>{G.current&&G.current.stop()}},[_,e.steps]);const re=()=>{if(X.current){try{X.current.stop()}catch{}X.current=null}E(!1)},Je=async D=>{try{if(C){re();return}E(!0),V.current?V.current.state==="suspended"&&await V.current.resume():V.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const Y=await hx(D),b=window.atob(Y),B=b.length,Se=new Uint8Array(B);for(let mt=0;mt<B;mt++)Se[mt]=b.charCodeAt(mt);const xe=new Int16Array(Se.buffer),pe=V.current.createBuffer(1,xe.length,24e3),at=pe.getChannelData(0);for(let mt=0;mt<xe.length;mt++)at[mt]=xe[mt]/32768;const eo=V.current.createBufferSource();eo.buffer=pe,eo.connect(V.current.destination),eo.onended=()=>{E(!1),X.current=null},X.current=eo,eo.start()}catch(Y){console.error("TTS play error",Y),E(!1)}},Z=()=>{l<e.steps.length-1&&u(D=>D+1)},Ee=()=>{l>-1&&u(D=>D-1)},M=()=>{const D=e.ingredientsFound.length,Y=e.pantryItemsNeeded.length,b=D+Y;if(S.size>0&&S.size<b){const B=[];if(e.ingredientsFound.forEach((Se,xe)=>{S.has(`found-${xe}`)||B.push(Se)}),e.pantryItemsNeeded.forEach((Se,xe)=>{S.has(`pantry-${xe}`)||B.push(Se)}),B.length>0){r(B);return}}l===-1&&u(0),v(!0)},H=D=>{N(Y=>Y.includes(D)?Y.filter(b=>b!==D):[...Y,D])},q=()=>{w(!1),o(P)},j=D=>{x(Y=>{const b=new Set(Y);return b.has(D)?b.delete(D):b.add(D),b})},F=D=>{switch(D){case"Easy":return{text:"text-emerald-400",bg:"bg-emerald-400"};case"Medium":return{text:"text-amber-400",bg:"bg-amber-400"};case"Hard":return{text:"text-orange-500",bg:"bg-orange-500"};case"Expert":return{text:"text-red-500",bg:"bg-red-500"};default:return{text:"text-stone-400",bg:"bg-stone-400"}}};if(_){const D=e.steps[l];return h.jsxs("div",{className:"fixed inset-0 z-50 bg-stone-950 flex flex-col animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-800 bg-stone-950",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-red-500/10 rounded-full animate-pulse",children:h.jsx(oi,{size:20,className:"text-red-500"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-stone-400 text-[10px] uppercase tracking-widest font-bold",children:"Listening for commands..."}),h.jsx("span",{className:"text-stone-600 text-[10px]",children:'"Next", "Back", "Read", "Exit"'})]})]}),h.jsx("button",{onClick:()=>v(!1),className:"p-3 bg-stone-800 rounded-full text-stone-400 hover:text-white hover:bg-stone-700 transition-colors",children:h.jsx(ll,{size:24})})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center p-8 max-w-4xl mx-auto w-full text-center space-y-12",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 text-amber-350/30 font-serif text-8xl font-bold select-none",children:[h.jsx("span",{children:l+1}),h.jsx("span",{className:"text-4xl text-stone-700",children:"/"}),h.jsx("span",{className:"text-4xl text-stone-700",children:e.steps.length})]}),h.jsx("h2",{className:"text-3xl md:text-5xl font-serif text-stone-100 leading-tight",children:D.instruction}),D.tip&&h.jsx("div",{className:"bg-amber-900/10 border-l-4 border-amber-350 p-6 text-left max-w-2xl mx-auto rounded-r-xl",children:h.jsxs("p",{className:"text-amber-350 text-lg italic",children:[h.jsx("span",{className:"font-bold not-italic mr-2",children:"Chef's Tip:"}),D.tip]})}),D.duration&&h.jsx("div",{className:"flex justify-center",children:h.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-stone-800 rounded-full text-stone-300 font-mono text-sm",children:[h.jsx(il,{size:16})," ",D.duration]})})]}),y&&h.jsxs("div",{className:"absolute bottom-32 left-1/2 -translate-x-1/2 bg-stone-800/90 backdrop-blur px-6 py-2 rounded-full text-stone-300 flex items-center gap-2 animate-slide-up",children:[h.jsx(Ey,{size:14}),h.jsxs("span",{className:"text-sm",children:['Heard: "',y,'"']})]}),h.jsxs("div",{className:"p-8 flex items-center justify-between border-t border-stone-800 bg-stone-900/30",children:[h.jsxs("button",{onClick:Ee,disabled:l===0,className:`flex items-center gap-2 px-8 py-4 rounded-full text-lg font-medium transition-all ${l===0?"text-stone-700":"bg-stone-800 text-stone-200 hover:bg-stone-700"}`,children:[h.jsx(Fu,{})," Previous"]}),h.jsx("button",{onClick:()=>Je(D.instruction+(D.tip?`. Tip: ${D.tip}`:"")),className:"p-4 rounded-full bg-amber-350/10 text-amber-350 hover:bg-amber-350/20 transition-colors",children:C?h.jsx(Hu,{size:32}):h.jsx(qu,{size:32})}),h.jsxs("button",{onClick:Z,disabled:l===e.steps.length-1,className:`flex items-center gap-2 px-8 py-4 rounded-full text-lg font-medium transition-all ${l===e.steps.length-1?"text-stone-700":"bg-amber-350 text-stone-900 hover:bg-amber-400"}`,children:["Next ",h.jsx(wo,{})]})]})]})}const $=()=>{var Y;if(l===-1){const b=F(e.difficulty);return h.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[h.jsx("div",{className:"relative w-full aspect-square rounded-2xl overflow-hidden bg-stone-800 border border-stone-700 shadow-2xl group animate-slide-up",style:{animationDelay:"0.1s"},children:c?h.jsx("img",{src:c,alt:e.title,className:"w-full h-full object-cover animate-fade-in duration-1000"}):h.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-6 text-center relative overflow-hidden bg-stone-800",children:f?h.jsxs("div",{className:"z-10 flex flex-col items-center animate-fade-in",children:[h.jsx("div",{className:"relative mb-4",children:h.jsx(dn,{className:"w-16 h-16 text-stone-700 relative z-10",strokeWidth:1})}),h.jsx("p",{className:"text-stone-600 font-serif italic mb-1",children:"Visuals not available"}),h.jsx("p",{className:"text-stone-700 text-xs",children:"But the taste will be legendary."}),h.jsxs("button",{onClick:()=>{p(!1),d(null)},className:"mt-4 text-xs text-amber-350/50 hover:text-amber-350 flex items-center gap-1 transition-colors",children:[h.jsx(sl,{size:10})," Retry"]})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-stone-700/20 to-transparent animate-shimmer",style:{backgroundSize:"200% 100%"}}),h.jsxs("div",{className:"z-10 flex flex-col items-center",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:"absolute inset-0 bg-amber-350/20 blur-xl rounded-full animate-pulse-slow"}),h.jsx(dn,{className:"w-16 h-16 text-stone-600 relative z-10"})]}),h.jsx("p",{className:"text-stone-500 font-serif italic mb-2 animate-pulse",children:"Visualizing your masterpiece..."})]})]})})}),h.jsxs("div",{className:"space-y-6 animate-slide-up",style:{animationDelay:"0.2s"},children:[h.jsxs("div",{className:"flex items-center justify-between text-xs font-mono tracking-widest uppercase",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-amber-350",children:e.cuisineStyle}),h.jsx("span",{className:"text-stone-700",children:"|"}),h.jsxs("span",{className:`flex items-center gap-1.5 ${b.text}`,children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${b.bg} animate-pulse`}),e.difficulty]})]}),h.jsxs("span",{className:"flex items-center gap-1 text-stone-400",children:[h.jsx(il,{size:12})," ",e.totalTime]})]}),h.jsx("h1",{className:"text-3xl font-serif text-white leading-tight",children:e.title}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[i&&h.jsxs("div",{className:"flex items-center gap-2 text-emerald-500/80 text-[10px] uppercase font-bold tracking-widest bg-emerald-950/20 border border-emerald-900/30 px-3 py-1 rounded-full w-fit",children:[h.jsx(Uu,{size:12}),"Saved"]}),(Y=e.constraints)==null?void 0:Y.map(B=>h.jsx("div",{className:"flex items-center gap-2 text-red-400/80 text-[10px] uppercase font-bold tracking-widest bg-red-950/20 border border-red-900/30 px-3 py-1 rounded-full w-fit",children:B},B))]}),h.jsx("p",{className:"text-stone-400 leading-relaxed text-sm",children:e.description}),h.jsxs("div",{className:"bg-stone-800/50 p-4 rounded-xl border border-stone-800",children:[h.jsx("h3",{className:"text-stone-300 text-xs font-bold uppercase tracking-wider mb-3",children:"Ingredients (Tap to Check)"}),h.jsxs("ul",{className:"text-stone-400 text-sm space-y-2",children:[e.ingredientsFound.map((B,Se)=>{const xe=`found-${Se}`,pe=S.has(xe);return h.jsxs("li",{onClick:()=>j(xe),className:`flex items-center gap-3 cursor-pointer group transition-all duration-300 ${pe?"opacity-40":"opacity-100"}`,children:[pe?h.jsx(Vu,{size:16,className:"text-amber-350"}):h.jsx(Gu,{size:16,className:"text-stone-600 group-hover:text-amber-350"}),h.jsx("span",{className:pe?"line-through decoration-stone-600":"",children:B})]},xe)}),e.pantryItemsNeeded.map((B,Se)=>{const xe=`pantry-${Se}`,pe=S.has(xe);return h.jsxs("li",{onClick:()=>j(xe),className:`flex items-center gap-3 cursor-pointer group transition-all duration-300 ${pe?"opacity-40":"opacity-100"}`,children:[pe?h.jsx(Vu,{size:16,className:"text-stone-500"}):h.jsx(Gu,{size:16,className:"text-stone-600 group-hover:text-stone-400"}),h.jsxs("span",{className:`italic ${pe?"line-through decoration-stone-600 text-stone-600":"text-stone-500"}`,children:[B," (Pantry)"]})]},xe)})]})]})]})]},"overview")}const D=e.steps[l];return h.jsxs("div",{className:"h-full flex flex-col justify-center space-y-8 animate-slide-up",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("span",{className:"text-6xl font-serif text-amber-350/20 font-bold -ml-2 animate-fade-in",children:(l+1).toString().padStart(2,"0")}),h.jsx("div",{className:"h-px bg-stone-800 flex-1"}),D.duration&&h.jsx("span",{className:"text-xs font-mono text-stone-500 bg-stone-800 px-2 py-1 rounded",children:D.duration})]}),h.jsx("p",{className:"text-2xl md:text-3xl font-serif text-stone-100 leading-snug",children:D.instruction}),D.tip&&h.jsx("div",{className:"bg-amber-900/10 border-l-2 border-amber-350/50 p-4 rounded-r-lg animate-slide-right",style:{animationDelay:"0.3s"},children:h.jsxs("p",{className:"text-amber-350/80 text-sm italic",children:[h.jsx("span",{className:"font-bold not-italic mr-2",children:"Chef's Tip:"}),D.tip]})}),h.jsxs("button",{onClick:()=>Je(D.instruction+(D.tip?`. Tip: ${D.tip}`:"")),className:"self-start mt-4 px-4 py-2 rounded-full border border-stone-700 text-stone-400 hover:text-white hover:border-stone-500 transition-all flex items-center gap-2 text-sm",children:[C?h.jsx(Hu,{size:16,className:"animate-pulse text-amber-350"}):h.jsx(qu,{size:16}),C?"Stop":"Listen"]})]},l)};return h.jsxs("div",{className:"h-full flex flex-col max-w-2xl mx-auto w-full p-6 relative",children:[I&&h.jsxs("div",{className:"absolute inset-0 z-50 bg-stone-900/95 backdrop-blur-md p-6 flex flex-col animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h2",{className:"text-xl font-serif text-white",children:"Remix Recipe"}),h.jsx("button",{onClick:()=>w(!1),className:"p-2 bg-stone-800 rounded-full text-stone-400",children:h.jsx(ll,{size:20})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"Adjust your constraints and the Muse will re-invent this dish."}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:gx.map(D=>h.jsx("button",{onClick:()=>H(D),className:`p-3 rounded-xl border text-sm font-medium transition-all ${P.includes(D)?"bg-amber-350 border-amber-350 text-stone-900":"bg-stone-800 border-stone-700 text-stone-400 hover:border-stone-600"}`,children:D},D))})]}),h.jsxs("button",{onClick:q,className:"w-full py-4 bg-amber-350 text-stone-900 font-bold rounded-xl flex items-center justify-center gap-2 mt-4",children:[h.jsx(sl,{size:18})," Regenerate Recipe"]})]}),h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("button",{onClick:t,className:"p-2 -ml-2 text-stone-500 hover:text-white transition-colors flex items-center gap-1 group",children:h.jsx(Ii,{size:20,className:"group-hover:-translate-x-1 transition-transform"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>w(!0),className:`p-2 rounded-full transition-all ${P.includes("No Stove")?"bg-red-500/20 text-red-400 border border-red-500/50":"text-stone-500 hover:text-amber-350 hover:bg-stone-800"}`,title:"Remix / Adjust Constraints",children:h.jsx(Lp,{size:20})}),h.jsx("button",{onClick:()=>!i&&n(e),disabled:i,className:`p-2 rounded-full transition-all ${i?"text-emerald-500":"text-stone-500 hover:text-white hover:bg-stone-800"}`,title:i?"Saved to Cookbook":"Save Recipe",children:i?h.jsx(Uu,{size:20}):h.jsx(Dp,{size:20})}),h.jsx("button",{onClick:M,className:"p-2 text-stone-500 hover:text-amber-350 hover:bg-stone-800 rounded-full transition-colors",title:"Enter Cooking Mode (Hands-free)",children:h.jsx(Ay,{size:20})})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar py-4",children:$()}),h.jsxs("div",{className:"pt-6 mt-auto flex justify-between items-center",children:[h.jsx("button",{onClick:Ee,disabled:l===-1,className:`p-4 rounded-full border transition-all ${l===-1?"border-stone-800 text-stone-700":"border-stone-700 text-white hover:bg-stone-800"}`,children:h.jsx(Fu,{size:24})}),l===-1?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:M,className:"px-6 py-3 border border-amber-350/30 text-amber-350 font-bold rounded-full hover:bg-amber-350/10 transition-colors flex items-center gap-2 text-xs",children:[h.jsx(oi,{size:14})," Hands-free"]}),h.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-amber-350 text-stone-900 font-bold rounded-full hover:bg-amber-400 transition-colors shadow-lg shadow-amber-900/20 flex items-center gap-2 text-xs",children:["Start Cooking ",h.jsx(wo,{size:14})]})]}):h.jsx("button",{onClick:Z,disabled:l===e.steps.length-1,className:`p-4 rounded-full border transition-all ${l===e.steps.length-1?"border-stone-800 text-stone-700":"border-stone-700 text-white hover:bg-stone-800"}`,children:h.jsx(wo,{size:24})})]})]})},vx=({onStart:e,onAbout:t,onCookbook:n,onIngredientsInput:o})=>h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-hidden animate-fade-in",children:[h.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-900/10 rounded-full blur-[100px] pointer-events-none"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-20%] w-[500px] h-[500px] bg-stone-800/30 rounded-full blur-[80px] pointer-events-none"}),h.jsx("div",{className:"absolute top-[10%] left-[10%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),h.jsx("div",{className:"absolute top-[20%] right-[15%] text-3xl opacity-10 animate-float-delayed pointer-events-none",children:""}),h.jsx("div",{className:"absolute bottom-[20%] left-[15%] text-5xl opacity-5 animate-float-delayed pointer-events-none",children:""}),h.jsx("div",{className:"absolute bottom-[10%] right-[20%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center z-10",children:[h.jsxs("div",{className:"mb-10 relative",children:[h.jsx("div",{className:"absolute inset-0 bg-amber-350 blur-2xl opacity-20 rounded-full"}),h.jsx(dn,{className:"w-24 h-24 text-amber-350 relative z-10 drop-shadow-2xl animate-float",strokeWidth:1})]}),h.jsxs("h1",{className:"text-5xl md:text-7xl font-serif text-white mb-6 tracking-tight leading-none",children:["The Chef's ",h.jsx("span",{className:"text-amber-350 italic",children:"Muse"})]}),h.jsxs("p",{className:"text-stone-400 text-lg md:text-xl max-w-md font-light leading-relaxed mb-12",children:["Cooking with zero recipes.",h.jsx("br",{}),"Just chemistry, creativity, and ",h.jsx("span",{className:"text-stone-300",children:"what's in your fridge."})]}),h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[h.jsxs("button",{onClick:e,className:"group relative w-full px-8 py-4 bg-stone-100 text-stone-950 rounded-xl font-serif font-bold text-lg tracking-wide hover:bg-amber-350 transition-all duration-500 flex items-center justify-center gap-3 overflow-hidden shadow-[0_0_40px_rgba(255,255,255,0.1)] hover:shadow-[0_0_40px_rgba(217,185,100,0.4)] hover:scale-[1.02]",children:[h.jsx("span",{className:"relative z-10",children:"Open Your Fridge"}),h.jsx(yy,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),h.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out"})]}),h.jsxs("button",{onClick:o,className:"w-full px-8 py-3 rounded-xl border border-stone-800 text-stone-400 font-medium hover:text-amber-350 hover:border-amber-350/50 hover:bg-stone-900 transition-all flex items-center justify-center gap-2 text-sm",children:[h.jsx("span",{className:"opacity-70",children:"No camera?"})," Use Secret Menu"]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("button",{onClick:n,className:"text-stone-500 hover:text-white transition-colors text-xs uppercase tracking-widest flex items-center gap-2 py-2 px-4 rounded-full hover:bg-stone-900",children:[h.jsx(vy,{size:14}),"My Cookbook"]}),h.jsxs("button",{onClick:t,className:"text-stone-500 hover:text-white transition-colors text-xs uppercase tracking-widest flex items-center gap-2 py-2 px-4 rounded-full hover:bg-stone-900",children:[h.jsx(_y,{size:14}),"About"]})]})]})]}),h.jsxs("div",{className:"p-8 pb-12 w-full max-w-4xl mx-auto grid grid-cols-3 gap-4 text-center text-stone-600 text-[10px] md:text-xs tracking-[0.2em] uppercase font-medium",children:[h.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[h.jsx(Oo,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),h.jsx("span",{children:"AI Invention"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[h.jsx(Sy,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),h.jsx("span",{children:"Visual Recognition"})]}),h.jsxs("div",{className:"flex flex-col items-center gap-3 hover:text-stone-400 transition-colors",children:[h.jsx(oi,{className:"w-5 h-5 text-stone-700",strokeWidth:1.5}),h.jsx("span",{children:"Audio Guidance"})]})]})]}),Tx=({onBack:e})=>h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-y-auto no-scrollbar animate-fade-in text-stone-300",children:[h.jsx("div",{className:"sticky top-0 z-20 p-6 bg-gradient-to-b from-stone-950 via-stone-950/90 to-transparent",children:h.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-stone-500 hover:text-white transition-colors group",children:[h.jsx("div",{className:"p-2 rounded-full border border-stone-800 group-hover:bg-stone-800 transition-all",children:h.jsx(Ii,{size:20})}),h.jsx("span",{className:"text-sm tracking-wide uppercase font-medium",children:"Back"})]})}),h.jsxs("div",{className:"max-w-3xl mx-auto px-6 pb-20 w-full",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("div",{className:"inline-block p-4 rounded-full bg-stone-900 border border-stone-800 mb-6 shadow-2xl",children:h.jsx(dn,{className:"w-12 h-12 text-amber-350",strokeWidth:1})}),h.jsxs("h1",{className:"text-4xl md:text-5xl font-serif text-white mb-4",children:["The Chef's ",h.jsx("span",{className:"text-amber-350 italic",children:"Muse"})]}),h.jsx("p",{className:"text-lg text-stone-500 font-light max-w-xl mx-auto",children:"Cooking with zero recipes. Just chemistry, intuition, and what's in your fridge."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-16",children:[h.jsxs("div",{className:"bg-stone-900/40 p-8 rounded-2xl border border-stone-800 hover:border-red-900/30 transition-colors",children:[h.jsxs("h3",{className:"text-xl font-serif text-white mb-4 flex items-center gap-2",children:[h.jsx(fa,{size:20,className:"text-red-400/80"}),h.jsx("span",{children:"The Problem"})]}),h.jsxs("p",{className:"leading-relaxed text-stone-400 text-sm",children:['"I have a weird mix of ingredientshalf an onion, leftover chicken, yogurtand no idea what to make."',h.jsx("br",{}),h.jsx("br",{}),"Standard recipe apps are too rigid. They force you to shop, not cook. They don't understand chaos."]})]}),h.jsxs("div",{className:"bg-stone-900/40 p-8 rounded-2xl border border-stone-800 hover:border-green-900/30 transition-colors",children:[h.jsxs("h3",{className:"text-xl font-serif text-white mb-4 flex items-center gap-2",children:[h.jsx(Oo,{size:20,className:"text-green-400/80"}),h.jsx("span",{children:"The Concept"})]}),h.jsxs("p",{className:"leading-relaxed text-stone-400 text-sm",children:["A culinary intelligence that understands flavor profiles at a chemical level.",h.jsx("br",{}),h.jsx("br",{}),"The Muse doesn't search a database. It ",h.jsx("span",{className:"text-amber-350/80",children:"invents"})," a custom guide specifically for your ingredients and your time constraints."]})]})]}),h.jsxs("div",{className:"mb-20",children:[h.jsx("h2",{className:"text-2xl font-serif text-white mb-8 text-center italic",children:"How the Muse Works"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(is,{icon:h.jsx(My,{className:"text-amber-350"}),title:"Visual Recognition",desc:"Pan your camera across your shelves. The AI identifies ingredients instantlyeven the obscure ones."}),h.jsx(is,{icon:h.jsx(Ty,{className:"text-amber-350"}),title:"Contextual Understanding",desc:"Speak naturally. 'I want something spicy, and I have 20 minutes.' The Muse listens."}),h.jsx(is,{icon:h.jsx(dn,{className:"text-amber-350"}),title:"Generative Synthesis",desc:"Using Gemini 3 Pro, it creates a dish that likely doesn't exist on the internet, tailored to your reality."})]})]}),h.jsxs("div",{className:"text-center bg-gradient-to-b from-amber-900/10 to-transparent p-10 rounded-3xl border border-amber-900/20",children:[h.jsx(Dp,{className:"w-10 h-10 text-amber-350 mx-auto mb-6 opacity-80"}),h.jsx("h2",{className:"text-2xl font-serif text-white mb-4",children:"The Joy of Cooking"}),h.jsx("p",{className:"text-stone-400 max-w-lg mx-auto leading-relaxed text-sm",children:`Everyone eats. But not everyone knows how to improvise. The Chef's Muse bridges the gap between a cluttered pantry and a gourmet meal, turning the daily chore of "what's for dinner" into a moment of creative magic.`})]}),h.jsx("div",{className:"mt-12 text-center",children:h.jsx("button",{onClick:e,className:"text-amber-350 hover:text-amber-200 text-sm uppercase tracking-widest font-bold",children:"Close"})})]})]}),is=({icon:e,title:t,desc:n})=>h.jsxs("div",{className:"flex items-start gap-5 p-6 rounded-xl bg-stone-900/20 border border-stone-800/50 hover:bg-stone-900/40 transition-colors",children:[h.jsx("div",{className:"mt-1 p-3 bg-stone-950 rounded-lg border border-stone-800",children:e}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-medium mb-1 font-serif text-lg",children:t}),h.jsx("p",{className:"text-stone-500 text-sm leading-relaxed",children:n})]})]}),Cx=["Spicy","Comfort","Healthy","Quick","Gourmet","Rustic","Creamy","Zesty"],Ex=[{text:"Spicy Late Night Snack",icon:h.jsx(xy,{size:14})},{text:"Healthy Breakfast",icon:h.jsx(Cy,{size:14})},{text:"Quick Lunch",icon:h.jsx(Dy,{size:14})},{text:"Vegetarian Feast",icon:h.jsx(Iy,{size:14})}],Sx=({recipes:e,onSelectRecipe:t,onBack:n,onGenerateFromText:o,onDeleteRecipe:r})=>{const[i,l]=U.useState(""),u=U.useMemo(()=>{const c=i.toLowerCase();return e.filter(d=>d.title.toLowerCase().includes(c)||d.cuisineStyle.toLowerCase().includes(c)||d.ingredientsFound.some(f=>f.toLowerCase().includes(c))).sort((d,f)=>f.createdAt-d.createdAt)},[e,i]);return h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col relative overflow-hidden animate-fade-in text-stone-300",children:[h.jsxs("div",{className:"sticky top-0 z-20 p-6 bg-gradient-to-b from-stone-950 via-stone-950/95 to-transparent flex flex-col gap-4",children:[h.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-stone-500 hover:text-white transition-colors self-start group mb-2",children:[h.jsx("div",{className:"p-2 rounded-full border border-stone-800 group-hover:bg-stone-800 transition-all",children:h.jsx(Ii,{size:18})}),h.jsx("span",{className:"text-sm tracking-wide uppercase font-medium",children:"Back"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h1",{className:"text-3xl font-serif text-white",children:["My ",h.jsx("span",{className:"text-amber-350 italic",children:"Cookbook"})]}),h.jsxs("span",{className:"text-stone-600 font-mono text-xs border border-stone-800 rounded-full px-3 py-1",children:[e.length," ",e.length===1?"Recipe":"Recipes"]})]}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:h.jsx(Ny,{className:"h-5 w-5 text-stone-500 group-focus-within:text-amber-350 transition-colors"})}),h.jsx("input",{type:"text",className:"block w-full pl-11 pr-4 py-3 bg-stone-900 border border-stone-800 rounded-xl text-stone-200 placeholder-stone-600 focus:outline-none focus:border-amber-350/50 focus:ring-1 focus:ring-amber-350/20 transition-all",placeholder:"Search or type ingredients to invent...",value:i,onChange:c=>l(c.target.value)})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar px-6 pb-20",children:[i.length>0&&h.jsxs("div",{className:"mb-8 animate-fade-in",children:[h.jsxs("button",{onClick:()=>o(i),className:"w-full mb-6 p-4 rounded-xl bg-gradient-to-r from-amber-900/40 to-stone-900 border border-amber-350/30 flex items-center justify-between group hover:border-amber-350/60 transition-all shadow-lg shadow-amber-900/10",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"p-3 bg-amber-350/10 rounded-full text-amber-350 border border-amber-350/20 group-hover:scale-110 transition-transform",children:h.jsx(Oo,{size:20})}),h.jsxs("div",{className:"text-left",children:[h.jsx("h3",{className:"text-stone-100 font-serif font-medium text-lg",children:"Invent a new recipe"}),h.jsxs("p",{className:"text-stone-400 text-xs",children:['Using "',h.jsx("span",{className:"text-amber-350",children:i}),'" as inspiration']})]})]}),h.jsx(wo,{className:"text-stone-600 group-hover:text-amber-350 transition-colors"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-stone-500 text-[10px] font-bold uppercase tracking-widest mb-3 pl-1",children:"Suggestions"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Cx.map(c=>h.jsxs("button",{onClick:()=>o(`${c} ${i}`),className:"px-4 py-2 rounded-full bg-stone-900 border border-stone-800 text-stone-400 text-xs hover:border-amber-350/50 hover:text-amber-350 hover:bg-stone-800 transition-all",children:[c," ",i]},c))})]}),h.jsx("div",{className:"h-px bg-stone-800 w-full my-6"})]}),u.length>0?h.jsx("div",{className:"grid gap-4",children:u.map(c=>h.jsxs("div",{onClick:()=>t(c),className:"group relative bg-stone-900/40 border border-stone-800 rounded-2xl p-5 hover:bg-stone-900 hover:border-amber-900/50 transition-all cursor-pointer overflow-hidden",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h3",{className:"text-lg font-serif text-white group-hover:text-amber-350 transition-colors pr-4",children:c.title}),h.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded border ${c.difficulty==="Easy"?"border-green-900 text-green-500":c.difficulty==="Medium"?"border-yellow-900 text-yellow-500":"border-red-900 text-red-500"}`,children:c.difficulty})]}),h.jsx("p",{className:"text-stone-500 text-xs mb-4 line-clamp-2 leading-relaxed",children:c.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-stone-500 font-mono",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(il,{size:12})," ",c.totalTime]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(dn,{size:12})," ",c.cuisineStyle]})]}),h.jsxs("div",{className:"absolute right-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity transform group-hover:translate-x-0 translate-x-2 flex gap-2",children:[h.jsx("button",{onClick:d=>{d.stopPropagation(),r==null||r(c.id,d)},className:"p-2 bg-stone-800 rounded-full text-stone-500 hover:text-red-500 hover:bg-stone-700 transition-colors",title:"Delete Recipe",children:h.jsx(Py,{size:16})}),h.jsx("div",{className:"p-2 bg-stone-800 rounded-full text-amber-350",children:h.jsx(wo,{size:16})})]})]},c.id))}):h.jsx(h.Fragment,{children:i.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-10 text-center opacity-100",children:[h.jsxs("div",{className:"mb-8 opacity-50",children:[h.jsx(Oo,{className:"w-12 h-12 text-stone-700 mb-4 mx-auto",strokeWidth:1}),h.jsx("p",{className:"text-stone-500 font-serif text-lg",children:"Your cookbook is empty."}),h.jsx("p",{className:"text-stone-600 text-sm mt-2",children:"Start cooking to build your collection."})]}),h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsx("h4",{className:"text-stone-600 text-[10px] font-bold uppercase tracking-widest mb-4",children:"Try these ideas"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ex.map(c=>h.jsxs("button",{onClick:()=>o(c.text),className:"flex items-center gap-2 p-3 rounded-lg border border-stone-800 bg-stone-900/30 hover:bg-stone-800 hover:border-amber-350/30 hover:text-amber-350 transition-all text-xs text-stone-400 text-left",children:[c.icon,c.text]},c.text))})]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-20 text-center opacity-50",children:[h.jsxs("p",{className:"text-stone-600 text-sm",children:['No saved recipes match "',i,'".']}),h.jsx("p",{className:"text-stone-700 text-xs mt-1",children:"But you can invent one above!"})]})})]})]})},xx=({onBack:e,onSubmit:t})=>{const[n,o]=U.useState(""),r=()=>{n.trim().length>0&&t(n)},i=l=>{l.key==="Enter"&&l.metaKey&&r()};return h.jsxs("div",{className:"h-full w-full bg-stone-950 flex flex-col animate-fade-in text-stone-100 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-900/10 rounded-full blur-[100px] pointer-events-none"}),h.jsx("div",{className:"absolute bottom-[-10%] left-[-20%] w-[500px] h-[500px] bg-stone-800/30 rounded-full blur-[80px] pointer-events-none"}),h.jsx("div",{className:"absolute top-[10%] left-[10%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),h.jsx("div",{className:"absolute top-[20%] right-[15%] text-3xl opacity-10 animate-float-delayed pointer-events-none",children:""}),h.jsx("div",{className:"absolute bottom-[20%] left-[15%] text-5xl opacity-5 animate-float-delayed pointer-events-none",children:""}),h.jsx("div",{className:"absolute bottom-[10%] right-[20%] text-4xl opacity-10 animate-float pointer-events-none",children:""}),h.jsxs("div",{className:"p-6 flex items-center justify-between relative z-10",children:[h.jsx("button",{onClick:e,className:"p-2 rounded-full border border-stone-800 hover:bg-stone-800 transition-colors text-stone-400 hover:text-white",children:h.jsx(Ii,{size:20})}),h.jsxs("div",{className:"flex items-center gap-2 opacity-50",children:[h.jsx(dn,{size:16}),h.jsx("span",{className:"text-xs uppercase tracking-widest font-bold",children:"Kitchen Panel"})]}),h.jsx("div",{className:"w-10"})," "]}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 max-w-2xl mx-auto w-full relative z-10",children:[h.jsxs("div",{className:"text-center mb-8 space-y-2",children:[h.jsxs("h1",{className:"text-3xl md:text-5xl font-serif text-white",children:["What's in the ",h.jsx("span",{className:"text-amber-350",children:"pantry"}),"?"]}),h.jsxs("p",{className:"text-stone-500 text-sm md:text-base",children:["List your ingredients, leftovers, or specific cravings. ",h.jsx("br",{}),"We'll turn them into something gourmet."]})]}),h.jsxs("div",{className:"w-full relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-stone-800/10 rounded-2xl blur-sm transition-opacity opacity-0 group-focus-within:opacity-100"}),h.jsx("textarea",{value:n,onChange:l=>o(l.target.value),onKeyDown:i,placeholder:"I have: some slightly stale bread, 2 eggs, hot sauce, and half a lemon...",className:"w-full h-48 md:h-64 bg-stone-900/80 border border-stone-800 rounded-2xl p-6 text-lg text-white placeholder-stone-600 focus:outline-none focus:border-amber-350/50 focus:ring-1 focus:ring-amber-350/20 transition-all resize-none shadow-xl font-serif leading-relaxed relative z-10",autoFocus:!0}),h.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-stone-600 z-20 pointer-events-none",children:"CMD + Enter to submit"})]}),n.length>0&&n.length<10&&h.jsxs("div",{className:"mt-4 flex items-center gap-2 text-amber-500/80 text-xs animate-fade-in",children:[h.jsx(fa,{size:12}),h.jsx("span",{children:"Give the Muse a bit more to work with..."})]}),h.jsx("div",{className:"mt-8 w-full flex justify-center",children:h.jsxs("button",{onClick:r,disabled:n.trim().length===0,className:"group relative px-10 py-4 bg-stone-100 text-stone-950 rounded-full font-serif font-bold text-lg tracking-wide hover:bg-amber-350 disabled:opacity-50 disabled:hover:bg-stone-100 transition-all duration-300 flex items-center gap-3 shadow-lg hover:scale-105 hover:shadow-amber-900/20",children:[h.jsx(Oo,{className:"w-5 h-5 text-amber-600 group-hover:text-stone-900 transition-colors"}),h.jsx("span",{children:"Invent Recipe"})]})})]})]})};var O=(e=>(e.LANDING="LANDING",e.ABOUT="ABOUT",e.COOKBOOK="COOKBOOK",e.IDLE="IDLE",e.RECORDING="RECORDING",e.PROCESSING="PROCESSING",e.RECIPE_VIEW="RECIPE_VIEW",e.INGREDIENTS_INPUT="INGREDIENTS_INPUT",e.ERROR="ERROR",e))(O||{});const ss=["Tasting the air...","Consulting Grandma's secret stash...","Chopping onions (virtually)...","Checking the spice rack...","Inventing a new flavor...","Asking the stars for salt...","Simmering ideas...","Pairing flavors..."],_x=()=>{const[e,t]=U.useState(O.LANDING),[n,o]=U.useState(null),[r,i]=U.useState([]),[l,u]=U.useState(null),[c,d]=U.useState(null),[f,p]=U.useState(null),[m,g]=U.useState(ss[0]),[C,E]=U.useState(!1),[_,v]=U.useState([]),[y,T]=U.useState(null),[S,x]=U.useState(void 0);U.useEffect(()=>{try{const F=localStorage.getItem("chefMuseHistory");F&&i(JSON.parse(F))}catch(F){console.error("Failed to load history",F)}},[]),U.useEffect(()=>{let F;if(e===O.PROCESSING){let $=0;F=setInterval(()=>{$=($+1)%ss.length,g(ss[$])},2500)}return()=>clearInterval(F)},[e]);const I=F=>{p(F),setTimeout(()=>p(null),3e3)},w=F=>{if(r.some(D=>D.id===F.id))return;const $=[F,...r];i($),localStorage.setItem("chefMuseHistory",JSON.stringify($)),E(!0),I("Recipe saved to Cookbook")},P=(F,$)=>{$&&$.stopPropagation();const D=r.filter(Y=>Y.id!==F);i(D),localStorage.setItem("chefMuseHistory",JSON.stringify(D)),I("Recipe removed")},N=async F=>{t(O.PROCESSING),u(null),d(null),v(F.images),T(F.audio),x(void 0);try{const $=await gr(F.images,F.audio,F.audioMimeType,void 0,F.constraints||[]);o($),E(!1),t(O.RECIPE_VIEW)}catch($){G($)}},A=async F=>{t(O.PROCESSING),u(null),d(null),v([]),T(null),x(F);try{const $=await gr([],null,void 0,F);o($),E(!1),t(O.RECIPE_VIEW)}catch($){G($)}},V=async F=>{t(O.PROCESSING),u(null);try{const $=await gr(_,y,void 0,S,F);o($),E(!1),t(O.RECIPE_VIEW)}catch($){G($)}},X=async F=>{t(O.PROCESSING),g("Removing missing ingredients..."),u(null);const D=`Exclude ingredients: ${F.map(B=>B.replace(/\s*\(.*?\)\s*/g,"").trim()).filter(Boolean).join(", ")}`,b=[...(n==null?void 0:n.constraints)||[],D];try{const B=await gr(_,y,void 0,S,b);o(B),E(!1),t(O.RECIPE_VIEW)}catch(B){G(B)}},G=F=>{console.error("App Error:",F);let $="The Muse was silent.",D="We couldn't generate a recipe. Please try again.";const Y=F.message||"";Y.includes("API Key")?($="Configuration Error",D="The API Key is missing. Please check the environment configuration."):Y.includes("No response generated")||Y.includes("Candidate was blocked")?($="Inspiration blocked",D="The Muse couldn't understand the request or it was flagged. Try different wording."):Y.includes("fetch")||Y.includes("network")?($="Connection Lost",D="Please check your internet connection and try again."):Y.includes("JSON")&&($="Creative Confusion",D="The Muse hallucinated an invalid format. Trying again usually fixes this."),u($),d(D),t(O.ERROR)},re=()=>{t(O.IDLE),o(null),u(null)},Je=()=>{t(O.IDLE)},Z=()=>{t(O.ABOUT)},Ee=()=>{t(O.COOKBOOK)},M=()=>{t(O.INGREDIENTS_INPUT)},H=F=>{o(F),E(!0),v([]),T(null),x(void 0),t(O.RECIPE_VIEW)},q=()=>{t(O.LANDING)},j=()=>{t(C?O.COOKBOOK:O.LANDING)};return h.jsx("div",{className:"h-screen w-full bg-stone-950 text-stone-100 flex flex-col overflow-hidden",children:h.jsxs("main",{className:"flex-1 relative overflow-hidden",children:[h.jsxs(py,{children:[h.jsx("title",{children:"The Chef's Muse | AI-Powered Cooking Companion"}),h.jsx("meta",{name:"description",content:"Turn your fridge ingredients into culinary masterpieces with AI. Visual recipes, voice guidance, and zero waste cooking."}),h.jsx("meta",{name:"theme-color",content:"#0c0a09"}),h.jsx("meta",{property:"og:title",content:"The Chef's Muse - Cook with AI"}),h.jsx("meta",{property:"og:description",content:"No recipes? No problem. Use what you have."}),h.jsx("meta",{property:"og:image",content:"https://images.unsplash.com/photo-1556910103-1c02745a30bf?auto=format&fit=crop&q=80&w=1200"}),h.jsx("meta",{property:"og:type",content:"website"})]}),e===O.LANDING&&h.jsx("div",{className:"absolute inset-0 z-50 animate-fade-in",children:h.jsx(vx,{onStart:Je,onAbout:Z,onCookbook:Ee,onIngredientsInput:M})}),e===O.ABOUT&&h.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:h.jsx(Tx,{onBack:q})}),e===O.COOKBOOK&&h.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:h.jsx(Sx,{recipes:r,onSelectRecipe:H,onBack:q,onGenerateFromText:A,onDeleteRecipe:P})}),e===O.INGREDIENTS_INPUT&&h.jsx("div",{className:"absolute inset-0 z-50 bg-stone-950 animate-fade-in",children:h.jsx(xx,{onBack:q,onSubmit:A})}),(e===O.IDLE||e===O.RECORDING||e===O.PROCESSING||e===O.ERROR)&&h.jsx("div",{className:"absolute inset-0 transition-opacity duration-500 opacity-100",children:e===O.ERROR?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center space-y-6 bg-stone-900 animate-fade-in",children:[h.jsx("div",{className:"p-4 bg-stone-800 rounded-full text-amber-350/50",children:h.jsx(fa,{size:48})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h2",{className:"text-2xl font-serif text-white",children:l}),h.jsx("p",{className:"text-stone-400 max-w-xs mx-auto text-sm leading-relaxed",children:c})]}),h.jsx("button",{onClick:re,className:"px-8 py-3 bg-stone-100 text-stone-900 font-bold rounded-full hover:bg-amber-350 transition-colors",children:"Try Again"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Uy,{onCapture:N,onBack:q,isProcessing:e===O.PROCESSING}),e===O.PROCESSING&&h.jsxs("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center z-50 animate-fade-in",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-amber-350 blur-xl opacity-20 animate-pulse"}),h.jsx(wy,{className:"w-16 h-16 text-amber-350 animate-spin mb-6 relative z-10"})]}),h.jsxs("p",{className:"text-amber-350/90 font-serif italic text-xl animate-float min-h-[2rem] text-center px-4",children:['"',m,'"']})]})]})}),e===O.RECIPE_VIEW&&n&&h.jsx("div",{className:"absolute inset-0 bg-stone-900 z-40 animate-fade-in",children:h.jsx(yx,{recipe:n,onBack:j,onSave:w,onRemix:V,onRefine:X,isSaved:C})}),f&&h.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-[60] animate-slide-down",children:h.jsxs("div",{className:"bg-stone-800 text-stone-200 px-6 py-3 rounded-full shadow-xl border border-stone-700 flex items-center gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-350 animate-pulse"}),h.jsx("span",{className:"text-sm font-medium",children:f})]})})]})})},cm=document.getElementById("root");if(!cm)throw new Error("Could not find root element to mount to");const Ix=as.createRoot(cm);Ix.render(h.jsx(vt.StrictMode,{children:h.jsx(kp,{children:h.jsx(_x,{})})}));
